<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>The Road TWX</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="application-name" content="SugarCube" />
<meta name="version" content="2.37.3" />
<!--

SugarCube (v2.37.3): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var t="3.7.1",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=ue.call(t,"constructor")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)while(t=e[r++])n+=ce.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function p(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ce.escapeSelector=function(e){return(e+"").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",p="\\["+ge+"*("+t+")(?:"+ge+"*([*^$|!~]?=)"+ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+ge+"*\\]",g=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+p+")*)|.*)\\)|)",v=new RegExp(ge+"+","g"),y=new RegExp("^"+ge+"*,"+ge+"*"),m=new RegExp("^"+ge+"*([>+~]|"+ge+")"+ge+"*"),x=new RegExp(ge+"|>"),j=new RegExp(g),A=new RegExp("^"+t+"$"),D={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+p),PSEUDO:new RegExp("^"+g),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ge+"*(even|odd|(([+-]|)(\\d*)n|)"+ge+"*(?:([+-]|)"+ge+"*(\\d+)|))"+ge+"*\\)|)","i"),bool:new RegExp("^(?:"+f+")$","i"),needsContext:new RegExp("^"+ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ge+"*((?:-\\d)?\\d*)"+ge+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\([^\\r\\n\\f])","g"),P=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},M=function(){V()},R=J(function(e){return!0===e.disabled&&fe(e,"fieldset")},{dir:"parentNode",next:"legend"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+" "]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&U(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute("id"))?s=ce.escapeSelector(s):e.setAttribute("id",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+Q(l[o]);c=l.join(",")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return re(t.replace(ve,"$1"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,"input")&&e.type===t}}function _(t){return function(e){return(fe(e,"input")||fe(e,"button"))&&e.type===t}}function z(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&R(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function X(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function U(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",M),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,"*")}),le.scope=$(function(){return T.querySelectorAll(":scope")}),le.cssHas=$(function(){try{return T.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if("undefined"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+ge+"*(?:value|"+f+")"),e.querySelectorAll("[id~="+S+"-]").length||d.push("~="),e.querySelectorAll("a#"+S+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+ge+"*name"+ge+"*="+ge+"*(?:''|\"\")")}),le.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+" "]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||"").replace(O,P),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return"*"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+ge+")"+e+"("+ge+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(v," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,"$1"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:z(!1),disabled:z(!0),checked:function(e){return fe(e,"input")&&!!e.checked||fe(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,"input")&&"button"===e.type||fe(e,"button")},text:function(e){var t;return fe(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:X(function(){return[0]}),last:X(function(e,t){return[t-1]}),eq:X(function(e,t,n){return[n<0?n+t:n]}),even:X(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:X(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:X(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:X(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve," ")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ve,"$1"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+" "];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&U(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&U(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split("").sort(l).join("")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ce.find=I,ce.expr[":"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.tokenize=Y,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,"template")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener("DOMContentLoaded",P),ie.removeEventListener("load",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)["catch"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener("DOMContentLoaded",P),ie.addEventListener("load",P));var M=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)M(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},R=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(R,"ms-").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,z=new B,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:X.test(i)?JSON.parse(i):i)}catch(e){}z.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return z.hasData(e)||_.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=z.get(o),1===o.nodeType&&!_.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){z.set(this,n)}):M(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=z.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){z.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=_.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&K(e)&&"none"===ce.css(e,"display")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,"")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=e.nodeType&&(ce.cssNumber[t]||"px"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=_.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ne[s]=u)))):"none"!==n&&(l[c]="none",_.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement("div")),(be=C.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",le.option=!!xe.lastChild;var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement("div")),s=(Te.exec(o)||["",""])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),"script"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||"")&&n.push(o)}return f}var De=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(D)||[""]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,"events")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,"input")&&_.get(t,"click")||fe(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,"handle"),n=ce.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return fe(e,"table")&&fe(11!==t.nodeType?t:t.firstChild,"tr")&&ce(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);z.hasData(e)&&(o=z.access(e),a=ce.extend({},o),z.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&"string"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,"script"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||"")&&!_.access(u,"globalEval")&&ce.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):m(u.textContent.replace(Me,""),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,"script")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,"script")).length&&Ee(a,!f&&Se(e,"script")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return M(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),ze=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join("|"),"i");function Ge(e,t,n){var r,i,o,a,s=ze.test(t),u=e.style;return(n=n||Xe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,"$1")||void 0),""!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=["Webkit","Moz","ms"],Je=C.createElement("div").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?("content"===n&&(u-=ce.css(e,"padding"+Q[a],!0,i)),"margin"!==n&&(u-=ce.css(e,"border"+Q[a]+"Width",!0,i))):(u+=ce.css(e,"padding"+Q[a],!0,i),"padding"!==n?u+=ce.css(e,"border"+Q[a]+"Width",!0,i):s+=ce.css(e,"border"+Q[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Xe(e),i=(!le.boxSizingReliable()||n)&&"border-box"===ce.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===ce.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===ce.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=ze.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return ze.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each(["height","width"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):Ue(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Xe(e),o=!le.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===ce.css(e,"boxSizing",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,"border",!1,i)-.5)),s&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,"fxshow");for(r in n.queue||(null==(a=ce._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,"display")),"none"===(c=ce.css(e,"display"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,"display"),re([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=_.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,"fxshow"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=_.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each(["toggle","show","hide"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement("input"),ct=C.createElement("select").appendChild(C.createElement("option")),lt.type="checkbox",le.checkOn=""!==lt.value,le.optSelected=ct.selected,(lt=C.createElement("input")).value="t",lt.type="radio",le.radioValue="t"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return M(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&fe(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return M(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=Ct(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":_.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var St=/\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?"":e+""})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(St,""):null==e?"":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,"optgroup"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\?/;ce.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||ce.error("Invalid XML: "+(n?ce.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,"type")?e.type:e,h=ue.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,"events")||Object.create(null))[e.type]&&_.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==x(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},_t={},zt="*/".concat("*"),Xt=C.createElement("a");function Ut(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Xt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace($t,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(D)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Rt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Mt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),o=(At.test(f)?"&":"?")+"_="+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader("If-None-Match",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+zt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray("script",v.dataTypes)&&ce.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ce.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ce.active||ce.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&"withCredentials"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||ce.expando+"_"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ce.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),"script"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ce("<div>").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,"position"),c=ce(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ce.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===ce.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,"borderTopWidth",!0),i.left+=ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ce.css(r,"marginTop",!0),left:t.left-i.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===ce.css(e,"position"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ce.fn[t]=function(e){return M(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each(["top","left"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+"px":t})}),ce.each({Height:"height",Width:"width"},function(a,s){ce.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,n){var r;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},"undefined"==typeof e&&(ie.jQuery=ie.$=ce),ce});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string.min.js v1.5.0 | (c) 2023 Pieroxy | MIT license */
var LZString=function(){var r=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={};function t(r,o){if(!e[r]){e[r]={};for(var n=0;n<r.length;n++)e[r][r.charAt(n)]=n}return e[r][o]}var i={compressToBase64:function(r){if(null==r)return"";var n=i._compress(r,6,function(r){return o.charAt(r)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(r){return null==r?"":""==r?null:i._decompress(r.length,32,function(n){return t(o,r.charAt(n))})},compressToUTF16:function(o){return null==o?"":i._compress(o,15,function(o){return r(o+32)})+" "},decompressFromUTF16:function(r){return null==r?"":""==r?null:i._decompress(r.length,16384,function(o){return r.charCodeAt(o)-32})},compressToUint8Array:function(r){for(var o=i.compress(r),n=new Uint8Array(2*o.length),e=0,t=o.length;e<t;e++){var s=o.charCodeAt(e);n[2*e]=s>>>8,n[2*e+1]=s%256}return n},decompressFromUint8Array:function(o){if(null==o)return i.decompress(o);for(var n=new Array(o.length/2),e=0,t=n.length;e<t;e++)n[e]=256*o[2*e]+o[2*e+1];var s=[];return n.forEach(function(o){s.push(r(o))}),i.decompress(s.join(""))},compressToEncodedURIComponent:function(r){return null==r?"":i._compress(r,6,function(r){return n.charAt(r)})},decompressFromEncodedURIComponent:function(r){return null==r?"":""==r?null:(r=r.replace(/ /g,"+"),i._decompress(r.length,32,function(o){return t(n,r.charAt(o))}))},compress:function(o){return i._compress(o,16,function(o){return r(o)})},_compress:function(r,o,n){if(null==r)return"";var e,t,i,s={},u={},a="",p="",c="",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<r.length;i+=1)if(a=r.charAt(i),Object.prototype.hasOwnProperty.call(s,a)||(s[a]=f++,u[a]=!0),p=c+a,Object.prototype.hasOwnProperty.call(s,p))c=p;else{if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==o-1?(v=0,d.push(n(m)),m=0):v++;for(t=c.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=c.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete u[c]}else for(t=s[c],e=0;e<h;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),s[p]=f++,c=String(a)}if(""!==c){if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==o-1?(v=0,d.push(n(m)),m=0):v++;for(t=c.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=c.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete u[c]}else for(t=s[c],e=0;e<h;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==o-1){d.push(n(m));break}v++}return d.join("")},decompress:function(r){return null==r?"":""==r?null:i._decompress(r.length,32768,function(o){return r.charCodeAt(o)})},_decompress:function(o,n,e){var t,i,s,u,a,p,c,l=[],f=4,h=4,d=3,m="",v=[],g={val:e(0),position:n,index:1};for(t=0;t<3;t+=1)l[t]=t;for(s=0,a=Math.pow(2,2),p=1;p!=a;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=e(g.index++)),s|=(u>0?1:0)*p,p<<=1;switch(s){case 0:for(s=0,a=Math.pow(2,8),p=1;p!=a;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=e(g.index++)),s|=(u>0?1:0)*p,p<<=1;c=r(s);break;case 1:for(s=0,a=Math.pow(2,16),p=1;p!=a;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=e(g.index++)),s|=(u>0?1:0)*p,p<<=1;c=r(s);break;case 2:return""}for(l[3]=c,i=c,v.push(c);;){if(g.index>o)return"";for(s=0,a=Math.pow(2,d),p=1;p!=a;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=e(g.index++)),s|=(u>0?1:0)*p,p<<=1;switch(c=s){case 0:for(s=0,a=Math.pow(2,8),p=1;p!=a;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=e(g.index++)),s|=(u>0?1:0)*p,p<<=1;l[h++]=r(s),c=h-1,f--;break;case 1:for(s=0,a=Math.pow(2,16),p=1;p!=a;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=e(g.index++)),s|=(u>0?1:0)*p,p<<=1;l[h++]=r(s),c=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[c])m=l[c];else{if(c!==h)return null;m=i+i.charAt(0)}v.push(m),l[h++]=i+m.charAt(0),i=m,0==--f&&(f=Math.pow(2,d),d++)}}};return i}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module?module.exports=LZString:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return LZString});
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v3.0.5 | Copyright 2019 David Bau. | MIT license */
!function(f,a,c){var s,l=256,p="random",d=c.pow(l,6),g=c.pow(2,52),y=2*g,h=l-1;function n(n,t,r){function e(){for(var n=u.g(6),t=d,r=0;n<g;)n=(n+r)*l,t*=l,r=u.g(1);for(;y<=n;)n/=2,t/=2,r>>>=1;return(n+r)/t}var o=[],i=j(function n(t,r){var e,o=[],i=typeof t;if(r&&"object"==i)for(e in t)try{o.push(n(t[e],r-1))}catch(n){}return o.length?o:"string"==i?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[n,S(a)]:null==n?function(){try{var n;return s&&(n=s.randomBytes)?n=n(l):(n=new Uint8Array(l),(f.crypto||f.msCrypto).getRandomValues(n)),S(n)}catch(n){var t=f.navigator,r=t&&t.plugins;return[+new Date,f,r,f.screen,S(a)]}}():n,3),o),u=new m(o);return e.int32=function(){return 0|u.g(4)},e.quick=function(){return u.g(4)/4294967296},e.double=e,j(S(u.S),a),(t.pass||r||function(n,t,r,e){return e&&(e.S&&v(e,u),n.state=function(){return v(u,{})}),r?(c[p]=n,t):n})(e,i,"global"in t?t.global:this==c,t.state)}function m(n){var t,r=n.length,u=this,e=0,o=u.i=u.j=0,i=u.S=[];for(r||(n=[r++]);e<l;)i[e]=e++;for(e=0;e<l;e++)i[e]=i[o=h&o+n[e%r]+(t=i[e])],i[o]=t;(u.g=function(n){for(var t,r=0,e=u.i,o=u.j,i=u.S;n--;)t=i[e=h&e+1],r=r*l+i[h&(i[e]=i[o=h&o+t])+(i[o]=t)];return u.i=e,u.j=o,r})(l)}function v(n,t){return t.i=n.i,t.j=n.j,t.S=n.S.slice(),t}function j(n,t){for(var r,e=n+"",o=0;o<e.length;)t[h&o]=h&(r^=19*t[h&o])+e.charCodeAt(o++);return S(t)}function S(n){return String.fromCharCode.apply(0,n)}if(j(c.random(),a),"object"==typeof module&&module.exports){module.exports=n;try{s=require("crypto")}catch(n){}}else"function"==typeof define&&define.amd?define(function(){return n}):c["seed"+p]=n}("undefined"!=typeof self?self:this,[],Math);
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite;border:12px solid transparent;border-bottom-color:#7f7f7f;border-radius:50%;border-top-color:#7f7f7f;display:block;height:100px;width:100px}html[data-init=loading] #init-loading>div{text-indent:16128px;overflow:hidden;white-space:nowrap}html[data-init=loading] #story,html[data-init=loading] #ui-bar{display:none!important}</style>
<style id="style-font-icons" type="text/css">@font-face{font-family:sc-icons;font-display:block;src:url("data:application/octet-stream;base64,d09GRgABAAAAAFRoAAsAAAAAVBwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgD1IUnWNtYXAAAAFoAAACdAAAAnQzsxFSZ2FzcAAAA9wAAAAIAAAACAAAABBnbHlmAAAD5AAASzgAAEs4ynuL3WhlYWQAAE8cAAAANgAAADYc3WiNaGhlYQAAT1QAAAAkAAAAJAiCBP1obXR4AABPeAAAAfAAAAHwyjAFu2xvY2EAAFFoAAAA+gAAAPpXLER0bWF4cAAAUmQAAAAgAAAAIACEAIVuYW1lAABShAAAAcIAAAHCiTu08nBvc3QAAFRIAAAAIAAAACAAAwAAAAMDyQGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA+CoDgP+AAIADgACAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAlgAAACSAIAABgASAAEAIPAC8AXwDvAR8BPwFfAZ8CPwKPAu8E7wWvBe8GPwaPBq8G7wcfB48InwjfCT8JzwoPDC8MfwyfDQ8Nrw5/Dr8P7xDvEQ8SfxOvE+8ULxRPFG8UrxUvGG8YjxkfGr8d3x4PH48gXyRPKL8o3y6vLt8vHy+fMe813zgvQQ9Vr1b/V09cD2qfeM99n4Kv/9//8AAAAAACDwAvAE8AzwEPAT8BXwGfAj8CbwLvBI8FDwXvBg8GXwavBu8HDwd/CJ8I3wk/Cc8KDwwfDH8Mnw0PDX8Ofw6/D+8Q3xEPEn8TfxPvFB8UTxRvFK8VDxhfGI8ZHxq/Hd8eDx+PIE8kDyi/KN8ury7fLx8vnzHvNd84H0EPVa9W31dPXA9qn3jPfZ+Cn//f//AAH/4xACEAEP+w/6D/kP+A/1D+wP6g/lD8wPyw/ID8cPxg/FD8IPwQ+8D6wPqQ+kD5wPmQ95D3UPdA9uD2gPXA9ZD0cPOQ84DyIPEw8QDw4PDQ8MDwkPBA7SDtEOyQ6wDn8OfQ5mDlsOIQ3bDdoNfg18DXkNcg1ODRAM7QxgCxcLBQsBCrYJzgjsCKAIUQADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAIAAP+OA/IDgAArAEcAACUWFA8BBiIvAS4BPQEOASMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBgczMhYXJTI3PgE3NjU0Jy4BJyYjIgcOAQcGFRQXHgEXFgPyDg45DigOxwcHNYNIVkxMcSAhISBxTExWVkxMcSAhLykhCRIH/nU1Ly5GFBQUFEYuLzU1Ly5GFBQUFEYuLwsOKA45Dg7HBxIJISkvISBxTExWVkxMcSAhISBxTExWSIM1BwcOFBRGLi81NS8uRhQUFBRGLi81NS8uRhQUAAAAAAEAEv/TA+4DNQAjAAABFhceAQcGBwEGIicBJicmNjc2NzY3NhYXFh8BNzY3PgEXFhcDnS8YGQUUFCr+fRM1Ev59KxMUBRkYLyoxMWUvMCYnJyYwL2UxMikDAyg2NnI3Nyz+cBMTAZAsNzdyNjYoIw8OCBYWJykpJxYWCA4PIwAAAQA8/4cERANcABgAAAE2MhcTBR4BDwETFgYnJQUGJjcTJyY2NyUCBxFQEYMBJCgYHNQyB0Ej/vv++yNBBzLUHBknASQDXCQk/vgrBksczv7dKC4SiooSLigBI84cSwYrAAAAAAEADwARA/EC7wAVAAAlASY0PwE2Mh8BATYyHwEWFAcBBiInAVz+sw8PSA8rD+AB4A8rD0gPD/2zDyoPEQFNDyoPSQ8P4AHgDw9JDyoP/bMPDwAAAAEAEgAyAq4CzgAjAAABFxYUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFAcB5ckSEi0SNBPIyBM0Ei0SEsnJEhItEjQTyMgTNBItEhIBgMgTNBItEhLJyRISLRI0E8jIEzQSLRISyckSEi0SNBMAAwAA/44D8gOAACMAUABsAAABFRQGKwEVFAYrASImPQEjIiY9ATQ2OwE1NDY7ATIWHQEzMhYBBwYiLwEuAT0BDgEjIicuAScmNTQ3PgE3NjMyFx4BFxYVFAYHMzIWHwEWFAcBNCcuAScmIyIHDgEHBhUUFx4BFxYzMjc+ATc2AmAOCnAOCkAKDnAKDg4KcA4KQAoOcAoOAZI5DicOyAcHNYNIVkxMcSAhISBxTExWVkxMcSAhLykhCRIHxw4O/r4VFkkyMjg4MjFKFhUVFkkyMjg4MjFKFhUCAEAKDnAKDg4KcA4KQAoOcAoODgpwDv29OQ4OxwcSCSEpLyEgcUxMVlZMTHEgISEgcUxMVkiDNQcHxw4oDgIZODIxShYVFRZJMjI4ODIxShYVFRZJMjIAAAMAAP+OA/IDgAAPADwAWAAAARUUBiMhIiY9ATQ2MyEyFgEHBiIvAS4BPQEOASMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBgczMhYfARYUBwE0Jy4BJyYjIgcOAQcGFRQXHgEXFjMyNz4BNzYCYA4K/rAKDg4KAVAKDgGSOQ4nDsgHBzWDSFZMTHEgISEgcUxMVlZMTHEgIS8pIQkSB8cODv6+FRZJMjI4ODIxShYVFRZJMjI4ODIxShYVAgBACg4OCkAKDg79vTkODscHEgkhKS8hIHFMTFZWTExxICEhIHFMTFZIgzUHB8cOKA4CGTgyMUoWFRUWSTIyODgyMUoWFRUWSTIyAAAAAAIAEP+QA/ADgAA+AE4AAAEWFx4BFxYVFAcOAQcGIyInLgEnJjU0Nz4BNzY3NhYfARYGBw4BFRQXHgEXFjMyNz4BNzY1NCYnLgE/AT4BFwMUBisBIiY1ETQ2OwEyFhUDIC8nJjYPDycnhlpaZ2ZbWocoJw8ONyYmMBEqCx8JBw8+ShoaWz49RkU9PVwbGkdBDwcJHwsqEdAcFEAUHBwUQBQcAxQiLCxnOjs+Z1pahycnJyeGWltmPzo6aCwsIgwJEzgQIwsujVNFPT1cGhsaGlw9PkdOjjALIxA4EwkM/lwUHBwUAeAUHBwUAAAAAgAm/5wD2gNkAFMAXwAAAR4BBw4BBw4BLwEOAQcVFAYHBiInLgE9AS4BJwcGJicuAScmNj8BJjQ3Jy4BNz4BNz4BHwE+ATc1NDY3PgEXHgEdAR4BFzc2FhceARcWBg8BFhQHBTI2NTQmIyIGFRQWA88HBgIRNyUGEQdVGz4hCgk0bzcICyE+GlYHEQUlOBECBgdWBwdWBwYCETglBREHVRs+IQsING83CAshPhtVBxEFJTgRAgYHVQYG/oZCXl5CQl5eAQkFDwk1YCgGAwUxFyQLYwgNAgwMAg0IYwskFzEFAwYoYDUJDwQyIkcjMQQQCDZfKAcCBDEXIwxiCQ0CCwEMAg0JYgwjFzEEAgYpXzYIDwUxI0YjWl5CQl5eQkJeAAAAAAIAAP/ABIADQAAjAFcAAAE+ATMyFhcBERQGIyciJjU4ATE1NCYrASIGHQEUBiMHIiY1ESUeARUUBg8BDgEjIiYnAS4BIyIGBwEOASMiJi8BLgE1NDY3AT4BMzIWHwE1NDY7ATIWFRECMQMIBAQIAwFxEw3gDRMTDYANExMN4A0TA7cEBQMCMwQJBgQIA/4pAwgEBAgD/ikDCAQGCQQzAgMFBAH6DCARESAMsw4KcAoOAlcDAwMD/tH+uA0TARIOvw0TEw2/DhIBEw0BSGEDCgYECAM+BAUDAwGDAwMDA/59AwMFBD4DCAUFCgMBoQoMDAqTkQoODgr+6wAAAAQAAP+ABAADgAAWAC0AOQBFAAABMzIWFREzMhYHAQYiJwEmNjsBETQ2MwEVFAYjISImPQE0NjMhFxYyPwEhMhYVBzQmIyIGFRQWMzI2NzQmIyIGFRQWMzI2AbCgFByvGxQS/s8LIAv+zxMVGrAcFAJQHBT8YBQcHBQBJWIfVB9iASUUHPgXERAYFxEQGIAXERAYFxEQGAOAHBT+sDET/s8LCwExEzEBUBQc/RDgFBwcFOAUHGIeHmIcFLAQGBcREBgXERAYFxEQGBcAAAIAAP+AA4ADgAAgACkAAAEyFhURFAYjISImNRE0NjsBNTQ3PgE3NjMyFx4BFxYdASM1NCYjIgYdAQMgKDg4KP1AKDg4KDAYGFI4Nz8/NzhSGBigVDw8VAHAOCj+gCg4OCgBgCg4kD83OFIYGBgYUjg3P5CQPFRUPJAAAAABAAAADgIAAvIAEQAAATYWFREUBi8BIyImNRE0NjsBAa4WPDsXsswUHBwUzALyFhgg/WAgGBayHBQBIBQcAAAAAgAAAAwDAALwABEAKgAAATYWFREUBi8BIyImNRE0NjsBBR4BFRQGBwYmJyY2Nz4BNTQmJy4BNz4BFwGuFzs7F7LMFBwcFMwBqCsxMSsRJgoJCxEUFhYUEQsJCiYRAvAWGCD9YCAYFrIcFAEgFBwmGFIwMFIYCQsREiYJCyUWFiULCSYSEQsJAAQAAP+oBIADWAARADoAWwB0AAABNhYVERQGLwEjIiY1ETQ2OwEBFhceARcWFRQHDgEHBgcGJicmNjc2Nz4BNzY1NCcuAScmJy4BNz4BFxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEXFhceARcWFSUeARUUBgcGJicmNjc+ATU0JicuATc+ARcBrhc7OxeyzBQcHBTMAoU8Ly9CEhEREkIvLzwSJwoLCBExKCc2Dw4ODzYnKDERCAsLJxE/DAstHyApEiYKCggRPENDPBEICgsnECkgHy0LDP7kKzExKxEmCgkLERQWFhQRCwkKJhEC8hYYIP1gIBgWshwUASAUHAEYJzQ0ekRER0dERHo0NCcLCRARJwsgKytlODk7Ozk4ZSsrIAsnEREIC/4oMC0tUCMiGQwLDxEnCyZ7RkZ7JgsnERAJCxkiI1AtLTCaGFIwMFIYCQsREiYJCyUWFiULCSYSEQsJAAAAAAEAAP+AAwADgAAKAAAXETQ2MyEyFhURJQA4KAJAKDj+gIADoCg4OCj8YOAAAQCA/8ADAANAABkAABcRNDY7ATIWFREBNhYVERQGJwERFAYrASImgA4KYAoOAYcfSkof/nkOCmAKDigDUAoODgr+nwFqGiIp/QApIhoBaP6hCg4OAAAAAAEAAAAABAADAAAkAAA3ETQ2OwEyFhURATYWFREBNhYVERQGJwERFAYnAREUBisBIiY1AA4KUAoOAVcfSgFXH0pKH/6pSh/+qQ4KUAoOGALQCg4OCv7QATkaIin++AE5GiIp/YApIhoBNv77KSIaATb+0woODgoAAAIAFwAPBAAC8QALABcAABMmNDcBNhYVERQGJxMmNDcBNhYVERQGJxcXFwGAH0pKH4AXFwGAH0pKHwFPEzwTAUAaIin9gCkiGgFAEzwTAUAaIin9gCkiGgABAAD/jQNRA3MACwAAARYUBwEGJjURNDYXA1EvL/1AMGFmKwHTHG4c/mAcNzgDQD8tGQAAAgAA/8IDgANCAA8AHwAABSMiJjURNDY7ATIWFREUBiUUBisBIiY1ETQ2OwEyFhUBIMAoODgowCg4OAI4OCjAKDg4KMAoOD44KALAKDg4KP1AKDhgKDg4KALAKDg4KAAAAQAA/8ADgANAAA8AAAEyFhURFAYjISImNRE0NjMDICg4OCj9QCg4OCgDQDgo/UAoODgoAsAoOAACAAAADwPpAvEACwAXAAABFhQHAQYmNRE0NhcDFhQHAQYmNRE0NhcD6RcX/oAfSkofgBcX/oAfSkofAbETPBP+wBoiKQKAKSIa/sATPBP+wBoiKQKAKSIaAAAAAAEAAAAABAADAAAjAAABERQGKwEiJjURAQYmNREBBiY1ETQ2FwERNDYXARE0NjsBMhYEAA4KUAoO/qkfSv6pH0pKHwFXSh8BVw4KUAoOAuj9MAoODgoBMP7HGiIpAQj+xxoiKQKAKSIa/skBBikiGv7JAS4KDg4AAAEAgP/AAwADQAAZAAABERQGKwEiJjURAQYmNRE0NhcBETQ2OwEyFgMADgpgCg7+eR9KSh8Bhw4KYAoOAyj8sAoODgoBYf6WGiIpAwApIhr+mAFfCg4OAAACAAD/wAOAAyEADwAcAAAlFRQGIyEiJj0BNDYzITIWJSImNwE2MhcBFgYjIQOAJRv9ABslJRsDABsl/OA+MyoBYB1UHQFgKjM+/UCAgBslJRuAGyUlZXMuAYAfH/6ALnMAAAAAAQBF/9kCOwMnABUAABMBNjIfARYUBwkBFhQPAQYiJwEmNDdFAYUOKA4tDg7+zAE0Dg4tDigO/nsODgGiAYUODi4OJw/+y/7LDycOLg4OAYUOKA4AAQBF/9kCOwMnABUAAAkBBiIvASY0NwkBJjQ/ATYyFwEWFAcCO/57DigOLQ4OATT+zA4OLQ4oDgGFDg4BXv57Dg4uDicPATUBNQ8nDi4ODv57DigOAAAAAAIAEP+QA/ADcAAbAD8AAAEyFx4BFxYVFAcOAQcGIyInLgEnJjU0Nz4BNzYBNTQmKwE1NCYrASIGHQEjIgYdARQWOwEVFBY7ATI2PQEzMjYCAGdaWocnJycnh1paZ2daWocnJycnh1paAYcOCrgOCnAKDrgKDg4KuA4KcAoOuAoOA3AnJ4daWmdnWlqHJycnJ4daWmdnWlqHJyf92HAKDrgKDg4KuA4KcAoOuAoODgq4DgAAAAIAEP+QA/ADcAAbACsAAAEyFx4BFxYVFAcOAQcGIyInLgEnJjU0Nz4BNzYDITI2PQE0JiMhIgYdARQWAgBnWlqHJycnJ4daWmdnWlqHJycnJ4daWqECEAoODgr98AoODgNwJyeHWlpnZ1pahycnJyeHWlpnZ1pahycn/cAOCnAKDg4KcAoOAAACABD/kAPwA3AAGwBAAAABMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2ASc3NjQvASYiDwEnJiIPAQYUHwEHBhQfARYyPwEXFjI/ATY0JwIAZ1pahycnJyeHWlpnZ1pahycnJyeHWloBWoODBwdPBxQHgoIHFAdPBweDgwcHTwcUB4KCBxQHTwcHA3AnJ4daWmdnWlqHJycnJ4daWmdnWlqHJyf9joKCBxQHTwcHg4MHB08HFAeCggcUB08HB4ODBwdPBxQHAAIAEP+QA/ADcAAbADEAAAEUBw4BBwYjIicuAScmNTQ3PgE3NjMyFx4BFxYJATY0LwEmIgcBJyYiDwEGFB8BFjI3A/AnJ4daWmdnWlqHJycnJ4daWmdnWlqHJyf91wFwCQkuCRsJ/tSMCRsJLgkJ0AoaCgGAZ1pahycnJyeHWlpnZ1pahycnJyeHWlr+kgFwChoKLQkJ/tSMCQktChoK0AkJAAAAAwAQ/5AD8ANwABsASQBVAAABFAcOAQcGIyInLgEnJjU0Nz4BNzYzMhceARcWJSIGBwYWHwEWNjc+ATMyFhUUBgcOAR0BFBY7ATI2PQE0Nz4BNzY1NCcuAScmIwMiBhUUFjMyNjU0JgPwJyeHWlpnZ1pahycnJyeHWlpnZ1pahycn/h1RbykFAwhFCBMGGy8pHzwiHyNKDgpwCg4aGj4aGhQVQiopKw0mNjYmJjY2AYBnWlqHJycnJ4daWmdnWlqHJycnJ4daWuVCPgcTBjUGAwgiJSQeFh0REzw+CAoODgoDFQ4PKCEgOiwlJTcPEP4QNiYmNjYmJjYAAAAAAwAQ/5AD8ANwABsAJwBGAAABMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2FyIGFRQWMzI2NTQmEzU0JisBNTQmKwEiBh0BFBY7ARUjIgYdARQWOwEyNgIAZ1pahycnJyeHWlpnZ1pahycnJyeHWlpnIzExIyMxMU0OChgOCoAKDg4KGBgKDg4KsAoOA3AnJ4daWmdnWlqHJycnJ4daWmdnWlqHJyfcMSMjMTEjIzH+BDAKDsgKDg4KMAoOgA4KMAoODgAAAAADABD/kAPwA3AAGwArADsAAAEyFx4BFxYVFAcOAQcGIyInLgEnJjU0Nz4BNzYFJicuAQcGBwE2NzYmJyYnARYXHgE3NjcBBgcGFhcWFwIAZ1pahycnJyeHWlpnZ1pahycnJyeHWloBazE8PH4+PTUCASUQEQoaGzH9+DE8PH4+PTX9/yUQEQoaGzEDcCcnh1paZ2daWocnJycnh1paZ2daWocnJ+wxGxoKERAl/f81PT5+PDwx/fgxGxoKERAlAgE1PT5+PDwxAAEADv/ZA4ADJwAeAAAlBwYiJwEmNDcBNjIfARYUDwEhMhYdARQGIyEXFhQHAgMsDigO/nsODgGFDigOLA4P8QI/FBwcFP3B8Q8OBi0ODgGFDigOAYUODi0OKA7mHBRAFBzmDigOAAAAAQAA/9kDcgMnAB4AAAE3NjIXARYUBwEGIi8BJjQ/ASEiJj0BNDYzIScmNDcBfSwOKA4BhQ4O/nsOKA4sDg/x/cEUHBwUAj/xDw4C+i0ODv57DigO/nsODi0OKA7mHBRAFBzmDigOAAABABn/wANmAzIAHgAAEycmNDcBNjIXARYUDwEGIi8BERQGKwEiJjURBwYiJ0YtDg4BhQ4oDgGEDw8sDikO5RwUQBQc5g4oDgE9LA4oDgGFDg7+ew4nDi0OD/H9wRQcHBQCP/EPDgAAAAEAGf/OA2cDQAAeAAABFxYUBwEGIicBJjQ/ATYyHwERNDY7ATIWFRE3NjIXAzotDg7+ew4oDv57Dg4tDigO5hwUQBQc5g4oDgHDLA4oDv57Dg4BhQ4oDiwOD/ECPxQcHBT9wfEPDgAABAAA/8ADgANAABQAKQA+AFMAABM1NDY7ATIWHQEUBisBFRQGKwEiJgE0NjsBMhYdARQGKwEiJj0BIyImNQEyFh0BFAYrASImPQE0NjsBNTQ2MwEUBisBIiY9ATQ2OwEyFh0BMzIWFQAcFPgKDg4KqA4KUAoOAkAOCvgUHA4KUAoOqAoOASgKDhwU+AoODgqoDgr+KA4K+BQcDgpQCg6oCg4CGPgUHA4KUAoOqAoODgEaCg4cFPgKDg4KqA4K/igOCvgUHA4KUAoOqAoO/tgKDhwU+AoODgqoDgoAAAQAAP/AA4ADQAAUACkAPgBTAAABIyImPQE0NjsBMhYdATMyFh0BFAYlFAYrASImPQE0NjsBNTQ2OwEyFhURFAYrASImPQEjIiY9ATQ2OwEyFhUFFAYrASImPQE0NjsBMhYdARQGKwEDaPgUHA4KUAoOqAoODv3OHBT4Cg4OCqgOClAKDg4KUAoOqAoODgr4FBwBgA4KUAoOHBT4Cg4OCqgCABwU+AoODgqoDgpQCg4wFBwOClAKDqgKDg4K/LAKDg4KqA4KUAoOHBT4Cg4OCvgUHA4KUAoOAAEAAP/AA4ADQAAjAAABMhYdARQGIyERFAYrASImNREhIiY9ATQ2MyERNDY7ATIWFREDQBslJRv+4CUbQBsl/uAbJSUbASAlG0AbJQHgJRtAGyX+4BslJRsBICUbQBslASAbJSUb/uAAAQAAASADgAHgAA8AAAEyFh0BFAYjISImPQE0NjMDQBslJRv9ABslJRsB4CUbQBslJRtAGyUAAAADABD/kAPwA3AAGwAnADcAAAEUBw4BBwYjIicuAScmNTQ3PgE3NjMyFx4BFxYFIgYVFBYzMjY1NCYDEx4BOwEyNjcTNiYrASIGA/AnJ4daWmdnWlqHJycnJ4daWmdnWlqHJyf+ECY2NiYmNjZ9DgEOCWIJDgEOAQ4LfgsOAYBnWlqHJycnJ4daWmdnWlqHJycnJ4daWss2JiY2NiYmNgFL/vAKDQ0KARAKDw8AAwAAAAAEgAMAACgASQBlAAABHgEVFAYHBgcOAQcGIyInLgEnJicuATU0Njc2Nz4BNzYzMhceARcWFwE4ATEyNz4BNzY1MTQnLgEnJiMiBw4BBwYVFBceARcWMxE4ATEyFhUUBiMiJjU0NjceATMyNjU0Jic+ATMEeQMEBAMpOzuTVlVcXFVWkzs7KQMEBAMpOzuTVlVcXFVWkzs7Kf3HPDQ1ThYXFxZONTQ8PDQ1ThYXFxZONTQ8UHBwUE9wAwQLHRAoOAoJDBoNAZ0GDwgIDwZQQUFeGRoaGV5BQVAGDwgIDwZQQUFeGRoaGV5BQVD+wxcWTjU0PDw0NU4WFxcWTjU0PDw0NU4WFwHgcFBPcHBPDRoMCQo4KBAdCwQEAAAAAwAA/4AFAAOAAB8ATwB0AAAlMjY3Fw4BIyInLgEnJicuATU0Njc+ATcXFhceARcWMwUeARUUBg8BDgEjIiYnAS4BNTQ2PwE+ATMyFh8BPgEzMhceARcWFx4BFRQGBw4BByc+ATU4ATE0Jy4BJyYjMSIGBxc+ATU0Jic+ATMyFhUcARUUBgcCgA0aDWgmTihcVVaTOzspAwQEAw8mFNIEGBhNMjI5AnQFBwQDJwQOBwYKBPtnBQcEAycEDgcGCgT+QpVQXFVWkzs7KQMEBAMeUjKTDQ8XFk41NDw0XSWTAQIKCQ0bDU9vBgRgAwJQCgsaGV5BQVAGDwgIDwYeNxqiODAxSBQVdAUNBwYKBDMFBwQDA40FDQcGCgQzBQcEA8QjKBoZXkFBUAYPCAgPBjtnKnEbPSA8NDVOFhcjH3IFCgUQHQsEBG9OAQEBEB0OAAAAAwAN/4AEcwNQAAsAFwAnAAAlFgYjISImNwE2MhcDIgYVFBYzMjY1NCYDEx4BOwEyNjcTNiYrASIGBHMcODf8QDc4HAHgHG8bUyY2NiYmNjZ9DgEOCWIJDgEOAQ4LfgsOEDBgYDADQDAw/Ww2JiY2NiYmNgFL/vAKDQ0KARAKDw8AAAAAAQAZAIUDZwJ7ABUAAAkBFhQPAQYiJwkBBiIvASY0NwE2MhcB4gGFDg4uDicP/sv+yw8nDi4ODgGFDigOAnv+ew4oDi0ODgE0/swODi0OKA4BhQ4OAAAAAAEAGQCFA2cCewAVAAAlASY0PwE2MhcJATYyHwEWFAcBBiInAZ7+ew4OLg4nDwE1ATUPJw4uDg7+ew4oDoUBhQ4oDi0ODv7MATQODi0OKA7+ew4OAAEAPP+IAkADgAAPAAABEQUGJjcTJyY2NyUTPgEzAkD++yNBBzLUHBknASSDCCARA4D8kYkTLycBI84cSwYrAQgSEgAAAQAA/4kDAAOAAC0AAAEeARUUBiMhFRQGDwEGIi8BLgE9ASEiJjU0Nj8BIyImPQE0NjMhMhYdARQGKwECVEhkHBT+8AEBMAQUBDABAf7wFBxjSRhUFBwcFAIgFBwcFFQB0yF1TRQc0AIEAWAJCWABBALQHBRMdiHtHBRgFBwcFGAUHAAABAAA/4AEAAN1ABYAMAA8AEgAACUjIiY1ESMiJjcBNjIXARYGKwERFAYjJRUUBiMhIiY9ATQ2MyEVFBY7ATI2PQEhMhYHNCYjIgYVFBYzMjY3NCYjIgYVFBYzMjYCUKAUHK8bFBIBMQsgCwExExUbrxwUAbAcFPxgFBwcFAEQQi6gLkIBEBQc+BcREBgXERAYgBcREBgXERAYgBwUAVAxEwExCwv+zxMx/rAUHBDgFBwcFOAUHBAuQkIuEBzEEBgXERAYFxEQGBcREBgXAAAAAAEAAP+AA4ADgAAwAAABMhYVERQGIyEiJjURNDY7ATU0Nz4BNzYzMhceARcWHQEUBisBIiY9ATQmBw4BHQEhAyAoODgo/UAoODgoMBgXUzc3Pz84N1MYGBwUQBQcVTw8UwHwAYA4KP7AKDg4KAFAKDjNPzg4UxgZGBdTODc/IBQcHBQgPFUBAVU8zgAABAAAAAAEgAMAAA8AJAAwADwAAAEVFAYjISImPQE0NjMhMhYnITgBMSIGBxM+ATMhMhYXEy4BIzEHIgYVFBYzMjY1NCYjIgYVFBYzMjY1NCYEgDgo/EAoODgoA8AoOGD8QBEeD8IMKhkCGhkqDMIPHxBgGyUlGxslJdsbJSUbGyUlASDAKDg4KMAoODh4BgYBIRQXFxT+3wYGwCUbGyUlGxslJRsbJSUbGyUAAAIAFv+WA+oDagA+AH0AAAEWFxYUBwYHMAYxBwYHBiInJicmJyY0NzY/ATYWFx4BFxYGDwEOARcWMj8BNjQnLgEnLgE1JjY/AT4BFx4BFwEWFxYUBwYPAQYmJy4BJyY2PwE+AScmIg8BBhQXHgEXHgEVFgYPAQ4BJy4BJyYnJjQ3NjcwNjE3Njc2MhcWFwKNLRYWFhYsAYYtODh1ODgsLRYWFhYtSg8nAQEJCQMEBhsqAioqeCuGKioFCwUGBwELDSoIGAkLFQkBGi0WFhYWLUoPJwEBCQkDBAYbKgIqKngrhioqBQsFBgcBCw0qCBgJCxUJLRYWFhYsAYYtODh1ODgsAg0tODh0ODgsAYYtFhYWFi0sODh1ODgtSg8PFRs1GggSBxoqdysrKoYrdyoGCAMEDgcQIAwqCAIGCBEKARosODh1ODgtSg8PFRs1GggSBxoqdysrKoYrdyoGCAMEDgcQIAwqCAIGCBEKLTg4dDg4LAGGLRYWFhYtAAAAAQAA/8AFAANAADcAAAEWFx4BFxYVFAcOAQcGIyEiJy4BJyY1NDc+ATc2NzwBNTQ3PgE3NjMyFx4BFxYXPgEzMhYVFAYHBDMsJSY3DxAUFEYuLzX9IDw0NU4WFw4PMyMjKhkZVzo7QiwqKUcdHhQXNh5PcQcGAbsJFxdCKiouNS8uRhQUFxZONTQ8LysrRxobDwQIBEI7OlcZGQwLKh4dJA8RcU8SIxAAAwAA/8ADgANAABMAHwA0AAABHgEVERQGIyEiJjURNDYzITIWFwMyNjU0JiMiBhUUFhM0Ji8BLgEjISIGHQEUFjMhMjY9AQNkDQ84KP1AKDg4KAIYFCMN/DVLSzU1S0v1BAMHAwkF/jcKDg4KAdAKDgJ8DSMU/egoODgoAsAoOA8N/RxLNTVLSzU1SwJhBQkDBwMEDgrQCg4OCskAAwAA//gDgAMIAA8AHwAvAAATIiY9ATQ2MyEyFh0BFAYjASImPQE0NjMhMhYdARQGIwEiJj0BNDYzITIWHQEUBiMgDRMTDQNADRMTDfzADRMTDQNADRMTDfzADRMTDQNADRMTDQJ4Ew1QDRMTDVANE/7AEw1QDRMTDVANE/7AEw1QDRMTDVANEwAAAAAFAAD/gAQAA4AABwAPABcALQAxAAABLwE/AR8BBwUvAT8BHwEHAR8BDwEvATcTFhQHAQ4BIyImLwEmNDcBPgEzMhYXAzcnBwHAIEBAICBAQP7ANWtrNTVrawKLNWtrNTVra8ITE/0qCRgMDRcKqRMTAtYJGAwNFwp1rWatAsBAICBAQCAgwGs1NWtrNTX+lWs1NWtrNTUB7xM1E/0qCgkJCqkTNRMC1goJCQr+fK1mrQAAAAABACIAugJdAgAADAAAEyEyFgcBBiInASY2Mz8CAhsUE/7/DCEL/v4TFRsCADET/v4LCwECEzEAAAEAIgDAAl4CBgALAAAlISImNwE2MhcBFgYCQf3+GxUTAQILIgsBAhMVwDETAQILC/7+EzEAAAAAAQA6AGIBgAKeAAwAAAERFAYnASY0NwE2FhUBgDET/v4LCwECEzECgf3+GxUTAQILIgsBAhMVGwABAAAAYgFGAp4ADAAANxE0NhcBFhQHAQYmNQAxEwECCwv+/hMxfwICGxUT/v4LIgv+/hMVGwAAAAEAAP+AAnkDgAAZAAABMhYHAQ4BIyImNxMjIiY3Ez4BMyEyFgcDMwJQHBsO/qAGFwwXHQVc7RYcAkADGxIBIBgcBlXnAkAwGP2gCw0kFwGFIRUB4BIYJhb+/AAAAwAA/4ACwAOAABIANABKAAAXNSEVFAYPAQ4BKwEiJi8BLgE1AzQ3PgE3NjMyFx4BFxYVFAYHDgEHHAExITA0NS4BJy4BNSUyNjU0JiMiBw4BBwYVFBYzMjY1NDbAAUAGBSIJHBB8EBwJIgUGwBoaXkBATUlAQV8cHC4pGUEP/sAPQRkpLgFgDRMTDS4pKT0REhMNDRNeDU1NCRIIMw0QEA0zCBIJAi1GP0BhHR0bHGBAQElDdi8caTEBAQEBMWkcL3ZDoBMNDRMSET0pKS4NExMNQl4AAAAAAgAA/8ADgANAAA8AMwAAATIWFREUBiMhIiY1ETQ2MwE1NCYrATU0JisBIgYdASMiBh0BFBY7ARUUFjsBMjY9ATMyNgMgKDg4KP1AKDg4KAKADgq4DgpwCg64Cg4OCrgOCnAKDrgKDgNAOCj9QCg4OCgCwCg4/ghwCg64Cg4OCrgOCnAKDrgKDg4KuA4AAAAAAgAA/8AEAANAACAAQQAAATIWFREUBiMhIiY1ETQ3PgE3NjsBMhYdARQGKwEiBh0BITIWFREUBiMhIiY1ETQ3PgE3NjsBMhYdARQGKwEiBh0BA6AoODgo/wAoOBkZVzo7QhAUHBwUEDVL/mAoODgo/wAoOBkZVzo7QhAUHBwUEDVLAYA4KP8AKDg4KAHgQjs6VxkZHBRgFBxLNYA4KP8AKDg4KAHgQjs6VxkZHBRgFBxLNYAAAgAA/8AEAANAACAAQQAAATIWFREUBw4BBwYrASImPQE0NjsBMjY9ASMiJjURNDYzITIWFREUBw4BBwYrASImPQE0NjsBMjY9ASMiJjURNDYzA6AoOBkZVzo7QhAUHBwUEDVLoCg4OCj+wCg4GRlXOjtCEBQcHBQQNUugKDg4KANAOCj+IEI7OlcZGRwUYBQcSzWAOCgBACg4OCj+IEI7OlcZGRwUYBQcSzWAOCgBACg4AAAABwAA/4AEAAOAAAsAFwAjAC8AOwBHAFMAAAEUBiMiJjU0NjMyFgMyFhUUBiMiJjU0NgEyFhUUBiMiJjU0NgUUBiMiJjU0NjMyFhcyFhUUBiMiJjU0NiEyFhUUBiMiJjU0NgEyFhUUBiMiJjU0NgJgOCgoODgoKDhgKDg4KCg4OAHIKDg4KCg4OP1IOCgoODgoKDgaKDg4KCg4OAJ0KDg4KCg4OP3cKDg4KCg4OAMgKDg4KCg4OPz4OCgoODgoKDgBoDgoKDg4KCg4YCg4OCgoODjuOCgoODgoKDg4KCg4OCgoOAJMOCgoODgoKDgAAAAAAwAO/44D8gNyACUATABcAAAlFhQPAQYHBiInJicmJyY0NzY/ATYyHwEWFA8BBhQXFjI/ATYyFwMnJjQ/ATY3NjIXFhcWFxYUBwYPAQYiLwEmND8BNjQnJiIPAQYiJwEGIicBJjQ/ATYyFwEWFAcCYAcHWS04OHU4OCwtFhYWFi1ZBxQHTwcHWSoqKngqWQcUByJPBwdZLTg4dTg4LC0WFhYWLVkHFAdPBwdZKioqeCpZBxQHAdYOKA78jQ4OLQ4oDgNzDg5UBxQHWS0WFhYWLSw4OHU4OC1ZBwdPBxQHWSp4KioqWQcHAbpPBxQHWS0WFhYWLSw4OHU4OC1ZBwdPBxQHWSp4KioqWQcH/TEODgNzDigOLQ4O/I0OKA4AAAAAAgAQ/5AD8ANwABsAMQAABSInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBgkBFjI/ATY0LwE3NjQvASYiBwEGFBcCAGdaWocnJycnh1paZ2daWocnJycnh1pa/rUBDw4oDiIODsvLDg4iDigO/vEODnAnJ4daWmdnWlqHJycnJ4daWmdnWlqHJycBzv7xDg4iDigOy8sOKA4iDg7+8Q4oDgAAAAACABD/kAPwA3AAGwAxAAABMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2CQEmIg8BBhQfAQcGFB8BFjI3ATY0JwIAZ1pahycnJyeHWlpnZ1pahycnJyeHWloBS/7xDigOIg4Oy8sODiIOKA4BDw4OA3AnJ4daWmdnWlqHJycnJ4daWmdnWlqHJyf+MgEPDg4iDigOy8sOKA4iDg4BDw4oDgAAAAIAEP+QA/ADcAAbADEAABM0Nz4BNzYzMhceARcWFRQHDgEHBiMiJy4BJyYJAQYUHwEWMj8BFxYyPwE2NCcBJiIHECcnh1paZ2daWocnJycnh1paZ2daWocnJwHO/vEODiIOKA7Lyw4oDiIODv7xDigOAYBnWlqHJycnJ4daWmdnWlqHJycnJ4daWgFL/vEOKA4iDg7Lyw4OIg4oDgEPDg4AAAAAAgAQ/5AD8ANwABsAMQAAARQHDgEHBiMiJy4BJyY1NDc+ATc2MzIXHgEXFgkBNjQvASYiDwEnJiIPAQYUFwEWMjcD8Ccnh1paZ2daWocnJycnh1paZ2daWocnJ/4yAQ8ODiIOKA7Lyw4oDiIODgEPDigOAYBnWlqHJycnJ4daWmdnWlqHJycnJ4daWv61AQ8OKA4iDg7Lyw4OIg4oDv7xDg4AAAACAAD/gAOAA4AAMAA+AAABMhYVERQGIyEiJjURNDY7ATU0Nz4BNzYzMhceARcWHQEUBisBIiY9ATQmBw4BHQEhATU0JiMiBh0BFBYzMjYDICg4OCj9QCg4OCgwGBdTNzc/Pzg3UxgYHBRAFBxVPDxTAfD+8C8hIS8vISEvAYA4KP7AKDg4KAFAKDjNPzg4UxgZGBdTODc/IBQcHBQgPFUBAVU8zv7QYCEvLyFgIS8vAAMAEADwA/ACEAALABcAIwAAARQGIyImNTQ2MzIWNzIWFRQGIyImNTQ2ITIWFRQGIyImNTQ2ApBUPDxUVDw8VNA8VFQ8PFRU/Xw8VFQ8PFRUAYA8VFQ8PFRUVFQ8PFRUPDxUVDw8VFQ8PFQAAAMAMP+QAVADcAALABcAIwAAEzIWFRQGIyImNTQ2JzQ2MzIWFRQGIyImETQ2MzIWFRQGIyImwDxUVDw8VFRUVDw8VFQ8PFRUPDxUVDw8VAIQVDw8VFQ8PFTQPFRUPDxUVP18PFRUPDxUVAAAAAIAEP+QA/ADcAAbACcAAAEyFx4BFxYVFAcOAQcGIyInLgEnJjU0Nz4BNzYBNjQnJSYGFREUFjcCAGdaWocnJycnh1paZ2daWocnJycnh1paAU4ZGf6gFzAwFwNwJyeHWlpnZ1pahycnJyeHWlpnZ1pahycn/eAOOA7WDRsc/mAcGw0AAAIAAP/AA4ADQAAPAB8AAAEyFhURFAYjISImNRE0NjMTITI2PQE0JiMhIgYdARQWAyAoODgo/UAoODgoWAIQCg4OCv3wCg4OA0A4KP1AKDg4KALAKDj98A4KcAoODgpwCg4AAAACAAD/wAOAA0AADwAlAAAFISImNRE0NjMhMhYVERQGJQE2NC8BJiIHAScmIg8BBhQfARYyNwMg/UAoODgoAsAoODj+PwFwCQkuCRsJ/tSMCRsJLgkJ0AoaCkA4KALAKDg4KP1AKDjEAXAJGwkuCQn+1IwJCS4JGwnQCQkAAgAA/8ADgANAAA8AGwAAAREUBiMhIiY1ETQ2MyEyFgEXFjI/ATYmIyEiBgOAOCj9QCg4OCgCwCg4/Tn2BxQH9gsMEP4UEAwC4P1AKDg4KALAKDg4/r/2Bwf2Cx4eAAAAAgAA/8ADgANAAA8AHAAANxE0NjMhMhYVERQGIyEiJgEnJiIPAQYWMyEyNicAOCgCwCg4OCj9QCg4Asf2BxQH9gsMEAHsEAwLIALAKDg4KP1AKDg4AUH2Bwf2Cx4eCwAAAgAA/8ADgANAAA8AHAAAEyEyFhURFAYjISImNRE0NgE3NjQvASYGFREUFjdgAsAoODgo/UAoODgBQfYHB/YLHh4LA0A4KP1AKDg4KALAKDj9OfYHFAf2CwwQ/hQQDAsAAwAT/5MD7QNtAAsAMwBPAAABMhYVFAYjIiY1NDYFFhQPARcWBi8BBwYiLwEHBiY/AScmND8BJyY2HwE3NjIfATc2Fg8BAzY3NjQnJicmJyYiBwYHBgcGFBcWFxYXFjI3NgIAT3FxT09xcQI8ExS9QwceFcleCisJX8kUHgdDvhMTvkMHHhTJXwoqCl/JFB4HQ3olExMTEyUlMC9iLzAlJRMTExMlJTAvYi8wAkBxT09xcU9PcaEKKgpfyRQeB0O+ExO+QwceFMlfCioKX8kUHgdDvhMTvkMHHhXI/s0lMC9iLzAlJRMTExMlJTAvYi8wJSUTExMTAAABADb/gAPEA4AALAAABSInLgEnJjU0Nz4BNzYzMhYXHgEHBgcOAQcGFRQXHgEXFjc2FgcGBw4BBwYjAjZqXV2LKCkpKItdXWoYLxcQBg8vJSY0Dg8oKIRWVl0QEgskLC1lODg8gCgpi11dampdXosoKAQFAyEIGyUmWjM0Nl5QUG0YGBEDHA0tIyMxDQ0AAAACAAD/kwQAA4AASgBZAAABDgErARUUBgcXFhQHBiIvAQ4BIxE0JisBIgYVESImJwcGIicmND8BLgE9ASMiJicmNjsBNScmNDc2Mh8BITc2MhcWFA8BFTMyFgcBMhceARcWFSE0Nz4BNzYEAAEmGm8ODXgTExI2Em4lXDQOCjAKDjRcJW4SNhITE3gNDm8aJgEBJhtwXRMTEjYSbgHKbhI2EhMTXXAbJgH+Ai4pKT0REv5AEhE9KSkBPhokICE9HHkSNhITE20eIgHoCg4OCv4YIh5tExMSNhJ5HD0hICQaGyd1XhI2EhMTbW0TExI2El51JxsCQhIRPSkpLi4pKT0REgAAAAIAAP/AA4ADQAAPABwAAAUhIiY1ETQ2MyEyFhURFAYBBwYUHwEWNjURNCYHAyD9QCg4OCgCwCg4OP6/9gcH9gseHgtAOCgCwCg4OCj9QCg4Asf2BxQH9gsMEAHsEAwLAAUAAABABQACwAAKABQAXgBoAIIAAAEXIzc+ATEzMBYXATIWFREUBiMhEQU1NCYrATU0JisBIgYdASMiBh0BFBY7AQ4BBy4BJy4BDwIOARceARcOAQcOAR8BHgE3PgE3HgEXFjY/ATYmJy4BJz4BNzMyNjUlNDYzIREhIiY1NwYWOwEyNj8BMxceATsBMjYnAy4BKwEiBgcBMBZMFgULAQoFA6AUHBwU/dACAA4KgA4KIAoOgAoODgrlCh4UChIHBhIIDw0JBAYJFQwMGg4JBQUQBRQIEyQQESMTCRMFEAUFCA0bDB8sChcKDvtgHBQCMP3QFBx2BA4NLQgNAhN4EwINCC4MDgRzAg0HQQgNAgGoS0sSMDASARgcFP3gFBwCgPAgCg4gCg4OCiAOCiAKDhUsFQoVCggEBQgIBRUIDRoNCRIJBRMIHAkFBQwZDQ0ZDAUFCRwIEwUIEwkiRyMOCsAUHP2AHBRwDBQKB0BABwoUDAFSBwkJBwABAED/wAOAA0AAKgAAARUUBisBERQGKwEiJjURIxEUBisBIiY9ASMiJy4BJyY1NDc+ATc2MyEyFgOAEw1gEw1ADRNAEw1ADRNAQjs6VxkZGRlXOjtCAeANEwMgQA0T/SANExMNAuD9IA0TEw3gGRlXOjtCQjs6VxkZEwAAAQAA/4ADgAOAADYAAAEyFhUUBiMiJjU4ATE0NjcnDgEjIiY1NDYzMhYXNy4BNTQ2MzIWFRQGIyImJwceARUUBgcXPgECwFBwcFBQcAIDzRk9IlBwcFAiPRnNAwJwUFBwcFAiPRnNAwICA80ZPQEAcFBQcHBQCxUKgBQWcFBQcBYUgAoVC1BwcFBQcBYUgAoVCwsVCoAUFgACAAD/gAOAA4AAHQAoAAABMhYdARQGIyEiJj0BNDY7ATc+ATsBOAExMhYfATMBAyEDDgEjISImJwNgDRMTDfzADRMTDfATBhYO5Q4XBhPw/QoqAwAqAzcm/hQmNwMDQBMNQA0TEw1ADRMlDA8PDCX8mgKm/VomNDQmAAAAAwAAAAAEgAMAAB0AOQBQAAABMhceARcWFRQHDgEHBiMhIicuAScmNTQ3PgE3NjMBFBceARcWMzI3PgE3NjU0Jy4BJyYjIgcOAQcGATI3PgE3NjU0Jy4BJyYrARYXFhQHBgcDAFBFRmkeHh4eaUZFUP6AUEVGaR4eHh5pRkVQ/wAUFEYuLzU1Ly5GFBQUFEYuLzU1Ly5GFBQCgDUvLkYUFBQURi4vNWIxGRgYGTEDAB4eaUZFUFBFRmkeHh4eaUZFUFBFRmkeHv6ANS8uRhQUFBRGLi81NS8uRhQUFBRGLi/+yxQURi4vNTUvLkYUFDdCQopCQjcAAAACAAAAAASAAwAAHQA5AAABMhceARcWFRQHDgEHBiMhIicuAScmNTQ3PgE3NjMBMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWAwBPRkZpHh4eHmlGRVD+gE9GRmkeHh4eaUZFUAGANS8uRhQUFBRGLi81NS8uRhQUFBRGLi8DAB4eaUZFUE9GRmkeHh4eaUZFUE9GRmkeHv2AFBRGLi81NS8uRhQUFBRGLi81NS8uRhQUAAADAAAAQAUAAsAABwAhACUAAAEhESE1MzUjEzIWHQEzMhYVERQGKwEVFAYjISImNRE0NjMFESERBED8QAPAQEAgKDgQFBwcFBA4KPwAKDg4KAOg/MACQP6AgIABADgoIBwU/uAUHCAoODgoAcAoOMD/AAEAAAMAAABABQACwAAHACEAJQAAASERITUzNSMTMhYdATMyFhURFAYrARUUBiMhIiY1ETQ2MwURIREEQPxAA8BAQCAoOBAUHBwUEDgo/AAoODgoAuD9gAJA/oCAgAEAOCggHBT+4BQcICg4OCgBwCg4wP8AAQAAAwAAAEAFAALAAAcAIQAlAAABIREhNTM1IxMyFh0BMzIWFREUBisBFRQGIyEiJjURNDYzBREhEQRA/EADwEBAICg4EBQcHBQQOCj8ACg4OCgCIP5AAkD+gICAAQA4KCAcFP7gFBwgKDg4KAHAKDjA/wABAAADAAAAQAUAAsAABwAhACUAAAEhESE1MzUjEzIWHQEzMhYVERQGKwEVFAYjISImNRE0NjMFESERBED8QAPAQEAgKDgQFBwcFBA4KPwAKDg4KAFg/wACQP6AgIABADgoIBwU/uAUHCAoODgoAcAoOMD/AAEAAAIAAABABQACwAAHACEAAAEhESE1MzUjEzIWHQEzMhYVERQGKwEVFAYjISImNRE0NjMEQPxAA8BAQCAoOBAUHBwUEDgo/AAoODgoAkD+gICAAQA4KCAcFP7gFBwgKDg4KAHAKDgAAAAAAwAQ/5AD8ANwABsAKwA7AAABMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2ExE0JisBIgYVERQWOwEyNjcRNCYrASIGFREUFjsBMjYCAGdaWocnJycnh1paZ2daWocnJycnh1paRxMNYA0TEw1gDRPgEw1gDRMTDWANEwNwJyeHWlpnZ1pahycnJyeHWlpnZ1pahycn/XABQA0TEw3+wA0TEw0BQA0TEw3+wA0TEwACABD/kAPwA3AAGwArAAABMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2ARE0JiMhIgYVERQWMyEyNgIAZ1pahycnJyeHWlpnZ1pahycnJyeHWloBJxMN/sANExMNAUANEwNwJyeHWlpnZ1pahycnJyeHWlpnZ1pahycn/XABQA0TEw3+wA0TEwAAAAEAEP+QA/ADcABEAAABMhceARcWFRQHDgEHBiMiJy4BJyYnLgE/ATYyFx4BMzI3PgE3Njc2Jy4BJyYHDgEHFxYGIyEiJjURNDYfATY3PgE3NjMB/2daW4cnJycnh1paZzAtLlQmJiEIAQhPBxMHLnE+Rj0+WhoaAQEbG10+PkVAdC5TFxkg/vQUHDsXRyInJ1YvLzIDcCcnh1paZ2daWocnJwkJIRcYHgcUCE8HBigrGxpbPTxESD4+XBoaAQEuLFMXOxwUAQwgGRdHHxoZJAkKAAAABQAA/4ADgAOAAAkAFwAlADMAUQAAFxEhERQGIyEiJgERFBYzMjY1ETQmIyIGBxEUFjMyNjURNCYjIgYHERQWMzI2NRE0JiMiBgEyFh0BFAYjISImPQE0NjsBNz4BOwE4ATEyFh8BM0ADADgo/cAoOAIgEw0NExMNDRPAEw0NExMNDRPAEw0NExMNDRMCgA0TEw38wA0TEw3wEwYWDuUOFwYT8CACoP1gKDg4Aij+QA0TEw0BwA0TEw3+QA0TEw0BwA0TEw3+QA0TEw0BwA0TEwFTEw1ADRMTDUANEyUMDw8MJQAAAgAQ/5AD8ANwACsAWAAAAS4BIyIHDgEHBgcOASsBIiY3Njc+ATc2MzIXHgEXFhc3NhYVERQGIyEiJjcFITIWDwEeATMyNz4BNzY3PgE7ATIWBwYHDgEHBiMiJy4BJyYnBwYmNRE0NjMC5S53QDo1NVYfHw4CDQhzCw4CECwsgVJRWzIvL1cnJyJHFzscFP70IBkX/a4BDCAZF1Mud0A6NTVWHx8OAg0IcwsOAhAsLIFSUVsyLy9XJyciRxc7HBQCdSwvExNDLy44CAoRC1dJSmwfHwkKJBkZIEcXGSD+9BQcOxfyOxdTLC8TE0MvLjgIChELV0lKbB8fCQokGRkgRxcZIAEMFBwAAQAQ/5AD8ANwAEQAAAEyFx4BFxYXNzYWFREUBiMhIiY/AS4BJyYHDgEHBhcWFx4BFxYzMjY3NjIfARYGBwYHDgEHBiMiJy4BJyY1NDc+ATc2MwIBMi8vVicnIkcXOxwU/vQgGRdTLnRART4+XRsbAQEaGlo+PUY+cS4HEwdPCAEIISYmVC4tMGdaWocnJycnh1taZwNwCgkkGRofRxcZIP70FBw7F1MsLgEBGhpcPj5IRDw9WxobKygGB08IFAceGBchCQknJ4daWmdnWlqHJycAAAABAAD/wAOAA0AASAAAJRUUBiM4ATEjIiY/AScHFxYGKwEiJjU4ATE1NDYfATcnBwYmPQE0NjM4ATEzMhYPARc3JyY2OwEyFhU4ATEVFAYvAQcXNzYWFQOAHBTgIBkXSNbWSBcZIOAUHDsXSNfXSBc7HBTgIBkXSNbWSBcZIOAUHDsXSNfXSBc70OAUHDsXSNfXSBc7HBTgIBkXSNbXSRcZIOAUHDsXSNfXSBc7HBTgIBkXSNbXSRcZIAAAAAIAAP+ABAADgAAeADoAAAEyFhURFAYjISImNRE0NjMhMhYdARQGIyERITU0NjMTMhYVERQGLwEBDgEjIiYvAS4BNTQ2NwEnJjYzA2ANEzgo/UAoODgoAUANExMN/uACgBMNsBQcOxdH/hgGEgoKEQctBwcHBwHnRxcZIAEAEw3/ACg4OCgCwCg4Ew1ADRP9gOANEwKAHBT/ACAYFkf+GQcHBwctBxEKChIGAehHFzsAAgAA/8AFAANAADcATQAAARYXHgEXFhUUBw4BBwYjISInLgEnJjU0Nz4BNzY3PAE1NDc+ATc2MzIXHgEXFhc+ATMyFhUUBgcFNiYrATU0JisBIgYdASMiBh8BFjI3BDMsJSY3DxAUFEYuLzX9IDw0NU4WFw4PMyMjKhkZVzo7QiwqKUcdHhQXNh5PcQcG/vYQERWDEw1gDRODFREQ0goaCgG7CRcXQioqLjUvLkYUFBcWTjU0PC8rK0caGw8ECARCOzpXGRkMCyoeHSQPEXFPEiMQshAn4A0TEw3gJxDSCgoAAAAAAgAA/8AFAANAADcATgAAARYXHgEXFhUUBw4BBwYjISInLgEnJjU0Nz4BNzY3PAE1NDc+ATc2MzIXHgEXFhc+ATMyFhUUBgcFMjYvASYiDwEGFjsBFRQWOwEyNj0BMwQzLCUmNw8QFBRGLi81/SA8NDVOFhcODzMjIyoZGVc6O0IsKilHHR4UFzYeT3EHBv7gFREQ0goaCtIQERWDEw1gDRODAbsJFxdCKiouNS8uRhQUFxZONTQ8LysrRxobDwQIBEI7OlcZGQwLKh4dJA8RcU8SIxB7JxDSCgrSECfgDRMTDeAAAgAA/8AEAANAAA8ANAAAATIWFREUBiMhIiY1ETQ2MwEnNzY0LwEmIg8BJyYiDwEGFB8BBwYUHwEWMj8BFxYyPwE2NCcDoCg4OCj8wCg4OCgCmYaGBwdRBxUHhYUHFQdRBweGhgcHUQcVB4WFBxUHUQcHA0A4KP1AKDg4KALAKDj9u4WFBxUHUQcHhoYHB1EHFQeFhQcVB1EHB4aGBwdRBxUHAAACABMAAAUAAwAAFAA5AAABMhYVERQGIyEiJicBJjQ3AT4BMyEDJzc2NC8BJiIPAScmIg8BBhQfAQcGFB8BFjI/ARcWMj8BNjQnBIA1S0s1/RsaLxL+0xMTAS0RLxoC5ql8fAkJLgkbCXx8CRsJLgkJfX0JCS4JGwl8fAkbCS4JCQMASzX+ADVLExIBLhI2EgEtEhT+BHx8CRsJLgkJfX0JCS4JGwl8fAkbCS4JCXx8CQkuCRsJAAAAAwAA/4ADAAOAABEAJwAyAAABFBYzIREUBiMhIiY1ETQ2MyETNiYrATU0JisBIgYdASMiBh8BFjI3AR4BHQEhETMyFhcBwBwUARAcFP1gFBwcFAGQmQ8QFoITDUANE4IWEA/BChwKAVoHB/8ADAoRBwJwFBz9cBQcHBQDoBQc/UkPKKANExMNoCgPvwoKAqQHEQoMAQAHBwADAAD/gAR2A4AACgAaADYAAAEVIREzMhYfAR4BARYUDwEGJj0BIzUzNTQ2FwUUFjMhERQGIyEiJjURNDYzIREUFjMhESEiBhUDAP8ADAoRB8QHBwF2Cgq/ECeAgCcQ/ckTDQFgHBT9YBQcHBQBkBwUARD+oA0TAowMAQAHB8QHEf6CChwKwQ8QFoKAghYQD/kNE/7wFBwcFAOgFBz+8BQc/wATDQAAAAADAAD/gAQAA4AACQAUADcAABMzFSMiJj0BNDYBHgEdASERMzIWFwMUFjMhERQGIyEiJjURIRUUFj8BNjQvASYGHQEhETQ2MyERIODgDRMTA98HB/8ADAoRB24cFAEQHBT9YBQcAQAnEL8KCr8PKP8AHBQBkAFAgBMNQA0TAW4HEQoMAQAHB/7+FBz9cBQcHBQBEIIWEA/BChwKwQ8QFoICEBQc/vAAAAADAAD/gAMAA4AAEQAoADMAAAEUFjMhERQGIyEiJjURNDYzIRMyNi8BJiIPAQYWOwEVFBY7ATI2PQEzEx4BHQEhETMyFhcBwBwUARAcFP1gFBwcFAGQghYQD8EKHArBDxAWghMNQA0TgrAHB/8ADAoRBwJwFBz9cBQcHBQDoBQc/UAoD78KCr8PKKANExMNoAHuBxEKDAEABwcAAAACABP/gAQdA4AAIQAoAAABHgEPARMWBiMiJiclBQ4BIyImNxMnJjY3JRM+ATMyFhcTEzclJxEXAwP5Jxkc1DIFKRwHDwf++v76Bw8IHCgFMtQcGScBJYMIIBERIAmCMqX+6Xz5MAIpBksczv7dHywEA4qJBAQsHwEjzhxLBisBCBISEhL++P7foCn8/YWCARQAAAAAAgAAAA4D9wLyABEANQAAATYWFREUBi8BIyImNRE0NjsBBRcWFA8BBiIvAQcGIi8BJjQ/AScmND8BNjIfATc2Mh8BFhQHAa4XOzsXsswUHBwUzAKfXAkJLgoaCltbChoKLgkJXFwJCS4KGgpbWwoaCi4JCQLyFhgg/WAgGBayHBQBIBQcwFsKGgouCQlcXAkJLgoaCltbChoKLgkJXFwJCS4KGgoAAAAABAAJ/4kD9wN3ABYALABCAFgAAAEyFh0BFAYvAQcGIi8BJjQ/AScmNjsBNyImPQE0Nh8BNzYyHwEWFA8BFxYGIwMXFhQPAQYiLwEHBiY9ATQ2OwEyFgcBNhYdARQGKwEiJj8BJyY0PwE2Mh8BAZAUHDsXPscJGwkzCQnHQhcZIODgFBw7Fz7HCRsJMwkJx0IXGSAgxwkJMwkbCcc+FzscFOAgGRf9/Bc7HBTgIBkXQscJCTMJGwnHAUAcFOAgGRdCxwkJMwkbCcc+FzuAHBTgIBkXQscJCTMJGwnHPhc7/vDHCRsJMwkJx0IXGSDgFBw7FwIEFhgg4BQcOxc+xwkaCjMJCccAAAAABAAA/5YD9wOAABUANABAAEwAACUWFA8BBiIvAS4BNycjAzcFFRc2FhcnIgYHJyY2Nz4BFx4BDwEfATc2FhcWBgcOAQcnLgEjBwYWFwcGIicmNDcBAzI2NTQmIyIGFRQWA+oWFmkWPhbqIg4U1XzAgAEA1SpeI2kMGQykASgrOJJHDggKlReHlQobAxImNxQsGCceTSvPCAYM+CVqJiUlATHWFBwcFBQcHGkWPhZpFhbqI14q1QEAgMB81RQOImsDA6Q5bCs3JhIDGwqViBaVCggNR5M4Ex0LJx4gpCBAHfglJSZqJQEx/kUcFBQcHBQUHAAAAAMAAP+AA4ADgAAKACMAQQAAFwMhAw4BIyEiJicTBhY7ARUUFjsBMjY9ATMyNi8BLgEjIgYHATIWHQEUBiMhIiY9ATQ2OwE3PgE7ATgBMTIWHwEzaioDACoDNyb+FCY3A40PEBVzEw1ADRNzFREQsgULBwcLBQG3DRMTDfzADRMTDfATBhYO5Q4XBhPwJgKm/VomNDQmAWAQKuANExMN4CoQvAUFBQUBShMNQA0TEw1ADRMlDA8PDCUAAAAAAwAA/4ADgAOAAAkAIgBAAAAXESERFAYjISImEwYWOwEVFBY7ATI2PQEzMjYvAS4BIyIGBwEyFh0BFAYjISImPQE0NjsBNz4BOwE4ATEyFh8BM0ADADgo/cAoOLcPEBVzEw1ADRNzFREQsgULBwcLBQG3DRMTDfzADRMTDfATBhYO5Q4XBhPwIAKg/WAoODgBghAq4A0TEw3gKhC8BQUFBQFKEw1ADRMTDUANEyUMDw8MJQAAAQAAAAEAAII1aM1fDzz1AAsEAAAAAADcXxJIAAAAANxfEkgAAP+ABQADgAAAAAgAAgAAAAAAAAABAAADgP+AAAAFAAAAAAAFAAABAAAAAAAAAAAAAAAAAAAAfAQAAAAAAAAAAAAAAAAAAAAEAAAABAAAEgSAADwEAAAPAsAAEgQAAAAEAAAABAAAEAQAACYEgAAABAAAAAOAAAACAAAAAwAAAASAAAADAAAAA4AAgAQAAAAEAAAXA4AAAAOAAAADgAAABAAAAAQAAAADgACAA4AAAAKAAEUCgABFBAAAEAQAABAEAAAQBAAAEAQAABAEAAAQBAAAEAOAAA4DgAAAA4AAGQOAABkDgAAAA4AAAAOAAAADgAAABAAAEASAAAAFAAAABIAADQOAABkDgAAZBIAAPAMAAAAEAAAAA4AAAASAAAAEAAAWBQAAAAOAAAADgAAABAAAAAKAACICgAAiAYAAOgGAAAACgAAAAsAAAAOAAAAEAAAABAAAAAQAAAAEAAAOBAAAEAQAABAEAAAQBAAAEAOAAAAEAAAQAYAAMAQAABADgAAAA4AAAAOAAAADgAAAA4AAAAQAABMEAAA2BAAAAAOAAAAFAAAAA4AAQAOAAAADgAAABIAAAASAAAAFAAAABQAAAAUAAAAFAAAABQAAAAQAABAEAAAQBAAAEAOAAAAEAAAQBAAAEAOAAAAEAAAABQAAAAUAAAAEAAAABQAAEwMAAAAEgAAABAAAAAMAAAAEMAATBAAAAAQAAAkEAAAAA4AAAAOAAAAAAAAAAAoAFAAeAIoAygD8ASYBYAH4AnwC8gOEBAIEaASmBMYFCgW+BdQGAAY8BmgGggayBs4G/Ac4B2QHlgfAB+wIRgiKCO4JQAm+CiIKhgq6Cu4LIgtWC8QMMAxkDIAM1g1mDg4OUA58DqYOyA8KD3IPuBAOEMwRIBFuEbQSDhIqEkYSYhJ+EqwTGBNgE7oUFBSMFRwVbhXAFhIWZBa8FvIXKBdqF5wX2hgKGDoYahjmGS4ZsBngGpwa2hsmG2Qb4Bw6HHQcrhzoHSIdVh2uHfQeXh7QH1QfviAcIHQg5iFYIaoiBiJSIqYi+iNII5Ij5iRqJOQlQiWcAAAAAQAAAHwAgwAHAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAwAAAABAAAAAAACAAcAjQABAAAAAAADAAwARQABAAAAAAAEAAwAogABAAAAAAAFAAsAJAABAAAAAAAGAAwAaQABAAAAAAAKABoAxgADAAEECQABABgADAADAAEECQACAA4AlAADAAEECQADABgAUQADAAEECQAEABgArgADAAEECQAFABYALwADAAEECQAGABgAdQADAAEECQAKADQA4HNjLWljb25zLTkwMABzAGMALQBpAGMAbwBuAHMALQA5ADAAMFZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMHNjLWljb25zLTkwMABzAGMALQBpAGMAbwBuAHMALQA5ADAAMHNjLWljb25zLTkwMABzAGMALQBpAGMAbwBuAHMALQA5ADAAMFJlZ3VsYXIAUgBlAGcAdQBsAGEAcnNjLWljb25zLTkwMABzAGMALQBpAGMAbwBuAHMALQA5ADAAMEZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("woff")}</style>
<style id="style-font-emoji" type="text/css">@font-face{font-family:color-emoji;src:local("Twemoji Mozilla"),local("Apple Color Emoji"),local("Segoe UI Emoji"),local("Segoe UI Symbol"),local("Noto Color Emoji"),local("EmojiOne Color"),local("Android Emoji")}</style>
<style id="style-core" type="text/css">#store-area,tw-storydata{display:none!important;z-index:0}::-webkit-scrollbar{height:8px;width:8px}::-webkit-scrollbar-corner,::-webkit-scrollbar-track{background-color:#111}::-webkit-scrollbar-thumb{background-color:#333;border:1px solid #111}*{scrollbar-color:#333 #111;scrollbar-width:thin}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}html{font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Cantarell,Ubuntu,"Helvetica Neue",Helvetica,Arial,sans-serif,color-emoji;font-size:16px;line-height:1}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover,html[data-outlines] a:focus{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover,html[data-outlines] a.link-broken:focus{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}a.link-internal{-webkit-touch-callout:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover,html[data-outlines] button:focus{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}code,kbd,pre,samp,var{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Lucida Console","Courier New",Courier,monospace,monospace}pre{overflow:auto}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}html[data-outlines] input:focus,html[data-outlines] select:focus,html[data-outlines] textarea:focus,input:hover,select:hover,textarea:hover{background-color:#333;border-color:#eee}input:disabled,select:disabled,textarea:disabled{color:#333;background-color:transparent;border-color:#111}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error-toggle:hover,html[data-outlines] .error-view>.error-toggle:focus{background-color:transparent}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle::before,.error-view>.error::before,[data-icon-after]::after,[data-icon-before]::before,[data-icon]::before,a.link-external::after{font-family:sc-icons!important;font-style:normal;font-weight:400;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]::before{content:attr(data-icon)}[data-icon-before]::before{content:attr(data-icon-before);margin-right:.35em}[data-icon-after]::after{content:attr(data-icon-after);margin-left:.35em}.error-view>.error-toggle::before{content:"\f0da"}.error-view>.error-toggle.enabled::before{content:"\f0d7"}.error-view>.error::before{content:"\f071";margin-right:.35em}a.link-external::after{content:"\f35d";margin-left:.25em}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor::after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay{background-color:#000;height:200%;left:-50%;opacity:0;position:fixed;top:-50%;-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in;visibility:hidden;width:200%;z-index:100000}#ui-overlay.open{opacity:.8;-webkit-transition:visibility 0s;-o-transition:visibility 0s;transition:visibility 0s;visibility:visible}#ui-dialog{display:none;margin:0;max-width:66em;opacity:0;padding:0;position:fixed;top:50px;z-index:100100}#ui-dialog.open{display:block;opacity:1;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{background-color:#444;min-height:24px;position:relative}#ui-dialog-title{font-size:1.5em;margin:0;padding:.2em 3.5em .2em .5em;text-align:center;text-transform:uppercase}#ui-dialog-close{background-color:transparent;border:1px solid transparent;cursor:pointer;display:block;font-size:120%;height:92%;margin:0;padding:0;position:absolute;right:0;top:0;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;width:3.6em;font-family:sc-icons!important;font-style:normal;font-weight:400;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;height:calc(100% - 2.1em);line-height:1.5;min-width:300px;overflow:auto;padding:1em;text-align:left}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}@media (prefers-reduced-motion:reduce){#ui-overlay{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-ui-dialog-saves" type="text/css">#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves>h2{background-color:#222;font-size:inherit;margin:0;padding:.1em 0 .1em .4em}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em}#ui-dialog-body.saves td:first-child{display:none!important}#ui-dialog-body.saves td:nth-child(3){line-height:1.2;width:100%}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .details{font-size:75%;margin-left:.25em}#ui-dialog-body.saves #saves-list button{color:#eee;background-color:transparent;border:1px solid #444;height:2.237em;width:2.237em}#ui-dialog-body.saves #saves-list button:disabled{color:#444;border-color:#444}#ui-dialog-body.saves #saves-list button:not(:disabled):hover{background-color:#222;border-color:#ddd}#ui-dialog-body.saves #saves-list button.delete:not(:disabled),#ui-dialog-body.saves button[id=saves-clear]:not(:disabled){background-color:#911;border-color:#b33}#ui-dialog-body.saves #saves-list button.delete:not(:disabled):hover,#ui-dialog-body.saves button[id=saves-clear]:not(:disabled):hover{background-color:#b33;border-color:#d55}#ui-dialog-body.saves #saves-list button.load:not(:disabled){background-color:#161;border-color:#383}#ui-dialog-body.saves #saves-list button.load:not(:disabled):hover{background-color:#383;border-color:#5a5}#ui-dialog-body.saves .buttons li{padding:.4em}#ui-dialog-body.saves .buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves .buttons.slots>li:last-child{float:right}#ui-dialog-body.saves #saves-list button::before,#ui-dialog-body.saves .buttons button::before{font-family:sc-icons!important;font-style:normal;font-weight:400;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves .buttons button::before{margin-right:.35em}#ui-dialog-body.saves button.delete::before{content:"\f2ed"}#ui-dialog-body.saves button.delete:disabled::before{content:"\f1f8"}#ui-dialog-body.saves button.load::before{content:"\f04b"}#ui-dialog-body.saves button.save::before{content:"\f0c7"}#ui-dialog-body.saves button[id=saves-export]::before{content:"\f56e"}#ui-dialog-body.saves button[id=saves-import]::before{content:"\f56f"}#ui-dialog-body.saves button[id=saves-clear]::before{content:"\f2ed"}#ui-dialog-body.saves button[id=saves-clear]:disabled::before{content:"\f1f8"}#ui-dialog-body.saves button[id=saves-disk-save]::before{content:"\f56d"}#ui-dialog-body.saves button[id=saves-disk-load]::before{content:"\f574"}</style>
<style id="style-ui-dialog-settings" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.settings button[id|=setting-control].enabled::after,#ui-dialog-body.settings button[id|=setting-control]::after{font-family:sc-icons!important;font-style:normal;font-weight:400;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-left:.35em}#ui-dialog-body.settings button[id|=setting-control]::after{content:"\f204"}#ui-dialog-body.settings button[id|=setting-control].enabled::after{content:"\f205"}</style>
<style id="style-ui-dialog-legacy" type="text/css">#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.list a{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{background-color:#222;border-right:1px solid #444;height:100%;left:0;margin:0;padding:0;position:fixed;text-align:center;top:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in;width:17.5em;z-index:50}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:calc(100% - 2.5em);line-height:1.5;margin:2.5em 0;overflow:auto;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-tray button{color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-tray button:hover{background-color:#444;border-color:#eee}#ui-bar-tray button:disabled{color:#444;background-color:transparent;border-color:#444}button#ui-bar-toggle{border-right:none;position:absolute;right:0;top:0}#ui-bar-history{margin:0 auto}#ui-bar-history button:not(:first-child){margin-left:1.2em}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-tray button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a::before,#ui-bar-tray button::before{font-family:sc-icons!important;font-style:normal;font-weight:400;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-tray button::before{display:block;font-size:1.1em;width:1em}#ui-bar-toggle::before{content:"\f053"}#ui-bar.stowed #ui-bar-toggle::before{content:"\f054"}#ui-bar-tray #history-backward::before{content:"\f060"}#ui-bar-tray #history-jumpto::before{content:"\f0e7"}#ui-bar-tray #history-forward::before{content:"\f061"}#menu-item-continue a::before,#menu-item-restart a::before,#menu-item-saves a::before,#menu-item-settings a::before,#menu-item-share a::before{margin-right:.35em}#menu-item-continue a::before{content:"\f04b"}#menu-item-saves a::before{content:"\f0c7"}#menu-item-settings a::before{content:"\f013"}#menu-item-restart a::before{content:"\f011"}#menu-item-share a::before{content:"\f1e0"}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}</style>
<style id="style-ui-debug-bar" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:95%;max-width:66em;min-width:300px;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:8em;width:14em}#debug-bar>div>select{width:22em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:calc(100% + 1px);left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.75em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:280%;max-height:calc(95vh - 100%);position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-clear{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint::after,#debug-bar-passage-play::before,#debug-bar-toggle::before,#debug-bar-views-toggle::after,#debug-bar-watch .watch-delete::before,#debug-bar-watch-add::before,#debug-bar-watch-all::before,#debug-bar-watch-clear::before,#debug-bar-watch-toggle::after{font-family:sc-icons!important;font-style:normal;font-weight:400;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle::before{content:"\f188"}#debug-bar-hint::after{content:"\f188\202f\f061"}#debug-bar-watch .watch-delete::before{content:"\f00d"}#debug-bar-watch-add::before{content:"\f067"}#debug-bar-watch-all::before{content:"\f0d0"}#debug-bar-watch-clear::before{content:"\f2ed"}#debug-bar-views-toggle::after,#debug-bar-watch-toggle::after{content:"\f204";margin-left:.35em}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle::after,html[data-debug-view] #debug-bar-views-toggle::after{content:"\f205"}#debug-bar-passage-play::before{content:"\f04b"}</style>
<style id="style-ui-debug-views" type="text/css">html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid::after,html[data-debug-view] .debug[data-name][data-type]::before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]::before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]::before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid::after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]::before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid::after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty)::before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty)::after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]::before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="The Road TWX" startnode="105" creator="Twine" creator-version="2.9.2" format="SugarCube" format-version="2.37.3" ifid="8CC20598-2F94-46E9-B646-60A5C9942159" options="" tags="" zoom="1" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">img {
  width: 80%;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.tall_img {
  width: 50%;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.taller_img {
  width: 30%;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.square_img {
  width: 70%;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

img.perk_img {
  width: 150px;
  height: 150px;
  vertical-align: middle;
}

th.perk_table , td.perk_table, td.perk_title {
  padding: 4px;
}

td.perk_title {
  font-size: 18px;
  font-weight: bold;
}

tr.perk_table {
  border: 1px solid white;
}

.shop_section {
  display: inline-block;
  position: relative;
}

.shop_item {
  position: relative;
  display: inline-block;
  width: 285px;
}

img.shop_img {
  width: 144px;
  height: 144px;
  vertical-align: middle;
}

.item_desc {
  text-align: left;
  vertical-align: top;
}

img.costume_img {
  width: 200px;
  height: auto;
  vertical-align: top;
}

table.shop_table {
  width: 285px;
}

.costume {
  width: 208px;
  display: inline-block;
  position: relative;
  border: 1px solid white;
  text-align: center;
}

/* .costume_desc {
  text-align: middle;
  vertical-align: top;
} */

.hide {
  display: none;
}

.sissy_bar {
  background: magenta;
}

/* Sissy Progress Bar - Start */
progress.sissy_bar[value] {
  --color: magenta; /* the progress color */
  --background: lightgrey; /* the background color */
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  border: none;
  height: 8px;
  width: 212px;
  margin: 0 10px;
  border-radius: 10em;
  background: var(--background);
  position: relative;
  left: -10px;
}
progress.sissy_bar[value]::-webkit-progress-bar {
  border-radius: 10em;
  background: var(--background);
}
progress.sissy_bar[value]::-webkit-progress-value {
  border-radius: 10em;
  background: var(--color);
}
progress.sissy_bar[value]::-moz-progress-bar {
  border-radius: 10em;
  background: var(--color);
}
/* Sissy Progress Bar - End */

/* Slut Progress Bar - Start */
progress.slut_bar[value] {
  --color: red; /* the progress color */
  --background: lightgrey; /* the background color */
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  border: none;
  height: 8px;
  width: 212px;
  margin: 0 10px;
  border-radius: 10em;
  background: var(--background);
  position: relative;
  left: -10px;
}
progress.slut_bar[value]::-webkit-progress-bar {
  border-radius: 10em;
  background: var(--background);
}
progress.slut_bar[value]::-webkit-progress-value {
  border-radius: 10em;
  background: var(--color);
}
progress.slut_bar[value]::-moz-progress-bar {
  border-radius: 10em;
  background: var(--color);
}
/* Slut Progress Bar - End */

/* Font Size Buttons - Start */
.fullscreenImg {
	cursor: pointer;
	transition: 0.3s;
	border-radius: 3px;
	position: absolute;
	top: 40px;
	left: 252px;
	vertical-align: text-bottom;
	height: 25px;
	visibility: visible;
}
.fullscreenImg:hover {
	background: #444444;
}
#story {
	margin-left: 320px;
	margin-right: 40px;
}
@media screen and (max-width: 1136px) {
	#story {
		margin-left: 290px;
		margin-right: 24px;
	}
	#ui-bar.stowed~#story {
		margin-left: 42px;
	}
}
/* Font Size Buttons - End */

/* Icons that are sized like sidebar text */
.sidebar_icon {
  height: 25px;
  width: auto;
  display: inline-block;
  vertical-align: middle;
}

details > summary {
  color: #68d;
  cursor: pointer;
  font-size: 20px;
  font-weight: bold;
}

details > summary:hover {
  color: #8af;
}

details > summary:after {
  content: "◀";
  padding-left: 10px;
}

details[open] > summary:after {
  content: "▼";
  padding-left: 10px;
}

details > p {
  align-items: center;
  margin: 0;
  text-align: center;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">// cSpell:ignore curr, evnt, keyup, nokey, nokeys, numpad
// cSpell:enableCompoundWords

// Force the player to the "Game Over - She Hates You" passage if they let $mgAffection get too low.
Config.navigation.override = function (dest) {
  var sv = State.variables;

  // If $mgAffection is less-than-or-equal to -4, go to the "Game Over - She Hates You" passage instead.
  if (sv.girlAffection <= -4) {
    return "Game Over - She Hates You";
  }
};

// Alpha score and level bounding
$(document).on(':passagerender', function (ev) {
  var sv = State.variables;
  if (sv.alphaScore > sv.alphaMaxScore) {
    State.setVar("$alphaScore", sv.alphaMaxScore)
  }
  if (sv.alphaScore < sv.alphaMinScore) {
    State.setVar("$alphaScore", sv.alphaMinScore)
  }
  if (sv.alphaLevel > sv.alphaMaxScore) {
    State.setVar("$alphaLevel", sv.alphaMaxScore)
  }
  if (sv.alphaLevel < sv.alphaMinScore) {
    State.setVar("$alphaLevel", sv.alphaMinScore)
  }
});

/* Update the sidebar every time a link is clicked */
$(document).on(":passagerender", function (event) {
  $(event.content).find("a").on("click", function () {
    //$.wiki("<<updateSidebar>>");
    UI.update();
  });
});

/*
$(document).on(':passagerender', function (ex) {
  UI.alert("TEST alert TEST");
});
*/

/* SugarCube "Setting" toggle text changer v1.2 - Start */
setup.settingmods = {};
/*  For each setting you'd like to change the toggle text for, simply
    add something like the below example code, but with "example"
    replaced with the setting's name.  The array should have two
    entries, with the "false" text in the first entry and the "true"
    text in the second entry.  It will look something like this:

setup.settingmods["example"] = ["Disabled", "Enabled"];

*/

// SugarCube v2's "Util.slugify()" function.
function utilSlugify (str) {
  var base = String(str).trim();
  var _legacy = base.replace(/[^\w\s\u2013\u2014-]+/g, "").replace(/[_\s\u2013\u2014-]+/g, "-").toLocaleLowerCase();  // eslint-disable-line no-control-regex
  if (!/^-*$/.test(_legacy)) {
    return _legacy;
  }
  return base.replace(/[\x00-\x20!-/:-@[-^`{-\x9f]+/g, "").replace(/[_\s\u2013\u2014-]+/g, "-");  // eslint-disable-line no-control-regex
}

// The "easeInQuad" easing function; similar to the CSS "ease-in" transition.
$.easing.easeInQuad = function (p) {
  return Math.pow(p, 2);
};

// Modify the "Setting" dialog's toggles based on setup.settingmods.
$(document).on(":dialogopened", function (event) {
  var prop, btn;
  for (prop in setup.settingmods) {
    btn = $("#setting-control-" + utilSlugify(prop));
    if (btn.length > 0) {
      btn.off("click.settingmod").on("click.settingmod", { prop: prop }, function (evnt) {
        // Update the button text when it's toggled.
        var prp = evnt.data.prop;
        if ($(this).hasClass("enabled")) {
          $(this).html(setup.settingmods[prp][1]);
        } else {
          $(this).html(setup.settingmods[prp][0]);
        }
      });
      // Initial button text setup.
      if (btn.hasClass("enabled")) {
        btn.html(setup.settingmods[prop][1]);
      } else {
        btn.html(setup.settingmods[prop][0]);
      }
    }
  }
  // Fix dialog fade-in (modifying the dialog breaks the fade-in).
  $("#ui-dialog").fadeTo(200, 0.99999, "easeInQuad");
});
$(document).on(":dialogclosed", function (event) {
  // Reset opacity for fade-in fix.
  $("#ui-dialog").css("opacity", 0);
});
/* SugarCube "Setting" toggle text changer - End */

/* Settings code - Start */
var setPissPlayVar = function () {
  var sv = State.variables;
  if (settings.allowContentPissplay) {
    State.setVar("$allowContentPissplay", true);
  } else {
    State.setVar("$allowContentPissplay", false);
  }
};
Setting.addToggle("allowContentPissplay", {
  label    : "Enable pissplay content?",
  default  : true,
  onInit   : setPissPlayVar,
  onChange : setPissPlayVar
});

var setMaleCharsVar = function () {
  var sv = State.variables;
  if (settings.maleChars) {
    State.setVar("$maleChars", true);
  } else {
    State.setVar("$maleChars", false);
  }
};
Setting.addToggle("maleChars", {
  label    : "Male NPCs are Male or Futanari?",
  default  : true,
  onInit   : setMaleCharsVar,
  onChange : setMaleCharsVar
});
setup.settingmods["maleChars"] = ["Futa", "Male"];
/* Settings code - End */

/* Font size buttons - Start */
if (document.location.href.toLowerCase().includes("/temp/") || document.location.href.toLowerCase().includes("/private/") || hasOwnProperty.call(window, "storyFormat")) {
  setup.Path = "~/my_games/The_Road_TWX/DEV/";  // Running inside Twine application
} else {
  setup.Path = "";  // Running in a browser
}
setup.ImagePath = setup.Path + "images/";

// fontSize: Increase or decrease passage font size by "value" pixels.
window.fontSize = function(value) {
  $("#story").css("font-size", (parseInt($("#story").css("font-size")) + value) + "px");
};
/* Font size buttons - End */

/* TrackScroll code - Start */
// setup.currTurn = 1;
// State.variables.WinPosX = 0;
// State.variables.WinPosY = 0;
// $(document).on(":passageinit", function (event) {
//   if (State.length) {
//     State.history[setup.currTurn - 1].variables.WinPosX = window.scrollX;
//     State.history[setup.currTurn - 1].variables.WinPosY = window.scrollY;
//   }
// });
// $(document).on(":passageend", function (event) {
//   if ((State.variables.WinPosX) || (State.variables.WinPosY)) {
//     window.scroll(State.variables.WinPosX, State.variables.WinPosY);
//     State.variables.WinPosX = 0;
//     State.variables.WinPosY = 0;
//   }
//   setup.currTurn = State.length;
// });
/* TrackScroll code - End */

/* Keyboard links v1.2 - Start */
var KBIntervalID = 0;
$(document).on(":passagerender", function (ev) {
  clearInterval(KBIntervalID);
  UpdateLinks(ev.content);
  // Search passages for links every 300ms, just in case they get updated, and marks them for key clicks
  KBIntervalID = setInterval(UpdateLinks, 300);
});
// Adds key shortcut indicators to links in passage if there are less than 11 links in the passage.
function UpdateLinks(Container) {
  // Enables keyboard shortcuts on passages that do not have the "DisableKeyLinks" tag
  if (!tags().includes("DisableKeyLinks")) {
    var Links, i;
    if (typeof Container === "undefined") {
      Container = document;
      Links = $("#passages a").toArray();
    } else {
      Links = $(Container).find("a").toArray();
    }
    if (Links.length > 0) {
      for (i = Links.length - 1; i >= 0; i--) {
        if ($(Links[i]).data("nokeys") || $(Links[i]).parent().data("nokeys")) {
          Links.deleteAt(i);
        }
      }
    }
    if (Links.length === 1) {
      if (!Links[0].id.includes("Link")) {
        Links[0].id = "NextLink";
      }
    } else if (Links.length >= 1 && Links.length <= 10) {
      var n = 1;
      for (i = 0; i < Links.length; i++) {
        if (!Links[i].id.includes("Link")) {
          while ($(Container).find("#Link" + n).length) {
            ++n;
            if (n > 10) {
              break;
            }
          }
          if (n < 10) {
            $("<sup>[" + n + "]</sup>").appendTo(Links[i]);
            Links[i].id = "Link" + n;
          } else if (n === 10) {
            $("<sup>[0]</sup>").appendTo(Links[i]);
            Links[i].id = "Link0";
            break;
          } else {
            break;
          }
        }
      }
    }
  }
}
$(document).on("keyup", function (e) {
  // Enables keyboard shortcuts on passages that do not have the "DisableKeyLinks" tag
  if (!tags().includes("DisableKeyLinks") && ($("input:focus").length === 0)) {
    // Trigger next link click on right arrow key or "1" (normal and numpad)
    if (((e.key == "ArrowRight") || (e.key == "1") || (e.keyCode === 97)) && ($("#NextLink").length > 0)) {
      if (!(tags().includes("IgnoreArrowKeys") && (e.key == "ArrowRight"))) {
        e.preventDefault();
        $("#NextLink").click();
        return false;
      }
    } else {
      // Trigger link click on keys "0" through "9"
      if ((e.keyCode > 47) && (e.keyCode < 58)) {
        if ($("#Link" + (e.keyCode - 48)).length) {
          e.preventDefault();
          $("#Link" + (e.keyCode - 48)).click();
          return false;
        }
      }
      // Trigger link click on numpad keys "0" through "9"
      if ((e.keyCode > 95) && (e.keyCode < 106)) {
        if ($("#Link" + (e.keyCode - 96)).length) {
          e.preventDefault();
          $("#Link" + (e.keyCode - 96)).click();
          return false;
        }
      }
    }
    // Trigger random click on "." or "r" key
    if ((e.key == ".") || (e.key == "r")) {
      e.preventDefault();
      var Links = $("#passages a"), n, UsableLinks = [];
      if (Links.length > 0) {
        for (n = 0; n < Links.length; n++) {
          if (!$(Links[n]).data("nokey")) {
            UsableLinks.push(n);
          }
        }
        if (UsableLinks.length > 0) {
          n = random(UsableLinks.length - 1);
          Links[UsableLinks[n]].click();
          return false;
        }
      }
    }
    // Trigger back click on left arrow key or backquote
    if ((e.key == "ArrowLeft") || (e.key == "`")) {
      if ((!tags().includes("IgnoreArrowKeys")) || (e.key != "ArrowLeft")) {
        e.preventDefault();
        Engine.backward();
        return false;
      }
    }
  }
});
/* Keyboard links - End */</script><tw-tag name="Top" color="blue"></tw-tag><tw-tag name="All" color="green"></tw-tag><tw-tag name="AllPages" color="green"></tw-tag><tw-tag name="Bottom" color="red"></tw-tag><tw-tag name="Config" color="yellow"></tw-tag><tw-tag name="General" color="gray"></tw-tag><tw-tag name="Menu" color="purple"></tw-tag><tw-tag name="Shop" color="orange"></tw-tag><tw-passagedata pid="1" name="Hello Stranger" tags="General" position="600,425" size="100,100">!Hello Stranger
//It&#39;s Friday night. You&#39;re at the bar on the far side of town.\
  Things haven&#39;t exactly been going great, and after the week you just had, you need a drink.\
  All the regular bars by you are overflowing with assholes lately\
  and you just want a quiet place to get away for a little bit and maybe find someone to talk to that isn&#39;t a total mess.

As you sip your drink, a blue-haired girl approaches you smiling and says://\
  @@color:deepskyblue;&quot;Hey there stranger!\
  You&#39;re not from around here, are you?\
  I feel like I would have noticed you before.&quot;@@

//She has an amazingly tight body and she sits as if she wants you to notice it.\
  It&#39;s been //way// too long since you&#39;ve had any kind of attention from the fairer sex,\
  so getting chatted up by a hottie like her is more than welcome.//

&lt;img src=&quot;images/ep01/hello_stranger_01.jpg&quot; alt=&quot;A cute blue-haired girl at the bar&quot; width=&quot;100%&quot; height=&quot;auto&quot;&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;helloStrangerChoose&quot;&gt;
  You were drinking:
  &lt;ul&gt;
      &lt;li id=&quot;helloStrangerOpt1&quot; title=&quot;Sissy +1&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;A cosmo@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerChoice1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;helloStrangerOpt2&quot; title=&quot;Slut +1&quot;&gt;
        &lt;&lt;link &quot;@@color:red;Beer@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerChoice2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;helloStrangerOpt3&quot; title=&quot;Alpha +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Whiskey@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerChoice3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod +1)&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;li id=&quot;helloStrangerOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#helloStrangerOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#helloStrangerOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#helloStrangerOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#helloStrangerOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#helloStrangerOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#helloStrangerOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#helloStrangerOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;helloStrangerEnd&quot; class=&quot;hide&quot;&gt;\
  //You set down your\
  &lt;span id=&quot;helloStrangerChoice1&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
    @@color:magenta;cosmo, regretting for a moment your choice of girly drink,@@\
  &lt;/span&gt;\
  &lt;span id=&quot;helloStrangerChoice2&quot; class=&quot;hide&quot; title=&quot;Slut +1&quot;&gt;\
    @@color:red;beer@@\
  &lt;/span&gt;\
  &lt;span id=&quot;helloStrangerChoice3&quot; class=&quot;hide&quot; title=&quot;Alpha +1&quot;&gt;\
    @@color:cyan;whiskey@@\
  &lt;/span&gt;\
  and turn to talk to her.//

  //She&#39;s amazingly fun to talk to and keeps openly flirting with you.\
    She keeps paying for the drinks too; something about not needing to worry about money,\
    which suits you just fine, nearly broke as you are.//

  You:
* &lt;&lt;link &quot;Keep flirting ▶▶▶&quot; &quot;Fun in the Bathroom&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
[[Fun in the Bathroom]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="2" name="Fun in the Bathroom" tags="General" position="600,575" size="100,100">!Fun in the Bathroom
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set _randOps = [true, false]&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
//You&#39;re not quite sure how it happens, but before you know it,\
  you&#39;re making out with this insanely hot girl in the bar&#39;s bathroom.\
  She turns out to be quite aggressive, just as she was when flirting.\
  You&#39;re not making out with //&#39;&#39;her&#39;&#39;; &#39;&#39;she&#39;s&#39;&#39;// making out with //&#39;&#39;you&#39;&#39;//.//

&lt;&lt;if $inChastity isnot true&gt;&gt;\
  //She keeps rubbing your dick through your jeans, teasing you incessantly as you make out.\
    Finally, she pulls your hard cock out and you think,// @@color:coral;&quot;This is it!&quot;@@

  //Taking some real initiative for the first time tonight, you turn her around,\
    preparing to bend her over and fuck her right here in the stall.//
&lt;&lt;else&gt;&gt;
  //She goes to rub your dick through your pants.
    With all the drinks, you&#39;d nearly forgotten that you were locked up without a key!

  She gives you a wicked smile,// @@color:deepskyblue;&quot;Oh what&#39;s this!? This must be my lucky day!\
    C&#39;mon, pull it out, let me see.&quot;@@

  //Bashfully, you comply, pulling down your pants and pulling out your locked up $mcDick.//

  @@color:deepskyblue;&quot;Oh, it&#39;s so cute! Y&#39;know, I&#39;ve been looking for a boy like you.\
    We&#39;re gonna have sooo much fun!&quot;@@

  &lt;img class=&quot;taller_img&quot; src=&quot;images/ep01/fun_in_bathroom_holding_balls_01.jpg&quot;&gt;\

  //She cups your balls with one hand, grabs one of your hands, and starts to guide it into her underwear.//\
    @@color:deepskyblue;&quot;Here, you showed me yours so I&#39;ll show you mine.&quot;@@&lt;br&gt;
&lt;&lt;/if&gt;&gt;
&lt;img src=&quot;images/ep01/fun_in_the_bathroom_01.jpg&quot; alt=&quot;Reaching into her shorts&quot;&gt;\

You reach into her panties and find:
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  &lt;li&gt;[[Her pussy ▶▶▶|Her Place][$mgTrans to false]]&lt;/li&gt;
  &lt;li&gt;[[A dick ▶▶▶|Her Place][$mgTrans to true]]&lt;/li&gt;
  &lt;li&gt;&lt;&lt;link &quot;Random ▶▶▶&quot; &quot;Her Place&quot;&gt;&gt;&lt;&lt;set $mgTrans to _randOps.random()&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="3" name="Her Place" tags="General" position="600,725" size="100,100">!Her Place
&lt;&lt;if $mgTrans is true&gt;&gt;\
  //Surprise! She&#39;s a trap and you are holding a growing dick! ...But she&#39;s hot, and you&#39;re a little drunk. That&#39;s not gay right?//
&lt;&lt;else&gt;&gt;\
  //You feel her hot, wet pussy as it swallows your fingers; she&#39;s clearly ready for action.//
&lt;&lt;/if&gt;&gt;\

&lt;&lt;if $inChastity isnot true&gt;&gt;\
  @@color:deepskyblue;&quot;Not here!&quot;@@ //$mgName says, stopping you.//\
    @@color:deepskyblue;&quot;It&#39;s too public. Let&#39;s go to my place; it&#39;s close.&quot;@@

  //You&#39;re reluctant to stop, but there&#39;s alcohol swirling in your system and horny as you are,\
    you know you&#39;re not thinking straight.\
    You zip yourself back up and follow her out of the bar,\
    your eyes never leaving her alluring frame.//
&lt;&lt;else&gt;&gt;\
  @@color:deepskyblue;&quot;Alright, c&#39;mon.\
    We&#39;re going back to my place; it&#39;s close,&quot;@@ //she says, leaning in and biting your ear.//\
    @@color:deepskyblue;&quot;I know //just// what I&#39;m going to do with you.&quot;@@
&lt;&lt;/if&gt;&gt;\

//It&#39;s only a short walk to her place and she keeps teasing you the whole way.\
  You&#39;re practically ready to explode by the time you arrive.\
  She pulls you inside, kissing and teasing you all the way up to her bedroom where you both flop down on her bed.//

&lt;img src=&quot;images/ep01/her_place_01.jpg&quot; alt=&quot;Girl on bed topless&quot;&gt;\

//You start to undress, but she stops you. She blushes and says,// @@color:deepskyblue;&quot;OK, look, I like you, but here&#39;s the thing... Usually I do the fucking.&quot;@@ //She gives you pointed look, gesturing//\
&lt;&lt;if $mgTrans is true&gt;&gt;\
  //to her growing erection.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/her_place_trans_01.jpg&quot;&gt;\
&lt;&lt;else&gt;&gt;\
  // to her side table where a strap-on and harness rest, ready to go.//
&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $inChastity isnot true&gt;&gt;
  @@color:deepskyblue;&quot;So, uh... will you take it in the ass?\
    I promise you&#39;ll love it!&quot;@@\
    //She gives your dick one last rub as she awaits your answer.//

  //This is not what you were expecting...//
&lt;&lt;else&gt;&gt;
  @@color:deepskyblue;&quot;Alright, strip. I&#39;m gonna fuck that tight little ass.&quot;@@ //she says,//\
    &lt;&lt;if $mgTrans is true&gt;&gt;\
      //pulling out her hardening cock.//\
    &lt;&lt;else&gt;&gt;\
      //grabbing a waiting strapon harness from her bedside table.//\
    &lt;&lt;/if&gt;&gt;\
    //Apparently she really was looking for a guy like you...//
&lt;&lt;/if&gt;&gt;\

&lt;&lt;nobr&gt;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;herPlaceOpt1&quot; title=&quot;Alpha -1, Sissy +1&quot;&gt;
      @@#herPlaceOpt1Link;[[Her Place]]@@
    &lt;/li&gt;
    &lt;&lt;if $inChastity isnot true&gt;&gt;
      &lt;li id=&quot;herPlaceOpt2&quot; title=&quot;Alpha +3&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan; Decline (You will fuck her)@@ ▶▶▶&quot; &quot;Appetizer&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod +3)&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;herPlaceOptRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1, 2)&gt;&gt;
          &lt;&lt;toggleclass &quot;#herPlaceOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
        &lt;li id=&quot;herPlaceChastity1&quot; title=&quot;Alpha +3&quot;&gt;
          &lt;&lt;link &quot;@@color:cyan; Decline (You will fuck her)@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceChastityRand&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceChastity1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceChastity2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li id=&quot;herPlaceChastityRand&quot;&gt;
          &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceChastityRand&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceChastity1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#herPlaceChastity2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;span id=&quot;herPlaceChastity2&quot; class=&quot;hide&quot;&gt;
        @@color:gold;(( You&#39;re already locked up like a little sissy and desperate to get off; you&#39;re in no position to decline! ))@@
      &lt;/span&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[She Takes Over]]
  [[Appetizer]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Hookup&quot;&gt;&gt;
  &lt;&lt;replace &quot;#mgStatus&quot;&gt;&gt;$mgStatus&lt;&lt;/replace&gt;&gt;
    &lt;&lt;if $mgTrans is true&gt;&gt;
    &lt;&lt;replace &quot;#herPlaceOpt1Link&quot;&gt;&gt;\
      &lt;&lt;link &quot;@@color:magenta;Accept (⚧️ - She will fuck you)@@ ▶▶▶&quot; &quot;She Takes Over&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;set $alphaScore--&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;&lt;/replace&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;replace &quot;#herPlaceOpt1Link&quot;&gt;&gt;\
      &lt;&lt;link &quot;@@color:magenta;Accept (♀️ - She will fuck you with a strap-on)@@ ▶▶▶&quot; &quot;She Takes Over&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;set $alphaScore--&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;&lt;/replace&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="4" name="She Takes Over" tags="Bottom" position="750,725" size="100,100">!She Takes Over
&lt;span title=&quot;Alpha -1, Sissy +1&quot;&gt;@@color:magenta;\
//You&#39;ve never been on the receiving end before, but somehow,\
  the way she&#39;s been teasing you this whole time,\
  how assertive and naturally in charge she is,\
  and just plain how horny you are, you&#39;re practically putty in her hands.//\
@@&lt;/span&gt;

You - @@color:coral;&quot;I... OK. I guess I could try?&quot;@@

@@color:deepskyblue;&quot;Great! I&#39;ll make sure you feel really good!&quot;@@ //she says softly as she pushes you down on the bed. You&#39;re going to be fucked tonight, but she&#39;s in no rush...//

&lt;&lt;if $mgTrans is true&gt;&gt;\
  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/she_takes_over_futa_01.jpg&quot; alt=&quot;Blue-haired futa with a hard cock.&quot;&gt;
&lt;&lt;else&gt;&gt;\
  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/she_takes_over_strapon_01.jpg&quot; alt=&quot;Girl wearing a strapon.&quot;&gt;
&lt;&lt;/if&gt;&gt;\
\
//She decides to prepare you a bit for things to come. As you look in her eyes, you can see her hunger.\
  She&#39;s been waiting for a boy like you for a long, long time...//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;sheTakesOverChoose&quot;&gt;
She starts by:
  &lt;ul&gt;
    &lt;span id=&quot;sheTakesOverOpt1&quot;&gt;
      &lt;&lt;if $inChastity isnot true&gt;&gt;
        &lt;li title=&quot;Alpha +1, Slut +1&quot;&gt;
          &lt;&lt;link &quot;@@color:cyan;Giving you a blowjob@@ and a @@color:red;finger in your ass@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoice1NoChastity&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 1)&gt;&gt;
            &lt;&lt;set $slutScore++&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;else&gt;&gt;
        &lt;li title=&quot;Slut +1&quot;&gt;
          &lt;&lt;link &quot;@@color:red;Fingering your ass@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoice1Chastity&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $slutScore++&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;/span&gt;
    &lt;span id=&quot;sheTakesOverOpt2&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;if $inChastity isnot true&gt;&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;@@color:magenta;Giving you a handjob and slipping a buttplug in your ass@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoice2NoChastity&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;else&gt;&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;@@color:magenta;Playing with your balls and slipping a buttplug in your ass@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#sheTakesOverChoice2Chastity&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;/span&gt;
    &lt;li id=&quot;sheTakesOverOpt3&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Rimming your asshole@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#sheTakesOverChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#sheTakesOverEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#sheTakesOverChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;sheTakesOverOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;\
        &lt;&lt;toggleclass &quot;#sheTakesOverOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#sheTakesOverOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#sheTakesOverOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#sheTakesOverOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#sheTakesOverOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#sheTakesOverOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#sheTakesOverOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;sheTakesOverChoice1NoChastity&quot; title=&quot;Alpha +1, Slut +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;She blows you@@, while @@color:red;fingering your ass@@.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/warm_up_bj_fingering_01.jpg&quot; alt=&quot;Girl deep-throat blowjob while fingering prostate.&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;sheTakesOverChoice1Chastity&quot; title=&quot;Slut +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:red;She starts fingering your ass@@, loosening you up for her $mgDick.//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/warm_up_fingering_01.jpg&quot; alt=&quot;Girl fingering guy&#39;s ass.&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;sheTakesOverChoice2NoChastity&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
  //She gives you a handjob, while slowly @@color:magenta;teasing a buttplug in and out of your asshole@@.\
    Your virgin asshole clenches down at first, fighting against the intruder,\
    but eventually you relax a bit and it slide in all the way.\
    You shudder just a little bit, feeling the full size of the plug.//

  //$mgName presses on it, pushing it in further, grinding it hard against your insides before finally popping it out.\
    She repeats the process a few more times, loosening you up with each repetition until eventually pulling the plug out one final time, leaving you ready for for her $mgDick.//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/warm_up_handjob_01.jpg&quot; alt=&quot;Girl giving handjob&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;sheTakesOverChoice2Chastity&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:magenta;She starts fondling your balls below your locked up $mcDick before slipping a buttplug in your ass.@@\
    She slides it in and out several times, stretching you out, causing you to let out a little moan and a drop of precum onto the bed.//

  //Your virgin hole tries to protest, but you force yourself to relax.\
    This is the closest you&#39;ve come to any kind of relief in days and you&#39;re thankful for any bit of it that you can get.//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/warm_up_buttplug_chastity_01.jpg&quot; alt=&quot;Guy in chastity with a buttplug.&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;sheTakesOverChoice3&quot; class=&quot;hide&quot;&gt;\
  //She gives you a rimjob, @@color:red;tonguing you deeply, getting your asshole nice and wet@@.//

  &lt;&lt;if $inChastity isnot true&gt;&gt;\
    /* TODO: Find better image or modify */\
    &lt;img src=&quot;images/ep01/warm_up_rimjob_01.jpg&quot; alt=&quot;Girl rimjob pull-away from asshole with string of spit&quot;&gt;
  &lt;&lt;else&gt;&gt;\
    /* TODO: Find better image or modify */\
    &lt;img src=&quot;images/ep01/warm_up_rimjob_02.jpg&quot;&gt;
  &lt;&lt;/if&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;sheTakesOverEnd&quot; class=&quot;hide&quot;&gt;\
You:
* &lt;&lt;link &quot;Brace for the plunge ▶▶▶&quot; &quot;Warm Up&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Warm Up]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="5" name="Warm Up" tags="Bottom" position="900,725" size="100,100">!Warm Up
//She rolls on a condom and positions herself with the head of her $mgDick against your asshole.//\
  @@color:deepskyblue;&quot;Are you ready sweetie?&quot;@@ //she asks.\
  Before you can answer, she thrusts into you!//

&lt;&lt;if $mgTrans is true&gt;&gt;\
  &lt;&lt;if $inChastity isnot true&gt;&gt;\
    /* TODO: Find better image */\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/warm_up_futa_missionary_01.jpg&quot; alt=&quot;Trap penetrating guy in missionary&quot;&gt;
  &lt;&lt;else&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/warm_up_futa_chastity_01.jpg&quot;&gt;
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;else&gt;&gt;\
  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/warm_up_strapon_anal_01.jpg&quot; alt=&quot;Girl penetrating guy with strapon.&quot;&gt;
&lt;&lt;/if&gt;&gt;\

//Your virgin ass hurts after her initial thrust, but she holds it there for a few seconds,\
  enough time for your sphincter to release a little bit, the initial pain easing away as it does.\
  She starts thrusting into to you and you begin to relax more fully,\
  her thrusts sliding into you with flawless rhythm. \
  She gives your ass a playful swat says with lust in her voice,//\
  @@color:deepskyblue;&quot;Oh baby, we&#39;re gonna do so many fun things together!&quot;@@

//She keeps fucking you that way for several minutes, thrusting slow, deep, and even.\
  You bite your finger, suppressing a moan that almost escapes your lips.\
  On auto-pilot, you reach for your $mcDick\
  &lt;&lt;if $inChastity isnot true&gt;&gt;\
    , giving yourself a few strokes before stopping, and just holding it as you&#39;re fucked.
  &lt;&lt;else&gt;&gt;\
    to no avail.\
      Your locked up cocklette denies you any feeling except the pressure of your failed erection\
      pressing against the inside of the cage, further frustrating you.
  &lt;&lt;/if&gt;&gt;//\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;warmUpChoose&quot;&gt;
  She continues fucking you:
  &lt;ul&gt;
    &lt;li id=&quot;warmUpOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;On your back@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;warmUpOpt2&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Doggy style@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoicePre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;warmUpOpt3&quot; title=&quot;Slut +1, Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Ass up@@, @@color:magenta;head down@@ ▶▶▶&quot; &gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoicePre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;warmUpOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#warmUpOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#warmUpOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#warmUpOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#warmUpOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#warmUpOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#warmUpOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#warmUpOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;warmUpChoice1&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
  //She continues fucking you slowly @@color:magenta;on your back@@,\
    giving you a little more time to adjust.\
    You get the impression that she&#39;s taking her time with you,\
    drawing it out so you feel every inch of her $mgDick as she ravishes your insides.\
    Eventually, she starts to pick up the pace,\
    the rhythm of her trusts in and out of your tight ass increasing in tempo.\
    After a minute or so, she&#39;s now fucking you twice as fast and continuing to speed up.//

    &lt;&lt;if $mgTrans is true&gt;&gt;\
      &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_anal_futa_missionary_02.jpg&quot; alt=&quot;Futa fucking guy in missionary&quot;&gt;
    &lt;&lt;else&gt;&gt;\
      &lt;&lt;if $inChastity isnot true&gt;&gt;\
        &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_anal_strapon_missionary_02.jpg&quot; alt=&quot;Girl strap-on fucking guy in missionary&quot;&gt;
      &lt;&lt;else&gt;&gt;\
        &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_anal_strapon_missionary_chastity_01.jpg&quot; alt=&quot;Girl strap-on fucking guy in missionary&quot;&gt;
      &lt;&lt;/if&gt;&gt;\
    &lt;&lt;/if&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;warmUpChoicePre&quot; class=&quot;hide&quot;&gt;\
  //She swats your ass playfully again before pulling out of your ass.//\
    @@color:deepskyblue;&quot;Flip over for me; I&#39;m going to fuck you like a bitch!&quot;@@

  //You get up onto your hands and knees, your $mcDick bouncing about as you do.\
    You grip the bed in front of you as you present your ass to her.//

&lt;/div&gt;\
&lt;div id=&quot;warmUpChoice2&quot; title=&quot;Slut +1&quot; class=&quot;hide&quot;&gt;\
  //She lines herself up behind you and pops her $mgDick back into your ass, sliding it in slowly,\
    giving you time to adjust to getting fucked @@color:red;doggy style@@.\
    She hilts herself all the way to the base, then thrusts ever so slightly,\
    pushing it in just a bit deeper, before she reverses direction and starts fucking you properly.//

  &lt;&lt;if $mgTrans is true&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_futa_doggystyle.jpg&quot;&gt;
  &lt;&lt;else&gt;&gt;\
    &lt;&lt;if $inChastity isnot true&gt;&gt;\
      &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_anal_strapon_frombehind_01.jpg&quot; alt=&quot;Girl fucking guy with a strap-on from behind.&quot;&gt;
    &lt;&lt;else&gt;&gt;\
      &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_anal_strapon_frombehind_chastity_01.jpg&quot; alt=&quot;Girl fucking guy in chastity with a strap-on from behind.&quot;&gt;
    &lt;&lt;/if&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;warmUpChoice3&quot; title=&quot;Slut +1, Sissy +1&quot; class=&quot;hide&quot;&gt;\
  //She pushes your head down onto the bed, forcing you @@color:red;ass up@@, @@color:magenta;head down@@.//\
    @@color:deepskyblue;&quot;There; //that&#39;s// how you present your ass properly!&quot;@@

  //She shoves her $mgDick back into your ass and starts thrusting immediately,\
    not giving you a moment to adjust to the new position.//\
  &lt;&lt;if $mgTrans is true&gt;&gt;\
    //She pushes down on your back, forcing your face into the bed.//

    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/the_real_deal_anal_futa_frombehind_01.jpg&quot; alt=&quot;Futa plowing guy from behind.&quot;&gt;
  &lt;&lt;else&gt;&gt;\
    //You feel her tits press against your back as she leans in, keeping your face buried in the bed.//

    &lt;&lt;if $inChastity isnot true&gt;&gt;\
      &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_anal_strapon_frombehind_02.jpg&quot; alt=&quot;Girl plowing guy with strap-on from behind.&quot;&gt;
    &lt;&lt;else&gt;&gt;\
      &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/the_real_deal_anal_strapon_frombehind_chastity_02.jpg&quot; alt=&quot;Girl plowing guy in chastity with a strap-on from behind.&quot;&gt;
    &lt;&lt;/if&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;warmUpEnd&quot; class=&quot;hide&quot;&gt;\
She:
* &lt;&lt;link &quot;Pounds away, fucking your ass ▶▶▶&quot; &quot;The Real Deal&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  [[The Real Deal]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="6" name="The Real Deal" tags="Bottom" position="900,575" size="100,100">!The Real Deal
//Now that you&#39;re nice and loosened up, you&#39;re starting to actually feel really good.\
  Despite yourself, you start pushing back on her, a small moan escaping your lips unbidden.\
  Her smile lights up!//

@@color:deepskyblue;&quot;Oh yeah baby, move that sweet ass!&quot;@@\
  //She tightens her grip as she continues to fuck you, picking up the pace.//

//She keeps going for a few minutes before slowing to a stop, breathing heavily.//\
  @@color:deepskyblue;&quot;Come on baby, let me give you a little reward for being such a good fuck.&quot;@@

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;theRealDealChoose&quot;&gt;
She shifts positions and fucks you:
  &lt;ul&gt;
    &lt;li id=&quot;theRealDealOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Sideways@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoicePre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;theRealDealOpt2&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Against the wall, facing away from her@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoicePre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;theRealDealOpt3&quot; title=&quot;Slut +1, Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Against the wall@@, @@color:magenta;facing her@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoicePre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;theRealDealOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theRealDealOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#theRealDealOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#theRealDealOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#theRealDealOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#theRealDealOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#theRealDealOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#theRealDealOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;span id=&quot;theRealDealChoicePre&quot; class=&quot;hide&quot;&gt;\
  //She gives you one last solid thrust before pulling out.//\
    @@color:deepskyblue;&quot;Alight, let&#39;s switch it up.@@\
&lt;/span&gt;\
&lt;span id=&quot;theRealDealChoice1&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
  @@color:deepskyblue;Lay on your side.\
    I&#39;m gonna fork you sideways, like you&#39;re my little spoon.&quot;@@

  //You move as instructed and she lays down behind you,\
    spreading apart your cheeks before slipping her $mgDick back in your ass.\
    It slides in easily this time, and she fucks you @@color:magenta;sideways@@,\
    thrusting hard and deep, varying her speed, never giving you a moment to really catch your breath.//

  &lt;&lt;if $mgTrans is true&gt;&gt;\
    &lt;&lt;if $inChastity isnot true&gt;&gt;\
      &lt;img src=&quot;images/ep01/clean_it_up_futa_sideways_01.jpg&quot;&gt;
    &lt;&lt;else&gt;&gt;\
      &lt;img src=&quot;images/ep01/clean_it_up_futa_sideways_chastity_01.jpg&quot;&gt;
    &lt;&lt;/if&gt;&gt;\
  &lt;&lt;else&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/clean_it_up_strapon_sideways_01.jpg&quot;&gt;
  &lt;&lt;/if&gt;&gt;\
&lt;/span&gt;\
&lt;span id=&quot;theRealDealChoice2&quot; title=&quot;Slut +1&quot; class=&quot;hide&quot;&gt;\
  @@color:deepskyblue;&quot;@@

  //You decide to stand up off the bed and lean against the wall,\
    spreading your asscheeks open with one hand while looking back at her.\
    You may have been apprehensive about this before,\
    but now all you really want to feel her $mgDick back inside you!//

  //She smiles at you as she moves into position.//\
    @@color:deepskyblue;&quot;Oooo! Somebody seems to be getting into it!&quot;@@\
    //She pops the cockhead of her $mgDick back into your ass and rams it home,\
    forcing your harder against the wall.\
    You let go of your spread asscheek so you can stabilize yourself as she fucks you,\
    pounding your hole hard and deep @@color:red;up against the wall@@, varying her speed.//

    &lt;&lt;if $mgTrans is true&gt;&gt;\
      &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/clean_it_up_futa_against_wall_01.gif&quot;&gt;
    &lt;&lt;else&gt;&gt;\
      &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/clean_it_up_strapon_against_wall_01.jpg&quot;&gt;
    &lt;&lt;/if&gt;&gt;\
&lt;/span&gt;\
&lt;span id=&quot;theRealDealChoice3&quot; title=&quot;Slut+1, Sissy +1&quot; class=&quot;hide&quot;&gt;\
  @@color:deepskyblue;Get up on that stool and spread your ass open for me slut.&quot;@@

  //Sheepishly you comply, climbing up on the stool, which rests at just the perfect level\
    for you to lay with your back against the wall, ass open and exposed with your legs up in the air.\
    $mgName steps forward, her $mgDick swaying in front of you.\
    She grabs your hips a bit and pulls your ass towards her,\
    giving her better access to your waiting fuckhole.//

  @@color:deepskyblue;&quot;Oh yeah, there we go,&quot;@@ //she says, sliding her $mgDick back into your ass,\
    eliciting a small moan for you as she scrapes past your prostate.\
    She grabs your wrists and guides them to the back of her neck.//\
    @@color:deepskyblue;&quot;Hold on tight!&quot;@@

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/the_real_deal_anal_strapon_against_wall_01.jpg&quot;&gt;\

  //You wrap your arms around her neck, pulling her in closer as she fucks you\
    @@color:red;with your back against the wall@@, @@color:magenta;buried in you while face-to-face@@,\
    thrusting hard and deep.\
    She bends down and roughly kisses you, forcing her tongue into your mouth.//
&lt;/span&gt;\
&lt;div id=&quot;theRealDealEnd&quot; class=&quot;hide&quot;&gt;\
* &lt;&lt;link &quot;You&#39;re getting it hard now! ▶▶▶&quot; &quot;Clean It Up&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  [[Clean It Up]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="7" name="Clean It Up" tags="Bottom" position="750,575" size="100,100">!Clean It Up
//She pounds away at you for several more minutes until she&#39;s all sweaty.\
  Her thrusts finally slow to a stop and her $mgCock flops out of you.\
  You try to catch your breath, your sore anus winking back up at her.//

@@color:deepskyblue;&quot;Man, I&#39;m beat!&quot;@@ //she says, obviously still aroused, but panting heavily.//\
  @@color:deepskyblue;&quot;I&#39;ve been doing all the work here...\
  How about this baby; you suck on it for a bit while I catch a breath?&quot;@@\
  //she asks, standing up in front of you.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;cleanItUpChoose&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;cleanItUpOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Take the condom off and suck@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpSucked&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cleanItUpOpt2&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Suck with the condom on@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpSucked&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cleanItUpOpt3&quot; title=&quot;Alpha +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Refuse to suck!@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod +1)&gt;&gt;
        &lt;&lt;set $ep1RefusedToSuck to true&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cleanItUpOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cleanItUpOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanItUpOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanItUpOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanItUpOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanItUpOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanItUpOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanItUpOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;cleanItUpChoice1&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
    //@@color:magenta;You pull the condom off and begin to suck on her $mgDick.@@//

    &lt;&lt;if $mgTrans is true&gt;&gt;\
      &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/clean_it_up_01.jpg&quot;&gt;
    &lt;&lt;else&gt;&gt;\
      &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/sucking_strapon_01.jpg&quot;&gt;
    &lt;&lt;/if&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;cleanItUpChoice2&quot; title=&quot;Slut +1&quot; class=&quot;hide&quot;&gt;\
  /* TODO: Images for this */\
  //@@color:red;You begin sucking on her $mgDick, not even bothering to pull off the condom.@@//\
    @@color:deepskyblue;&quot;Ooo! You&#39;re a dirty slut; I like it!&quot;@@
&lt;/div&gt;\
&lt;div id=&quot;cleanItUpSucked&quot; class=&quot;hide&quot;&gt;\
  /* TODO: Images for this */
  //You suck on it for several minutes while she catches her breath.\
    She pats you on the top of the head and you let her out of your mouth.\
    She rolls on a new condom and lays back on the bed, pulling you on top of her.//
&lt;/div&gt;\
&lt;div id=&quot;cleanItUpChoice3&quot; title=&quot;Alpha +1&quot; class=&quot;hide&quot;&gt;\
  @@color:coral;&quot;Uh... I&#39;d rather not,&quot;@@ //you say, @@color:cyan;refusing to suck her dick.@@//

  //She rolls her eyes,// @@color:deepskyblue;&quot;Ugh. Fine,&quot;@@ //and pulls off the condom,\
    replacing it with a fresh one.\
    She lays back on the bed, pulling you on top of her.//
&lt;/div&gt;\
&lt;div id=&quot;cleanItUpEnd&quot; class=&quot;hide&quot;&gt;\

  You:
* &lt;&lt;link &quot;Get ready to ride ▶▶▶&quot; &quot;Ride It Baby&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Ride It Baby]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="8" name="Ride It Baby" tags="Bottom" position="750,425" size="100,100">!Ride It Baby
@@color:deepskyblue;&quot;OK, baby, show me how much you like my $mgCock,&quot;@@\
  //she says with smokey eyes, //@@color:deepskyblue;&quot;Ride it!&quot;@@

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;rideItBabyChoose&quot;&gt;
  &lt;&lt;set _linkText to &quot;Enjoy the ride ▶▶▶&quot;&gt;&gt;
  You start riding her:
  &lt;ul&gt;
    &lt;li id=&quot;rideItBabyOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Cowgirl@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyPre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;if $mgTrans is true&gt;&gt;
          &lt;&lt;set _randRoll to random(1, 2)&gt;&gt;
          &lt;&lt;if _randRoll is 1&gt;&gt;
            &lt;&lt;set _nextPassage to &quot;Cum On You&quot;&gt;&gt;
          &lt;&lt;elseif _randRoll is 2&gt;&gt;
            &lt;&lt;set _nextPassage to &quot;Cum In Condom&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _nextPassage to &quot;Riding Strap-On&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#nextPassage&quot;&gt;&gt;_nextPassage&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &quot;#nextPassageLink&quot;&gt;&gt;&lt;&lt;link _linkText _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;rideItBabyOpt2&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Reverse Cowgirl@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyPre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyReverseCowgirlPre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;if $mgTrans is true&gt;&gt;
          &lt;&lt;set _randRoll to random(1, 2)&gt;&gt;
          &lt;&lt;if _randRoll is 1&gt;&gt;
            &lt;&lt;set _nextPassage to &quot;Cum On You&quot;&gt;&gt;
          &lt;&lt;elseif _randRoll is 2&gt;&gt;
            &lt;&lt;set _nextPassage to &quot;Cum In Condom&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _nextPassage to &quot;Riding Strap-On&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#nextPassage&quot;&gt;&gt;_nextPassage&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &quot;#nextPassageLink&quot;&gt;&gt;&lt;&lt;link _linkText _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;rideItBabyOpt3&quot; title=&quot;Sissy +2&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Cowgirl, snuggling up to her@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyPre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
        &lt;&lt;if $mgTrans is true&gt;&gt;
          &lt;&lt;set _randRoll to random(1, 2)&gt;&gt;
          &lt;&lt;if _randRoll is 1&gt;&gt;
            &lt;&lt;set _nextPassage to &quot;Cum On You&quot;&gt;&gt;
          &lt;&lt;elseif _randRoll is 2&gt;&gt;
            &lt;&lt;set _nextPassage to &quot;Cum In Condom&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _nextPassage to &quot;Riding Strap-On&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#nextPassage&quot;&gt;&gt;_nextPassage&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &quot;#nextPassageLink&quot;&gt;&gt;&lt;&lt;link _linkText _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;rideItBabyOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#rideItBabyOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1, 3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#rideItBabyOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rideItBabyOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#rideItBabyOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rideItBabyOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#rideItBabyOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rideItBabyOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;span id=&quot;rideItBabyReverseCowgirlPre&quot; title=&quot;Slut +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:red;You straddle her, facing away, and reach back to \
    grab her $mgCock and line it up with your waiting asshole.@@//\
&lt;/span&gt;\
&lt;span id=&quot;rideItBabyPre&quot; class=&quot;hide&quot;&gt;\
  //As you lower yourself onto her $mgDick,\
    her eyes practically glow at the sight of it disappearing into your ass.\
    You wiggle a bit to make sure it&#39;s in all the way.//
&lt;/span&gt;
&lt;div id=&quot;rideItBabyChoice1&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;if $mgTrans isnot true&gt;&gt;\
    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/ride_it_baby_cowgirl_strapon_01.jpg&quot;&gt;
  &lt;&lt;else&gt;&gt;\
    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/ride_it_baby_cowgirl_futa_01.jpg&quot;&gt;
    /* TODO: Need chastity version */\
  &lt;&lt;/if&gt;&gt;\
  //You start bouncing up and down on her $mgCock,\
    @@color:magenta;riding cowgirl, slowly picking up the pace.@@\
    You pinch your nipples slightly as her $mgDick disappears into and\
    reemerges from your ass with every bounce as you adjust your angle and pace,\
    trying to find the spots that makes you feel the best.\
    Your $mgDick bounces about&lt;&lt;if $inChastity is true&gt;&gt; in its cage&lt;&lt;/if&gt;&gt;,\
    leaking precum onto her belly as she smiles up at you.//

&lt;/div&gt;\
&lt;span id=&quot;rideItBabyChoice2&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;if $mgTrans isnot true&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/ride_it_baby_reverse_cowgirl_strapon_01.jpg&quot;&gt;
    /* TODO: Need chastity version */\
  &lt;&lt;else&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/ride_it_baby_reverse_cowgirl_futa_01.jpg&quot;&gt;
    /* TODO: Need chastity version */\
  &lt;&lt;/if&gt;&gt;\
  //You lean forward and start twerking your ass up and down, forcing her fuckstick in and out.\
    $mgName playfully swats your ass,// @@color:deepskyblue;&quot;Mmmm! Get it girl! Bounce for me!&quot;@@

  //You take her advice and start bouncing up and down on her shaft harder, picking up the pace.//\
&lt;/span&gt;\
&lt;div id=&quot;rideItBabyChoice3&quot; title=&quot;Sissy +2&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;if $mgTrans isnot true&gt;&gt;\
    /* TODO: Image for this */\
  &lt;&lt;else&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/ride_it_baby_cowgirl_snuggle_futa_01.jpg&quot;&gt;
  &lt;&lt;/if&gt;&gt;\
  //@@color:magenta;You bend down, snuggling up to her with her $mgCock in your ass@@,\
    pressing your chest against her breasts and going in for a kiss.\
    She returns the kiss enthusiastically, thrusting her tongue into your mouth,\
    putting you once again on the receiving end.//

  //You start bouncing up and down, slowly, sensually, while making out with $mgName.\
    As you get more into it, you start picking up the pace,\
    burying more and more of her loverod in your ass.\
    She bites your lower lip and start to get more aggressive.//

&lt;/div&gt;\
&lt;span id=&quot;rideItBabyEnd&quot; class=&quot;hide&quot;&gt;\
  //She grabs your hips as you&#39;re riding her and thrusts up in time with your rhythm.\
    Her $mgDick hilts you with every thrust, burying its full length deep inside you,\
    your combined efforts causing it to slam home, eliciting girly moans from you with every thrust.//
  \
  &lt;span id=&quot;rideItBabySpanking&quot; title=&quot;Masochistic act!&quot; class=&quot;hide&quot;&gt;
    //@@color:yellow;She spanks your ass hard as you ride her, leaving big,\
      red hand-prints with every swat.@@\
      Before long, your ass is stinging and red all over.\
      It doesn&#39;t slow you down, but you can&#39;t shake the suspicion that this is what you get for\
      refusing to suck her $mgCock earlier.//
  &lt;/span&gt;\
  &lt;ul&gt;&lt;li&gt;@@#nextPassageLink;-@@&lt;/li&gt;&lt;/ul&gt;\
&lt;/span&gt;\
\
&lt;div id=&quot;rideItBabyDebugMsgs&quot; class=&quot;hide&quot;&gt;\
&lt;hr&gt;
DEBUG MESSAGES:
* Next Passage: @@#nextPassage;-@@
* cleanItUpChoice: $cleanItUpChoice
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden links */
  [[Cum In Condom]]
  [[Cum On You]]
  [[Riding Strap-On]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $ep1RefusedToSuck is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#rideItBabySpanking&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $masoActs++&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $showDebugMsgs is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#rideItBabyDebugMsgs&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;\</tw-passagedata><tw-passagedata pid="9" name="Cum In Condom" tags="" position="950,425" size="100,100">!Cum In Condom
//You ride her so well that she doesn&#39;t even think of pulling out before she cums.\
  She moans so loudly that you&#39;re afraid someone might hear!//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/cum_in_condom_01.jpg&quot; alt=&quot;Blue-haired trap with a full condom looking over her shoulder back at you while biting her lip.&quot;&gt;\

//She stands up and looks back at you, her cheeks still red, biting her lip.\
  You can see her mind is still racing, but she&#39;s spent,\
  hardly able to move a muscle.//

//She collapses back onto the bed, trying to catch her breath.\
  Your $mcDick dribbles cum&lt;&lt;if $inChastity isnot true&gt;&gt; as it softens&lt;&lt;else&gt;&gt;, still\
  locked up in its cage&lt;&lt;/if&gt;&gt;.\
  She gives you a sympathetic look.//\
  @@color:deepskyblue;&quot;Aww, sorry baby, looks like you didn&#39;t quite get there.\
  I&#39;ll have to make it up to you next time!&quot;@@ //she says, giving you a wink.//

//You&#39;re still hungry more more, but its obvious you&#39;re not going to get to cum tonight.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;cumInCondomChoose&quot;&gt;
  You settle for:
  &lt;ul&gt;
    &lt;li id=&quot;cumInCondomOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Sucking on her finger@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cumInCondomOpt2&quot; title=&quot;Sissy +2&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Drinking her cum from the condom@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
        &lt;&lt;drankCum&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cumInCondomOpt3&quot; title=&quot;Slut +2&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Removing the condom and sucking her clean@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cumInCondomOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumInCondomOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumInCondomOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumInCondomOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumInCondomOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumInCondomOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumInCondomOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumInCondomOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;cumInCondomChoice1&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
  //You lie next to $mgName and @@color:magenta;suck on one of her finger@@,\
    showing your appreciation for introducing you to these new experiences.\
    She reaches over a strokes your hair as you lick and suck away,\
    smiling at you, almost sweetly.//
&lt;/div&gt;\
&lt;div id=&quot;cumInCondomChoice2&quot; title=&quot;Sissy +2&quot; class=&quot;hide&quot;&gt;\
  //You pull $mgNames condom off, careful not to let her cum spill out.\
    You&#39;re about to tie it off and toss it in the trash when you&#39;re\
    overcome with desire to taste her cum.\
    @@color:magenta;Without thinking, you put the filled condom up to your lips\
    and invert it, flipping it inside out to get all of the cum into your mouth\
    before licking it clean.@@//

  //$mgName watches you intently, grinning at you.//\
    @@color:deepskyblue;&quot;That was sexy as fuck!&quot;@@

  //You gulp down her salty spooge, and smile back at her,\
    overly pleased with yourself for some reason.\
    She reaches over and wipes a bit of cum from the corner of your mouth and\
    pushes it into your mouth.\
    Instinctively, you lick her finger clean.//

  @@color:deepskyblue;&quot;Good girl,&quot;@@ //$mgName smiles at you.//
&lt;/div&gt;\
&lt;div id=&quot;cumInCondomChoice3&quot; title=&quot;Slut +2&quot; class=&quot;hide&quot;&gt;\
  //You @@color:red;pull off her condom and suck on her $mgDick@@,\
    cleaning it off with your mouth.\
    You lick up every drop of cum from her $mgDick and keep going,\
    hoping to get her riled up again.//

  @@color:deepskyblue;&quot;Okay, okay, stop!&quot;@@ //she says, breathless, but smiling.//\
    @@color:deepskyblue;&quot;Really, I&#39;m spent.&quot;@@
&lt;/div&gt;\
&lt;div id=&quot;cumInCondomEnd&quot; class=&quot;hide&quot;&gt;\
* &lt;&lt;link &quot;Enjoy the afterglow ▶▶▶&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\</tw-passagedata><tw-passagedata pid="10" name="Cum On You" tags="" position="1075,350" size="100,100">!Cum On You
//As you&#39;re riding her, all she can think about is how good you&#39;d look\
  covered in her cum.\
  She pulls out of your ass as says,//\
  @@color:deepskyblue;&quot;Can I take off the condom?\
  I promise I&#39;m clean.&quot;@@

//You see the desperation to cum in her eyes.\
  Meekly, you nod.\
  She rips off the condom and you mount her again, riding her bare for the first time.//

&lt;img src=&quot;images/ep01/cum_on_you_riding_01.gif&quot;&gt;\

//She&#39;s thrusting up into you with every bounce of your ass on her $mgCock.\
  Her pace picks up and she&#39;s now slamming up into you with full force,\
  tenderizing your poor asshole.\
  You can feel her dick begin to twitch.//

@@color:deepskyblue;&quot;Fuck! I&#39;m almost there!&quot;@@ //she pants.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;cumOnYouChoose&quot;&gt;
  She:
  &lt;ul&gt;
    &lt;li id=&quot;cumOnYouOpt1&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Cums all over you@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;set $mcStatus to &quot;Cum-covered slut&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cumOnYouOpt2&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Cums in your mouth@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;set $timesSuckedDick++&gt;&gt;
        &lt;&lt;set $mcStatus to &quot;Cum-breath&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cumOnYouOpt3&quot; title=&quot;Sissy +2&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Cums deep in your ass@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore+=2&gt;&gt;
        &lt;&lt;set $timesCreampied++&gt;&gt;
        &lt;&lt;if $sissyScore gte 10 or $hasPerkSissygasm&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouAnalSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $hasCumFromAnal to true&gt;&gt;
          &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;replace &quot;#cumOnYouNextLink&quot;&gt;&gt;
            &lt;&lt;link &quot;Post-orgasmic bliss ▶▶▶&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
          &lt;&lt;/replace&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cumOnYouOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cumOnYouOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;cumOnYouChoice1&quot; title=&quot;Slut +1&quot; class=&quot;hide&quot;&gt;\
  /* Cums on body */\
  //She pulls out of your ass and roughly pushes you\
    to the bed while grabbing her $mgDick.\
    She rolls up onto her knees while stroking herself.\
    From your position on the bed, her $mgCock lines up right with your face.\
    You bite your lip in anticipation; you know what&#39;s coming,\
    but never expected to be on the receiving end.//

  @@color:deepskyblue;&quot;Fuck baby, here it cums!&quot;@@\
    //With a few more deft stokes, @@color:red;she cums all over you!@@\
    Thick ropes of her jizz erupt forth, covering your face and your chest.\
    You can&#39;t help but smile a bit.\
    You weren&#39;t expecting this when the night began, but that was sexy as hell.//
&lt;/div&gt;\
&lt;div id=&quot;cumOnYouChoice2&quot; class=&quot;hide&quot;&gt;\
  /* Cums in mouth */\
  &lt;span title=&quot;Sissy +1&quot;&gt;\
    //She pulls out of your ass on a downstroke,\
      then quickly pushes you off of her and straddles you,\
      her $mgCock lining up with her lips.\
      Before you know what&#39;s happening, she&#39;s shoved her $mgDick in your mouth,\
      and is fucking your lips with her cockhead while stoking and\
      holding the back of your head so you can&#39;t get away.//

    //She grunts,// @@color:deepskyblue;&quot;Ugh! Take it!&quot;@@\
      //@@color:magenta;and cums right in your mouth!@@\
      Her salty load covers your tongue, and you can feel the second, then third,\
      spurts hit the roof of your mouth.//

    //She holds your head in place for another moment,\
      then squeezes out he rest of her load into your mouth as she pulls out.\
      You can feel the salty spooge starting to seep down your throat.//
  &lt;/span&gt;
  &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;cumOnYouOralChoose&quot;&gt;
    With a mouthful of cum, you&#39;ve got to decide:
    &lt;ul&gt;
      &lt;li id=&quot;cumOnYouOralOpt1&quot; title=&quot;Sissy +1&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Swallow@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOralChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOralChoice1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;cumOnYouOralOpt2&quot;&gt;
        &lt;&lt;link &quot;Spit it out ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOralChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOralChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;cumOnYouOralOptRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouOralOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#cumOnYouOralOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#cumOnYouOralOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;div id=&quot;cumOnYouOralChoice1&quot; title=&quot;Sissy +1; Drank a load of cum!&quot; class=&quot;hide&quot;&gt;\
    /* Swallow */\
    //@@color:magenta;Reflexively, you swallow it down,\
      not really thinking about what you&#39;re doing; it just seems... right?@@//

    //You don&#39;t really hate the taste, and part of you wonders what other girls\
      are complaining about.\
      @@color:coral;&quot;Wait, other girls...?&quot;@@ you think, momentarily confused.\
      You&#39;ll have to unpack that later.//
  &lt;/div&gt;\
  &lt;div id=&quot;cumOnYouOralChoice2&quot; class=&quot;hide&quot;&gt;\
    /* Spit it out */\
    //Immediately, you gag, desperately trying to spit it out.\
      You spit it out into your hand, trying to prevent a mess,\
      then grab the trashcan by her bed and spitting into it repeatedly.//

    //$mgName looks disappointed, but doesn&#39;t say anything,\
      just wordlessly points to a tissue box, which you use to clean up a bit more.//
  &lt;/div&gt;\
&lt;/div&gt;\
&lt;div id=&quot;cumOnYouChoice3&quot; class=&quot;hide&quot;&gt;\
  /* Cums inside */\
  &lt;span title=&quot;Sissy +2&quot;&gt;\
    //She keeps thrusting refusing to slow down.\
      Right as it dawns on your what&#39;s about to happen,\
      @@color:magenta;she cums deep in your ass!@@//

    //You feel her spurt deep in your ass with as she continues to fuck\
      your poor abused hole.\
      She erupts into you, spraying several warm spurts up into your guts.\
      You never realized just how warm a cumload in your ass would feel.//
  &lt;/span&gt;\
  &lt;span id=&quot;cumOnYouAnalSissygasm&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;
    //@@color:magenta;This sets off your own orgasm,\
      causing you to cum all over yourself without even touching your $mcDick!@@\
      You shudder and press into $mgName,\
      moaning and cumming like you&#39;ve never cum before!\
      You had no idea you could feel this. Damn. Good!//

    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/happy_cum_in_you_01.jpg&quot;&gt;\
  &lt;/span&gt;\

  //$mgName pulls out of your ass and you roll off to the side,\
    shuddering a bit as her cockhead scrapes past your p-spot one last time.\
    You can feel her cum starting to leak out of your ass.//

  &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;cumOnYouAnalChoose&quot;&gt;
    You:
    &lt;ul&gt;
      &lt;li id=&quot;cumOnYouAnalOpt1&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Clench down and keep her cum in@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouAnalChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouAnalChoice1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;set $mcStatus to &quot;Cream-filled creampuff&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;cumOnYouAnalOpt2&quot;&gt;
        &lt;&lt;link &quot;Push her cum out of you ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouAnalChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouAnalChoice2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $mcStatus to &quot;Walking funny...&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;cumOnYouAnalOptRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumOnYouAnalOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#cumOnYouAnalOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#cumOnYouAnalOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;div id=&quot;cumOnYouAnalChoice1&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;\
    /* Keep it in */\
    //@@color:magenta;Your poor violated asshole can&#39;t hep but clench down,\
      keeping her cum inside you.@@\
      It feels so warm in your ass and despite yourself,\
      you feel good knowing you satisfied your &#39;date&#39;;\
      you&#39;ve got the proof right there!//
  &lt;/div&gt;\
  &lt;div id=&quot;cumOnYouAnalChoice2&quot; class=&quot;hide&quot;&gt;\
    /* Push it out */\
    //Panting, you bear down, pushing her cum out of your ass.\
      It runs down your asscheek, leaving a warm, sticky trail.\
      $mgName slaps your ass playfully,//\
      @@color:deepskyblue;&quot;Your getting my bed all dirty!&quot;@@
  &lt;/div&gt;\
&lt;/div&gt;\
&lt;div id=&quot;cumOnYouEnd&quot; class=&quot;hide&quot;&gt;\
* @@#cumOnYouNextLink;&lt;&lt;link &quot;Catch your breath ▶▶▶&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;@@
&lt;/div&gt;\</tw-passagedata><tw-passagedata pid="11" name="Riding Strap-On" tags="" position="1200,275" size="100,100">!Riding Strap-On
//She&#39;s had enough for tonight. By her standards, she&#39;s made you her little bitch and it&#39;s time to end this game, but you&#39;re the &quot;girl&quot; right now, and until you&#39;re satisfied, the game cannot end.//

@@color:deepskyblue;&quot;Here baby, let&#39;s make you cum.&quot;@@//, she says, pinching your nipple.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;ridingStraponChoose&quot;&gt;
You:
  &lt;ul&gt;
    &lt;&lt;if $inChastity isnot true&gt;&gt;
      &lt;li id=&quot;ridingStraponOpt1&quot; title=&quot;Alpha +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Jerk off, pointing your dick at her@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponChoice1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod +1)&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;ridingStraponOpt2&quot; title=&quot;Slut +2&quot;&gt;
        &lt;&lt;link &quot;@@color:red;Jerk off, pointing it at yourself@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponChoice2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;span id=&quot;ridingStraponChastityHider1&quot;&gt;
        &lt;li title=&quot;Alpha +1&quot;&gt;
          &lt;&lt;link &quot;@@color:cyan;Jerk off, pointing your dick at her@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponChastityHider1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponChastityHider2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li title=&quot;Slut +2&quot;&gt;
          &lt;&lt;link &quot;@@color:red;Jerk off, pointing it at yourself@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponChastityHider1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponChastityHider2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/span&gt;
      &lt;span id=&quot;ridingStraponChastityHider2&quot; class=&quot;hide&quot;&gt;
        @@color:yellow;(( You can&#39;t do that; you&#39;re all locked up! ))@@
      &lt;/span&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;li id=&quot;ridingStraponOpt3&quot; title=&quot;Sissy +?&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Attempt to analgasm and...@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#ridingStraponChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#ridingStraponChoice3Pre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;if $sissyScore gte 7 or $hasPerkSissygasm&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponChoice3Sissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;replace &quot;#grabWrists&quot;&gt;&gt;grabbing your wrists.&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
          &lt;&lt;set $hasCumFromAnal to true&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponEnd2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponChoice3NoSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $inChastity isnot true&gt;&gt;
      &lt;li id=&quot;ridingStraponOptRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#ridingStraponOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1, 3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#ridingStraponOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;ridingStraponChoice1&quot; title=&quot;Alpha +1&quot; class=&quot;hide&quot;&gt;\
  //Still impaled on her $mgCock, you grab your $mcDick and start jerking yourself off.\
    You continue grinding on $mgNames $mgDick as you tug yourself to completion.//

  //It doesn&#39;t take you long to get there as turned on and stimulated as you are right now.\
    @@color:cyan;You decide that since you let her fuck your ass,\
    it&#39;s only fair that you get to cum on her tits.@@\
    With a few more deft strokes, you blow you load all over $mgName,\
    shuddering a few times from the aftershocks, her $mgDick pressing against your prostate.//
&lt;/div&gt;\
&lt;div id=&quot;ridingStraponChoice2&quot; title=&quot;Slut +2&quot; class=&quot;hide&quot;&gt;\
  //You lean back and redouble your efforts to fuck yourself to bliss,\
    bouncing up and down harder and faster.\
    You just need one more push to get yourself over the edge...//

  //You grab your $mcDick and give yourself a few quick rubs as you slam your ass up and down.\
    @@color:red;You jerk off, cumming all over yourself,\
    your sticky white goo hitting as far up as your collarbone and covering your chest and tummy!@@//

  //You&#39;ve got too much momentum to just stop and $mgName helps you out by pounding up into you\
    as you&#39;re coming down, the additional jabbing of your p-spot causing a couple extra spurts\
    to further coat you in jizz before slowing to a stop.//
&lt;/div&gt;\
&lt;div id=&quot;ridingStraponChoice3Pre&quot; class=&quot;hide&quot;&gt;\
  //You&#39;re right on the edge of something amazing...\
    You keep riding her, your ass clenching down on her $mgDick.//

  //You&#39;re so close to cumming!\
    Your eyes roll into the back of your head.\
    Instinctively, you reach for your dick to bring yourself over the edge.//

  @@color:deepskyblue;&quot;Oh no you don&#39;t!&quot;@@ //$mgName says,\
    @@#grabWrists;slapping your had away.@@//\
    @@color:deepskyblue;&quot;You&#39;re so close, don&#39;t ruin it! Let it come!&quot;@@
&lt;/div&gt;\
&lt;div id=&quot;ridingStraponChoice3Sissygasm&quot; title=&quot;Sissy +3&quot; class=&quot;hide&quot;&gt;
  &lt;center&gt;@@color:magenta;(( Sissygasm check passed! ))@@&lt;/center&gt;
  //She grips your wrists tighter, using them as leverage to pound you harder!\
    Her strap-on pounds into you even faster and deeper.\
    Her eyes roll upward as she approaches her own orgasm,\
    driven on by the rubbing of her toy against her pussy and\
    the sight of you taking it deep for her.//

  @@color:deepskyblue;&quot;Oh yeah, baby! Cum for me! Cum from your ass!&quot;@@

  //She throws her head back and moans as her orgasm takes her.\
    Her body pulses with a few final thrusts.\
    It&#39;s enough to finally put you over the edge and...\
    @@color:magenta;You sissygasm for the first time!@@//

  &lt;img src=&quot;images/ep01/happy_anal_strapon_reversecowgirl_01.jpg&quot; alt=&quot;Girl fucking guy in the ass with a strapon in reverse-cowgirl as he cums&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;ridingStraponChoice3NoSissygasm&quot; title=&quot;Sissy +1&quot; class=&quot;hide&quot;&gt;
  &lt;center&gt;@@color:magenta;(( Sissygasm check failed! ))@@&lt;/center&gt;
  //She continues pounding away at you slowing down a bit as her own orgasm approaches.//

  @@color:deepskyblue;&quot;Oh yeah, baby!\
    You&#39;re so sexy riding me like that! I&#39;m gonna...!&quot;@@ //she moans,\
    rolling her hips against you one last time, finally hitting her orgasm.//

  //She holds you tightly, pinning your arms to your side as she rides out the last of her orgasm,\
    her $mgDick still pressed achingly deep into you, no longer moving.\
    Precum dribbles down out of your $mcDick as it softens.\
    Looks like you&#39;re not going to get to cum tonight.//
&lt;/div&gt;\
&lt;div id=&quot;ridingStraponEnd&quot; class=&quot;hide&quot;&gt;\
  //You roll off of $mgName, finally spent.//
* &lt;&lt;link &quot;Post-orgasmic bliss ▶▶▶&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;ridingStraponEnd2&quot; class=&quot;hide&quot;&gt;\
  //You roll off of $mgName, still horny, but too exhausted to continue.//
* &lt;&lt;link &quot;Catch your breath ▶▶▶&quot; &quot;Happy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Happy]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="12" name="Happy" tags="" position="1050,575" size="100,100">!Happy
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $mgHappy to true&gt;&gt;
  &lt;&lt;if $happyVisited isnot true&gt;&gt;
    &lt;&lt;if $slutScore lt $sissyScore or $slutScore lt $alphaScore&gt;&gt;
      &lt;&lt;set _showered to true&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
    &lt;&lt;/if&gt;&gt;

    &lt;&lt;if $sissyScore gt $alphaScore and $sissyScore gt $slutScore&gt;&gt;
      &lt;&lt;set _assSlap to true&gt;&gt;
      &lt;&lt;set $sissyScore++&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
\
//Exhausted, $mgName lays back on the bed.\
  She&#39;s breathing heavy, but can&#39;t hide the huge smile on her face.//

&lt;img class=&quot;taller_img&quot; src=&quot;images/portraits/girl_pleased.png&quot; alt=&quot;Blue-haired girl smiling cutely.&quot;&gt;\

@@color:deepskyblue;&quot;Man, I really needed That.\
  You were such a cute fuck!&quot;@@ //she says, licking her lips.\
  You can see on her face she&#39;s already imagining the next time she gets to plow your little fuckhole.//

@@color:deepskyblue;&quot;I would never have known it was your first time;\
  you got into it right away! How about we keep seeing each other?\
  I think we&#39;ll both like that. Here&#39;s my number! I&#39;m $mgName by the way.&quot;@@

//She grabs your phone from where it fell out of your pants in your haste\
  to undress and adds herself as a contact.//\
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if _showered is true&gt;&gt;
  //She shows you to her bathroom, letting you take a quick shower before you leave.//
&lt;&lt;else&gt;&gt;
  &lt;span title=&quot;Slut +2&quot;&gt;//@@color:red;You get dressed, not bothering to shower before you leave.@@//&lt;/span&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if _assSlap is true&gt;&gt;
  &lt;br&gt;&lt;br&gt;
  &lt;span title=&quot;Sissy +1&quot;&gt;//@@color:magenta;She gives you wink and a good slap on your ass on your way out the door.@@//&lt;/span&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;

You:
* [[Head home ▶▶▶|Road Home]]
\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $happyVisited to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="13" name="Appetizer" tags="Top" position="600,875" size="100,100">!Appetizer
&lt;span title=&quot;Alpha +3&quot;&gt;\
  //@@color:cyan;She&#39;s none too happy cyan;you declined@@,\
    but she&#39;s still horny and ready to go, so she plays along.\
    No turning back now.//\
&lt;/span&gt;

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/appetizer_girl_kneeling_annoyed_01.jpg&quot; alt=&quot;Girl kneeling, looking annoyed.&quot;&gt;\

//You sink back into an arm chair.\
  She kneels in front of you and pulls out your $mcDick.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;appetizerChoose&quot;&gt;
  She gives you:
  &lt;ul&gt;
    &lt;li id=&quot;appetizerOpt1&quot; title=&quot;Alpha +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;A handjob@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;appetizerOpt2&quot; title=&quot;Alpha +2&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;A blowjob@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 2&gt;&gt;
        &lt;&lt;set $blowjobsReceived++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;appetizerOpt3&quot; title=&quot;Alpha +2, Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;A blowjob@@, @@color:red;with a twist@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 2&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;set $blowjobsReceived++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;appetizerOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#appetizerOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#appetizerOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#appetizerOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#appetizerOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#appetizerOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#appetizerOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#appetizerOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;appetizerChoice1&quot; title=&quot;Alpha +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;She spits on her hand and starts giving you a rough handjob.@@\
    If she&#39;s disappointed by your size, she doesn&#39;t say anything.//

  &lt;img src=&quot;images/ep01/main_course_handjob_01.jpg&quot; alt=&quot;Girl giving you a handjob&quot;&gt;\

  //She looks up at you in bemused sort of way,\
    almost like she wasn&#39;t expecting to be in this position tonight.\
    Whatever; you&#39;ll have your $mcDick in her soon enough.//
&lt;/div&gt;\
&lt;div id=&quot;appetizerChoice2&quot; title=&quot;Alpha +2&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;She starts giving you a blowjob, taking you deep into her mouth,\
    your dick just barely touching the back of her throat as she&#39;s got you\
    swallowed to the hilt.@@\
    You&#39;re not exactly huge, but you&#39;re big enough to fill her mouth.//

  &lt;img src=&quot;images/ep01/main_course_01.jpg&quot; alt=&quot;Girl giving blowjob&quot;&gt;\

  //You lean back and enjoy the blowjob as she works you in and out of\
    her mouth for a few  minutes.\
    You&#39;re rock-hard and feeling good.\
    Time to move things along.//
&lt;/div&gt;\
&lt;div id=&quot;appetizerChoice3&quot; title=&quot;Alpha +2, Slut +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;She starts giving you a blowjob@@,\
    @@color:red;then slides her finger into your ass, fingering you.@@\
    You shudder at the penetration,\
    having never had anyone stick anything up your ass before.\
    he moves her finger expertly, making you wonder if maybe\
    @@color:red;you might like a little more...@@//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/warm_up_bj_fingering_01.jpg&quot; alt=&quot;Girl giving blowjob while fingering guy&#39;s prostate&quot;&gt;\

  //Her blowjob and fingering have started to bring you to the edge.\
    Time to show her what you&#39;re made of.//
&lt;/div&gt;\
&lt;div id=&quot;appetizerEnd&quot; class=&quot;hide&quot;&gt;\
* &lt;&lt;link &quot;You&#39;re ready to roll ▶▶▶&quot; &quot;Main Course&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Main Course]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="14" name="Main Course" tags="Top" position="750,875" size="100,100">!Main Course
//Your dick is rock-hard, wet with her saliva, and ready to rock-and-roll.\
  You pull her up and toss her on the bed.\
  She seems a bit surprised at this, but doesn&#39;t say anything.//\
&lt;&lt;if $mgTrans is true&gt;&gt;\
  //You can see her $mgDick hardening up,\
    clearly hoping that it gets to plunder something warm and wet.//\
&lt;&lt;else&gt;&gt;\
  //She glances over at where her $mgDick is resting on her vanity\
    with a bottle of lube sitting beside it.\
    She&#39;s obviously disappointed that she&#39;s not going to get to use it tonight.//
&lt;&lt;/if&gt;&gt;\

//Well, tough cookies.\
  Tonight, you&#39;re doing the fucking.\
  After all, you&#39;re the only &#39;&#39;real&#39;&#39; man here.//

&lt;img src=&quot;images/ep01/main_course_02.jpg&quot; alt=&quot;Girl, half-naked, on her back with legs spread.&quot;&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;mainCourseChoose&quot;&gt;
  You start fucking her in:
  &lt;ul&gt;
    &lt;li id=&quot;mainCourseOpt1&quot; title=&quot;Alpha +2&quot;&gt;
      &lt;&lt;if $mgTrans is true&gt;&gt;
        &lt;&lt;set _link1Text to &quot;@@color:cyan;Her mouth@@ ▶▶▶&quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;set _link1Text to &quot;@@color:cyan;Her pussy@@ ▶▶▶&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      &lt;&lt;link _link1Text&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 2&gt;&gt;
        &lt;&lt;if $mgTrans is true&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseChoice1Mouth&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseChoice2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $blowjobsReceived++&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseChoice1Pussy&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $ep1FuckedPussy to true&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;mainCourseOpt2&quot; title=&quot;Alpha +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Her ass@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;mainCourseOpt3&quot; title=&quot;Alpha +1, Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Her ass@@, @@color:red;while she fingers you@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;mainCourseOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mainCourseOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mainCourseOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;mainCourseChoice1Mouth&quot; title=&quot;Alpha +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;You grab $mgNames head and force your $mcDick into her mouth.@@\
    To her credit, she takes it in stride and sucks hard, creating a vacuum with her lips.\
    You start fucking her face, pushing your cock to the back of her throat,\
    which opens up to accept you.//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/main_course_blowjob_01.jpg&quot;
    alt=&quot;Blue-haired girl sucking dick&quot;&gt;\

  //You fuck her face for a few minutes until you can feel your load start to build up.\
    Not wanting to end things this quickly, you pull out of her mouth and pull her up.//

&lt;/div&gt;\
&lt;div id=&quot;mainCourseChoice1Pussy&quot; title=&quot;Alpha +2&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;You pull her up onto the bed and line up your cock with her pussy.\
    Before she can say anything, you shove your dick in and start fucking.@@\
    She seems slightly surprised at first, but doesn&#39;t say anything,\
    only giving you a bemused smile as you pick up the pace and pound away at her.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/main_course_girl_fucked_missionary_01.gif&quot; alt=&quot;Blue haired girl being fucked missionary.&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;mainCourseChoice2&quot; title=&quot;Alpha +1&quot; class=&quot;hide&quot;&gt;\
  //You push her back onto the bed, surprising her a bit with your forcefulness.//\
  \
  &lt;&lt;if $mgTrans is true&gt;&gt;\
    //She rolls over, exposing her ass and pulling her cheeks apart so you can dive in.\
      @@color:cyan;You spit once on her exposed fuckhole and slide your cock in.@@\
      You pick up speed and start fucking her.//

    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/main_course_futa_ass_fucking.gif&quot;
      alt=&quot;Blue-haired futa getting fucked in the ass.&quot;&gt;
  &lt;&lt;else&gt;&gt;\
    //@@color:cyan;You lay back on the bed and she straddles you,\
      lowering her ass down onto your waiting cock.@@\
      You slide in to the hilt, she&#39;s obviously no novice at this,\
      and she starts riding you.//

    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/main_course_girl_anal_01.jpg&quot;
      alt=&quot;Blue-haired girl getting fucked in the ass.&quot;&gt;
  &lt;&lt;/if&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;mainCourseChoice3&quot; title=&quot;Alpha +1, Slut +1&quot; class=&quot;hide&quot;&gt;\
  //She lays back on the bed&lt;&lt;if $mgTrans isnot true&gt;&gt;,\
    covering her pussy with one hand,&lt;&lt;/if&gt;&gt;\
    and exposes her ass.\
    @@color:cyan;You take her invitation and shove your cock in roughly.@@\
    She doesn&#39;t bat an eye; apparently well-experienced using this hole.//

  //She puts two fingers in her mouth and sucks on them for a moment,\
    covering them with saliva.\
    She pulls you in close as you&#39;re fucking her and\
    @@color:red;slips a finger in your ass!@@\
    It&#39;s a kind of odd position, but she seems intent on keeping her finger up there,\
    rooting around in your ass, which adds to your own pleasure.//

&lt;/div&gt;\
&lt;div id=&quot;mainCourseEnd&quot; class=&quot;hide&quot;&gt;\
//Soon enough, she seems to accept her place as the submissive one for the moment and\
  begins to enjoy your dick, her eyes rolling back in her head as you fuck her,\
  before she meets your gaze again.//
* &lt;&lt;link &quot;Fuck her hard! ▶▶▶&quot; &quot;Cumming&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Cumming]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="15" name="Cumming" tags="" position="900,875" size="100,100">!Cumming
//You&#39;re giving it to her as hard as you can, but soon you feel like you&#39;re about to burst.\
  Your cock spasms in her and she cums just as your load is about to erupt out of you.\
  Moaning from her orgasm, she&#39;s unable to speak,leaving you to decide where you&#39;re going to unload.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;cummingChoose&quot;&gt;
  You bust your nut:
  &lt;ul&gt;
    &lt;li id=&quot;cummingOpt1&quot; title=&quot;Alpha +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;All over her body@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cummingChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cummingEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cummingChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;cummingOpt2&quot; title=&quot;Alpha +2&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Right on her face@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cummingChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cummingEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cummingChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 2&gt;&gt;
        &lt;&lt;set $ep1CameOnFace to true&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;span id=&quot;cummingOpt3&quot;  title=&quot;Alpha +3&quot;&gt;
      &lt;&lt;if $ep1FuckedPussy&gt;&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;@@color:cyan;Deep inside her@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cummingChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cummingEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cummingChoice3Pussy&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;aUp 3&gt;&gt;
            &lt;&lt;set $mgPregnant to true&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;else&gt;&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;@@color:cyan;Deep inside her@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cummingChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cummingEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cummingChoice3Ass&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;aUp 3&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;/span&gt;
    &lt;li id=&quot;cummingOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#cummingOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#cummingOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cummingOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#cummingOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cummingOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#cummingOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cummingOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;cummingChoice1&quot; title=&quot;Alpha +1&quot; class=&quot;hide&quot;&gt;\
  /* Cum on body */\
  &lt;&lt;if $mgTrans&gt;&gt;
    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/cumming_on_body_futa_01.jpg&quot;
        alt=&quot;A blue-haired futa covered in cum.&quot;&gt;\
  &lt;&lt;else&gt;&gt;
    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/cumming_on_body_girl_01.jpg&quot;
        alt=&quot;A blue-haired girl covered in cum.&quot;&gt;\
  &lt;&lt;/if&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;cummingChoice2&quot; title=&quot;Alpha +2&quot; class=&quot;hide&quot;&gt;\
  /* Cum on face */\
  //@@color:cyan;You pull out and grab your dick, stroking like crazy,\
    aiming for her face.@@//\
    @@color:deepskyblue;&quot;What are you...?&quot;@@

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/cumming_facial_01.gif&quot;
      alt=&quot;Cumming on a blue-haired girl&#39;s face.&quot;&gt;\

  //She barely has time to get the words out before you erupt all over her,\
    coating her face with your jizz.\
    She doesn&#39;t look exactly pleased with the facial.//
&lt;/div&gt;\
&lt;div id=&quot;cummingChoice3Pussy&quot; title=&quot;Alpha +3&quot; class=&quot;hide&quot;&gt;\
  /* Cum in pussy */\
  //Well, if she&#39;s not going to object, you&#39;re not pulling out.\
    You give her several more hard thrusts before finally unloading deep in her pussy.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/cumming_girl_pussy_creampie_01.jpg&quot;
      alt=&quot;Blue-haired girl getting a creampie in her pussy.&quot;&gt;\

  //@@color:coral;Fuck,@@ you think to yourself,\
    @@color:coral;I should have worn a condom.@@//
&lt;/div&gt;\
&lt;div id=&quot;cummingChoice3Ass&quot; title=&quot;Alpha +3&quot; class=&quot;hide&quot;&gt;\
  /* Cum in ass */\
  &lt;&lt;if $mgTrans&gt;&gt;\
    //She&#39;s still pushing back on you while riding out her orgasm.\
      You can see her dick spurting out its load onto her thighs as\
      you continue fucking her ass; no reason for you to pull out now.//

    //A few more hard thrusts and you erupt, spewing your hot baby-batter deep in her gut.//

    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/cumming_trans_anal_01.jpg&quot;
      alt=&quot;Blue-haired girl getting creampied in the ass.&quot;&gt;\
  &lt;&lt;else&gt;&gt;\
    //She&#39;s still riding you, shuddering and moaning the whole time.\
      You grab her hips and add your own thrusts into the mix,
      fucking her ass in time with her bounces.\
      It only takes a few more good thrusts for you to cum,\
      unleashing your load deep in her ass.//

    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/cumming_girl_anal_01.jpg&quot;
      alt=&quot;Blue-haired girl getting creampied in the ass.&quot;&gt;\
  &lt;&lt;/if&gt;&gt;\

    //Fortunately, she doesn&#39;t seem to mind that much;\
      guess it was better than the alternatives.//
&lt;/div&gt;\
&lt;div id=&quot;cummingEnd&quot; class=&quot;hide&quot;&gt;\
* &lt;&lt;link &quot;Time to bounce ▶▶▶&quot; &quot;Frustrated&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Frustrated]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="16" name="Frustrated" tags="" position="1050,875" size="100,100">!Frustrated
//Even though you fucked her good, you can still see the frustration on her face. It seems she really wanted to fuck you tonight, but looks like she&#39;ll need to find another boy-toy or wait for you to change your mind.

&lt;img class=&quot;taller_img&quot; src=&quot;images/portraits/girl_frustrated.png&quot; alt=&quot;Girl looking frustrated&quot;&gt;
You get dressed and she escorts you to the door.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;frustratedChoose&quot;&gt;
  On the way out the door you:
  &lt;ul&gt;
   &lt;li id=&quot;frustratedOpt2&quot; title=&quot;Alpha +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Kiss her@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#frustratedChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#frustratedEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#frustratedChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;frustratedOpt2&quot; title=&quot;Alpha +2&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Just walk away@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#frustratedChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#frustratedEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#frustratedChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 2&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $ep1CameOnFace&gt;&gt;
      &lt;li id=&quot;frustratedOpt3&quot; title=&quot;Slut +1&quot;&gt;
        &lt;&lt;link &quot;@@color:red;Kiss her cum-covered face@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#frustratedChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#frustratedEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#frustratedChoice3&quot; &quot;hide&quot;&gt;&gt;\
          &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;frustratedOptRand1&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#frustratedOptRand1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#frustratedOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#frustratedOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#frustratedOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#frustratedOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#frustratedOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#frustratedOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;frustratedOptRand2&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#frustratedOptRand2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
            &lt;&lt;if _rand is 1&gt;&gt;
              &lt;&lt;toggleclass &quot;#frustratedOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#frustratedOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;frustratedChoice1&quot; title=&quot;Alpha +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;You give $mgName a quick peck on the cheek on your way out the door.@@//\
    @@color:coral;&quot;Maybe I&#39;ll see you again?&quot;@@ //you say, doubtfully.//
&lt;/div&gt;\
&lt;div id=&quot;frustratedChoice2&quot; title=&quot;Alpha +2&quot; class=&quot;hide&quot;&gt;\
  //@@color:cyan;You walk out the door, not paying $mgName any mind as you head home,\
    pretty sure you&#39;re never going to see her again.@@//
&lt;/div&gt;\
&lt;div id=&quot;frustratedChoice3&quot; title=&quot;Slut +1&quot; class=&quot;hide&quot;&gt;\
  //@@color:red;You give $mgName a kiss on her cum-covered face,\
    tasting a bit of your own salty cum as you walk out the door.@@//\
    @@color:coral;&quot;Maybe I&#39;ll see you again?&quot;@@ //you say, hopeful.//
&lt;/div&gt;\
&lt;div id=&quot;frustratedEnd&quot; class=&quot;hide&quot;&gt;\
* &lt;&lt;link &quot;Head home ▶▶▶&quot; &quot;Road Home&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $frustratedVisited to true&gt;&gt;
  [[Road Home]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="17" name="Road Home" tags="" position="1050,725" size="100,100">!Road Home
&lt;img src=&quot;images/ep01/road_home_01.jpg&quot; alt=&quot;A dark road.&quot;&gt;\

//As you walk to your home on the other side of town, you go through a series of narrow streets. You&#39;re passing a small dark park when a thug steps out of the shadows behind you, roughly grabbing your neck and jabbing you in the back with something sharp.//

&lt;&lt;osay&gt;&gt;My my, what a tasty little thing you are...&lt;&lt;/osay&gt;&gt; //$malesHe says, licking your ear.// &lt;&lt;osay&gt;&gt;Just do what I say now and you won&#39;t get hurt none.&lt;&lt;/osay&gt;&gt; //You can hear $malesHis vicious smile in your ear.//

&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $alphaScore gte $sissyScore and $alphaScore gt $slutScore&gt;&gt;
  &lt;&lt;set $roadHomeResult to 1&gt;&gt;
  @@color:cyan;(( Your highest skill is ALPHA ))@@&lt;br&gt;
  &lt;br&gt;
  //You attempt to fight $malesHim off, struggling in $malesHim strong grasp.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;I warned ya!&lt;&lt;/osay&gt;&gt; //$malesHe says, tightening $malesHis grip before throwing you to the ground in the dark little park. You can see the light reflecting off $malesHis blade as you attempt to stand up and defend your honor.&lt;br&gt;
  &lt;br&gt;
  A swift kick to your groin puts an end to that as you double-over and collapse in pain. You gasp for breath, struggling to get back to your knees.&lt;br&gt;
  &lt;br&gt;
  The thug steps forward and backhands you.// &lt;&lt;osay&gt;&gt;Now see here, ya made me go and mess up that pretty face. Now you&#39;re gonna suck like a good bitch, or I&#39;m gonna really have to hurt you.&lt;&lt;/osay&gt;&gt;&lt;br&gt;
  &lt;br&gt;
  //Without waiting for an answer, $malesHes already got $malesHis dick out and has grabbed you by your throat as you&#39;re on your knees. You gasp for breath, only for your open mouth to be filled with $malesHis cock.&lt;br&gt;
  &lt;br&gt;
  $malesHeCap roughly fucks your mouth for several minutes as you struggle, gasping for breath. Finally, $malesHe pulls out.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Let&#39;s have a tour of your other hole now,&lt;&lt;/osay&gt;&gt; //$malesHe says, shoving you to the ground, pulling your pants down around your thighs in one swift motion, $malesHis blade having made quick work of the waist of your pants.&lt;br&gt;
  &lt;br&gt;
  You start to scream, only for $malesHim to smack you again and grab your throat.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;None of that now!&lt;&lt;/osay&gt;&gt; //$malesHeCap rips off your underwear, tearing it to tatters and roughly shoving it into your mouth.&lt;br&gt;
  &lt;br&gt;
  Shoving your face into the dirt, $malesHe grabs your arms and pins them behind your back as $malesHe lines up $malesHis cock with your asshole before roughly shoving it in.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Oh yeah bitch, you&#39;re tight as fuck,&lt;&lt;/osay&gt;&gt; //$malesHe says, slapping your ass. $malesHeCap continues to pound you for several minutes before finally, you feel $malesHim start to pulse inside you.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Graaah!&lt;&lt;/osay&gt;&gt; //$malesHe grunts, cumming deep in your ass.// &lt;&lt;osay&gt;&gt;That&#39;s a good little fuckhole. I knew you wouldn&#39;t disappoint.&lt;&lt;/osay&gt;&gt;
&lt;&lt;elseif $slutScore gt $alphaScore and $slutScore gte $sissyScore&gt;&gt;
  &lt;&lt;set $roadHomeResult to 2&gt;&gt;
  @@color:red;(( Your highest skill is SLUT ))@@&lt;br&gt;
  &lt;br&gt;
  //In the dim street light, the cumstains on your outfit draw $malesHis eye. $malesHeCap pulls you into the small park.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Looks like we&#39;ve got a regular little cumslut here!&lt;&lt;/osay&gt;&gt; //$malesHe says, roughly shoving you to your knees.// &lt;&lt;osay&gt;&gt;Why don&#39;t you get to sucking.&lt;&lt;/osay&gt;&gt;&lt;br&gt;
  &lt;br&gt;
  //$malesHeCap pulls $malesHis dick out and shoves it down your throat, throatfucking you mercilessly. You can&#39;t help but choke and gag as $malesHis cock violates your throat, leaving you gasping for breath and trying not to puke.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Oh yeah bitch. Mmm... this is one nice throat  you got here.&lt;&lt;/osay&gt;&gt; //$malesHeCap thrusts into your throat relentlessly for several minutes as you gasp for air. The edges of your vision start to go dark from lack of oxygen.&lt;br&gt;
  &lt;br&gt;
  Just when you think you&#39;re going to pass out from choking on $malesHis dick, $malesHe hilts it all the way into your throat and you feel $malesHis cum erupt out, going straight down your throat into your stomach. $malesHeCap holds you there for a moment until $malesHe finishes pulsing before finally pulling out.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Whew! I needed that,&lt;&lt;/osay&gt;&gt; //$malesHe says, wiping $malesHis dick in your hair as you cough and sputter, trying to catch your breath.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Hope you enjoyed your snack,&lt;&lt;/osay&gt;&gt; //$malesHe smirks at you before pushing you backward onto the ground with $malesHis foot. It now fully dawns on you that you just swallowed $malesHis whole load and... @@color:red;some deep part of you doesn&#39;t hate that...@@//&lt;br&gt;
  &lt;br&gt;
  @@color:magenta;(( You drank a load of cum! ))@@
&lt;&lt;else&gt;&gt;
  &lt;&lt;set $roadHomeResult to 3&gt;&gt;
  @@color:magenta;(( Your highest skill is SISSY ))@@&lt;br&gt;
  &lt;br&gt;
  //You freeze up; this thug is clearly bigger and stronger than you and there&#39;s no one else around. You quiver and shake a little in $malesHis grasp.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;OK my little bitch, here&#39;s what&#39;s going to happen,&lt;&lt;/osay&gt;&gt; //$malesHe starts, tapping the blade of $malesHis knife against your thigh.// &lt;&lt;osay&gt;&gt;We&#39;re gonna go into that park over there and you&#39;re gonna get down on your knees and blow me.&lt;&lt;/osay&gt;&gt;&lt;br&gt;
  &lt;br&gt;
  //$malesHeCap shifts $malesHis grip up from your neck to squeeze your face as $malesHe moves around to in front of you, bringing $malesHis face in close.//&lt;br&gt;
  &lt;br&gt;
  //$malesHeCap smiles wickedly,// &lt;&lt;osay&gt;&gt;You understand pretty boy?&lt;&lt;/osay&gt;&gt;&lt;br&gt;
  &lt;br&gt;
  //You nod meekly and follow as $malesHe begins guiding you forcefully into the secluded park. $malesHeCap stops you in the shade, on a soft patch of grass and starts pushing you to your knees. Unable to resist, you drop down, bringing your face eye-level with $malesHis crotch. $malesHeCap pulls $malesHis already hardening dick out and presses it to your lips.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;Well, go on then. Suck it,&lt;&lt;/osay&gt;&gt; //$malesHe insists, pressing more earnestly into your mouth. You hesitate for a moment before opening up, taking $malesHis throbbing member onto your tongue.//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;There you go, that&#39;s a good bitch.  Get it nice and wet; it&#39;s going in your ass next.&lt;&lt;/osay&gt;&gt;&lt;br&gt;
  &lt;br&gt;
  //Your eyes widen at that and you look up at $malesHim to see $malesHim smiling down at you as $malesHe shoves $malesHis cock a bit deeper into your throat, causing you to gag a bit.&lt;br&gt;
  &lt;br&gt;
  $malesHeCap pulls out of your mouth.// &lt;&lt;osay&gt;&gt;That&#39;s enough. Get up and put your hands against that tree.&lt;&lt;/osay&gt;&gt;&lt;br&gt;
  &lt;br&gt;
  //You stand up, shaking a bit from the cold? Fear? @@color:magenta;...Anticipation?@@ You move over to the tree and lean against it, stealing a glance back at the thug.&lt;br&gt;
  &lt;br&gt;
  $malesHesCap right behind you and roughly pulls your pants and underwear down, just below your ass. $malesHeCap leans down and spreads your cheeks with one hand, $malesHis wicked blade still clutched in the other. $malesHeCap spits onto your exposed asshole then slowly rubs $malesHis thumb into it, loosing you up just a bit. You feel $malesHis cockhead next, pressed up against your sphincter, pressing only for a moment before it pops in.&lt;br&gt;
  &lt;br&gt;
  $malesHeCap grunts,// &lt;&lt;osay&gt;&gt;Fuck girly! I knew you&#39;d have a tight ass.&lt;&lt;/osay&gt;&gt; //$malesHeCap leans in close to your back, pressing you harder up against the tree as $malesHe slides into your ass.&lt;br&gt;
  &lt;br&gt;
  You feel $malesHis thighs against your exposed ass as $malesHe buries $malesHimself to the hilt in your fuckhole.// &lt;&lt;osay&gt;&gt;Oh yeah, there we go,&lt;&lt;/osay&gt;&gt; //$malesHe says as $malesHe reaches up underneath your arm and grabs your neck again, much softer this time. $malesHeCap uses $malesHis leverage to pull your upper body back towards $malesHim, as $malesHis thrust presses your crotch ever closer to the tree. Despite yourself, you @@color:magenta;moan a little bit@@.&lt;br&gt;
  &lt;br&gt;
  $malesHeCap chuckles at that,// &lt;&lt;osay&gt;&gt;I knew you were a natural for this. Enjoy it bitch, I&#39;m gonna fuck you good and proper now,&lt;&lt;/osay&gt;&gt; //and $malesHe does, first slowly thrusting in and out of you before rapidly picking up the pace.&lt;br&gt;
  &lt;br&gt;
  $malesHeCap pounds away at you, hitting your sweet spot several times and leaving you feeling empty whenever $malesHe pulls back, and oh-so-full when $malesHe drives it back home. After a few minutes, it&#39;s all you can do not to moan as you lean against the tree, your dick flopping uselessly, a steady stream of pre-cum flowing from it.&lt;br&gt;
  &lt;br&gt;
  $malesHisCap pace quickens and $malesHe pounds you harder and harder.// &lt;&lt;osay&gt;&gt;Oh fuck. Take it bitch,&lt;&lt;/osay&gt;&gt; //$malesHe says and you feel $malesHim slam $malesHis cock deep into your ass, dumping $malesHis load into the depths of your bowels.
  &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
    &lt;span title=&quot;Sissygasm check passed! Sissy+1&quot;&gt;@@color:magenta;This sets off your own sissygasm, causing you to spray your pathetic load all over the tree in front of you.@@&lt;/span&gt;
  &lt;&lt;/if&gt;&gt;
    $malesHeCap pulls out while $malesHes still shooting, spraying the last of $malesHis load up your back and into your hair.&lt;br&gt;
  &lt;br&gt;
  You collapse against the tree, sinking to the ground, your mind mush and your body exhausted. The thug leans down over you, scooping up some of $malesHis cum from your clothes and pressing it into your mouth; you can&#39;t help but lick it off...//&lt;br&gt;
  &lt;br&gt;
  &lt;&lt;osay&gt;&gt;There&#39;s a good bitch; looks like you even enjoyed yourself,&lt;&lt;/osay&gt;&gt; //$malesHe smirks.
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;

//$malesHeCap stands up, tucking $malesHis cock away before reaching back down and snatching up your wallet and phone.//

&lt;&lt;osay&gt;&gt;Souvenirs for me!&lt;&lt;/osay&gt;&gt; //$malesHe chuckles to $malesHimself before disappearing down a dark alleyway.//
* [[Aftermath ▶▶▶|Aftermath]]
\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $roadHomeVisited isnot true&gt;&gt;
    &lt;&lt;set $timesSuckedDick++&gt;&gt;
    &lt;&lt;if $roadHomeResult is 1&gt;&gt;
      &lt;&lt;set $timesAssFucked++&gt;&gt;
      &lt;&lt;set $timesCreampied++&gt;&gt;
      &lt;&lt;set $masoActs++&gt;&gt;
    &lt;&lt;elseif $roadHomeResult is 2&gt;&gt;&gt;
      &lt;&lt;set $timesDeepthroated++&gt;&gt;
      &lt;&lt;drankCum&gt;&gt;
    &lt;&lt;elseif $roadHomeResult is 3&gt;&gt;
      &lt;&lt;set $timesAssFucked++&gt;&gt;
      &lt;&lt;set $timesCreampied++&gt;&gt;
      &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;set $roadHomeVisited to true&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;updateSidebar&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="18" name="Aftermath" tags="" position="1200,725" size="100,100">!Aftermath
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $mgTrans is true&gt;&gt;
  &lt;&lt;set _randChoices = [&quot;Home 1&quot;, &quot;Femboy&#39;s Apartment 1&quot;]&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set _randChoices = [&quot;Home 1&quot;, &quot;Girl&#39;s Apartment 1&quot;]&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;set _rand to _randChoices.random(0,1)&gt;&gt;
&lt;&lt;if $aftermathVisited isnot true&gt;&gt;
  &lt;&lt;set $mcStatus to &quot;Violated...&quot;&gt;&gt;
  &lt;&lt;if $roadHomeResult is 1&gt;&gt;
    &lt;&lt;set $alphaScore to 0&gt;&gt;
  &lt;&lt;elseif $roadHomeResult is 2&gt;&gt;
    &lt;&lt;set $alphaScore to $alphaScore -7&gt;&gt;
    &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
    @@color:red;(( Your Slut score has increased by 3 ))@@&lt;br&gt;
  &lt;&lt;elseif $roadHomeResult is 3&gt;&gt;
    &lt;&lt;set $alphaScore to $alphaScore -4&gt;&gt;
    &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
    @@color:magenta;(( Your Sissy score has increased by 3 ))@@&lt;br&gt;
  &lt;&lt;/if&gt;&gt;
  @@color:gold;(( Your Alpha score has been reduced to: $alphaScore ))@@&lt;br&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
//By the time you collect yourself, the thug is long gone.\
  You were left violated in a dark park with $malesHis cum\
  &lt;&lt;if $roadHomeResult is 2&gt;&gt;covering&lt;&lt;else&gt;&gt;oozing out of&lt;&lt;/if&gt;&gt; you.\
  You can&#39;t believe what just happened.

&lt;&lt;if $roadHomeResult is 2&gt;&gt;\
  /* TODO: Image for post-facefuck (Slut) */\
&lt;&lt;else&gt;&gt;\
  &lt;&lt;if $inChastity isnot true&gt;&gt;\
    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/aftermath_boy_cum_filled_asshole_02.jpg&quot; alt=&quot;A cum-filled girly-boy&#39;s ass.&quot;&gt;\
  &lt;&lt;else&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep01/aftermath_chastity_01.jpg&quot; alt=&quot;A cum-filled girly-boy&#39;s ass.&quot;&gt;\
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/if&gt;&gt;
Your clothes torn and dirty, you gather what little things you still have,\
  your wallet and phone having left with your assailant.\
  Alone in the dark, late at night, in an unfamiliar part of town,\
  you have to make a difficult choice.//

You:
* &lt;span title=&quot;Alpha +1&quot;&gt;&lt;&lt;link &quot;@@color:cyan;Stumble home@@ ▶▶▶&quot; &quot;Home 1&quot;&gt;&gt;\
    &lt;&lt;set $alphaScore++&gt;&gt;\
    &lt;&lt;set $alphaScore to $alphaScore + $alphaGainMod&gt;&gt;\
  &lt;&lt;/link&gt;&gt;&lt;/span&gt;
* &lt;span title=&quot;Alpha -1&quot;&gt;&lt;&lt;if $mgTrans is true&gt;&gt;\
    &lt;&lt;link &quot;@@color:gold;Return to $mgNames apartment@@ ▶▶▶&quot; &quot;Femboy&#39;s Apartment 1&quot;&gt;&gt;\
      &lt;&lt;set $alphaScore--&gt;&gt;\
    &lt;&lt;/link&gt;&gt;\
  &lt;&lt;else&gt;&gt;\
    &lt;&lt;link &quot;@@color:gold;Return to $mgNames apartment@@ ▶▶▶&quot; &quot;Girl&#39;s Apartment 1&quot;&gt;&gt;&lt;&lt;set $alphaScore--&gt;&gt;&lt;&lt;/link&gt;&gt;\
  &lt;&lt;/if&gt;&gt;&lt;/span&gt;
* &lt;&lt;link &quot;Random ▶▶▶&quot; _rand&gt;&gt;\
    &lt;&lt;if _rand is &quot;Home 1&quot;&gt;&gt;\
      &lt;&lt;aUp 1&gt;&gt;
    &lt;&lt;else&gt;&gt;\
      &lt;&lt;set $alphaScore--&gt;&gt;\
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/link&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $aftermathVisited to true&gt;&gt;
/* Hidden Links */
  [[Femboy&#39;s Apartment 1]]
  [[Girl&#39;s Apartment 1]]
  [[Home 1]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="19" name="Home 1" tags="" position="1200,575" size="100,100">!Home
//After a long, thankfully uneventful, walk you finally reach your apartment. You dump your dirty clothes in the hamper, hoping that some of them can be salvaged, and jump into the hot shower.

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/boy_shower_01.jpg&quot; alt=&quot;A feminine boy taking a shower.&quot;&gt;

While the warm water washes away the dirt and the cum, the memories remain, plaguing you. On the one hand, you feel violated and your experiences tonight frighten you, but on the other... On the other you feel confused, but alive, and excited...//

You:
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  &lt;li&gt; &lt;span title=&quot;Sissy +1, Slut +1&quot;&gt;&lt;&lt;link &quot;@@color:red;Embrace this@@ @@color:magenta;side of you@@ ▶▶▶&quot; &quot;EP1 End Card&quot;&gt;&gt;&lt;&lt;set $slutScore++&gt;&gt;&lt;&lt;set $sissyScore++&gt;&gt;&lt;&lt;set $ep1End to 1&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/span&gt;&lt;/li&gt;
  &lt;&lt;if $inChastity isnot true&gt;&gt;
    &lt;li&gt;[[Reject these feelings, jump out of the shower and go to the police! ▶▶▶|Game Over - Went to the Police]]&lt;/li&gt;
  &lt;&lt;else&gt;&gt;
    &lt;span id=&quot;home1ChastityHider1&quot;&gt;
      &lt;li&gt;
        &lt;&lt;link &quot;Reject these feelings, jump out of the shower and go to the police! ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#home1ChastityHider1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#home1ChastityHider2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/span&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;span id=&quot;home1ChastityHider2&quot; class=&quot;hide&quot;&gt;
    ((@@color:gold;Who do you think you&#39;re kidding? You&#39;re already locked up like a good little sissy; of course you want this!@@))
  &lt;/span&gt;
&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[EP1 End Card]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="20" name="Femboy&#39;s Apartment 1" tags="" position="1350,725" size="100,100">!$mgNames Apartment
//You knock on her door and she opens it, surprised to see you. It takes her only a fraction of a second to figure out what happened to you.

She pulls you inside, makes you a cup of hot tea and prepares a hot shower for you.

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/boy_shower_01.jpg&quot; alt=&quot;An feminine boy taking a shower.&quot;&gt;

When you get out of the shower, she fetches some of her clothes for you, as yours are clearly destroyed. She offers you a t-shirt, panties, and socks for the night.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/femboys_apartment_panties_01.jpg&quot; alt=&quot;Butt-shot of girl wearing panties.&quot;&gt;

You put on (as many as you like):
&lt;&lt;nobr&gt;&gt;
&lt;ul&gt;
  &lt;span id=&quot;femboyAptPanties&quot; title=&quot;Sissy +1&quot;&gt;
  &lt;li&gt;&lt;&lt;link &quot;@@color:magenta;Panties@@ ▶▶▶&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#femboyAptPanties&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $sissyScore++&gt;&gt;
    &lt;&lt;set $pantiesClassicOwned to true&gt;&gt;
    &lt;&lt;set $pantiesClassicWorn to true&gt;&gt;
    &lt;&lt;set $underwearOwned to true&gt;&gt;
    &lt;&lt;set $underwearWorn to true&gt;&gt;
  &lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;/span&gt;
  &lt;span id=&quot;femboyAptShirt&quot; title=&quot;Sissy +1&quot;&gt;
  &lt;li&gt;&lt;&lt;link &quot;@@color:magenta;Girly t-shirt@@ ▶▶▶&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#femboyAptShirt&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $sissyScore++&gt;&gt;
    &lt;&lt;set $tshirtFOwned to true&gt;&gt;
    &lt;&lt;set $tshirtFWorn to true&gt;&gt;
    &lt;&lt;set $upperBodyOwned to true&gt;&gt;
    &lt;&lt;set $upperBodyWorn to true&gt;&gt;
  &lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;/span&gt;
  &lt;span id=&quot;femboyAptSocks&quot; title=&quot;Sissy +1&quot;&gt;
  &lt;li&gt;&lt;&lt;link &quot;@@color:magenta;Girly short socks@@ ▶▶▶&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#femboyAptSocks&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $sissyScore++&gt;&gt;
    &lt;&lt;set $socksOwned to true&gt;&gt;
    &lt;&lt;set $socksWorn to true&gt;&gt;
    &lt;&lt;set $hosieryWorn to true&gt;&gt;
    &lt;&lt;set $hosieryOwned to true&gt;&gt;
  &lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;/span&gt;
  &lt;li&gt;[[I have what I need ▶▶▶|Femboy&#39;s Bed]]&lt;/li&gt;
&lt;/ul&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="21" name="Femboy&#39;s Bed" tags="" position="1350,525" size="100,100">!$mgNames Bed
&lt;img class=&quot;square_img&quot; src=&quot;images/ep01/femboys_bed_01.jpg&quot; alt=&quot;Girl in bed.&quot;&gt;

//As the two of you climb into bed, your mind begins to race.\
  You were just violated not long ago, but somehow $mgName makes you feel safe.\
  Just as this occurs to you, $mgName snuggles up behind you,\
  taking the big spoon position.//

//You two snuggle together and soon you can feel her $mgDick poking you.//\
  @@color:deepskyblue;&quot;Sorry,&quot;@@ //she whispers,\
  but makes no effort to move as it hardens and snugs up between your asscheeks.\
  Somehow, it feels right.//
\
&lt;&lt;nobr&gt;&gt;
  &lt;span id=&quot;minaBedGnight&quot;&gt;
    &lt;ul&gt;
      &lt;li&gt;
        You - &lt;&lt;link &quot;@@color:coral;\&quot;Good night Mina...\&quot;@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#minaBedGnight&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#minaBedGnightResponse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#minaBedBeingGirl&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/span&gt;
  &lt;span id=&quot;minaBedGnightResponse&quot; class=&quot;hide&quot;&gt;
    &lt;ul&gt;
      &lt;li&gt;You - @@color:coral;&quot;Good night Mina...&quot;@@&lt;/li&gt;
    &lt;/ul&gt;
    Her - @@color:deepskyblue;&quot;Good night...&quot;@@&lt;br&gt;
    &lt;br&gt;
    //You lay there for a moment, feeling her breath start to slow down as she begins to drift off.//
  &lt;/span&gt;
  &lt;ul&gt;
    &lt;span id=&quot;minaBedBeingGirl&quot; class=&quot;hide&quot;&gt;
      &lt;span id=&quot;minaBedGirLink&quot;&gt;
        &lt;li&gt;
          You - &lt;&lt;link &quot;@@color:coral;\&quot;Mina... I think... I think I might like to be a girl.\&quot;@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#minaBedGirLink&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#minaBedGirlResponse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/span&gt;
    &lt;/span&gt;
  &lt;/ul&gt;
  &lt;span id=&quot;minaBedGirlResponse&quot; class=&quot;hide&quot;&gt;
  &lt;ul&gt;
    &lt;li&gt; You - @@color:coral;&quot;Mina... I think... I think I might like to be a girl.&quot;@@&lt;/li&gt;
  &lt;/ul&gt;
  Her - @@color:deepskyblue;&quot;I know sweetie, I know,&quot;@@ //she says, kissing you tenderly on the back of your neck before slowly fading off to sleep.//
  &lt;ul&gt;
    &lt;li title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;You drift off to sleep, wrapped in her arms.@@ ($mgName will help you on this journey) ▶▶▶&quot; &quot;EP1 End Card&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;set $ep1End to 2&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;/span&gt;
&lt;&lt;/nobr&gt;&gt;
&lt;&lt;silently&gt;&gt;\
  /* Hidden Links */
  [[EP1 End Card]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="22" name="Girl&#39;s Apartment 1" tags="" position="1200,875" size="100,100">!$mgNames Apartment
//It takes her a while to open the door, but when she sees you, she immediately pulls you inside. Once inside, she takes a closer look at you and stammers,// @@color:deepskyblue;&quot;Were you... are you...?&quot;@@

&lt;img class=&quot;tall_img&quot; src=&quot;images/portraits/girl_ohmy.png&quot; alt=&quot;Blue-haired girl looking mildly surprised.&quot;&gt;

//You stumble over your words, feeling yourself on the edge of tears. You&#39;ve never felt so vulnerable before.//

@@color:coral;&quot;I... in the park.. $malesHe...&quot;@@ //Your words falter, but $mgName seems to pick up on your meaning all the same. She nods slowly, contemplating.

You look down at yourself again. You&#39;ve got no wallet, no phone, and no idea what to even do. The worst part is, you&#39;re not even sure you hated it. You may have even liked it! &lt;&lt;if $hasPerkSissygasm&gt;&gt;@@color:magenta;You even came!@@&lt;&lt;/if&gt;&gt;//

@@color:coral;&quot;I... $malesHe took my phone,&quot;@@ //you say finally, as if that somehow explains your state.//

@@color:deepskyblue;&quot;Oh honey... Well, let&#39;s get you cleaned up first,&quot;@@ //she says, pushing you into the shower.// @@color:deepskyblue;&quot;You can spend the night here. Is the couch OK?&quot;@@

//You nod meekly as you start showering. She leaves, taking your clothes to clean them.

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep01/boy_shower_01.jpg&quot; alt=&quot;An feminine boy taking a shower.&quot;&gt;
When you get out of the shower, she hands you// &lt;&lt;nobr&gt;&gt;
&lt;&lt;if $mgHappy is true&gt;&gt;
  //&lt;span title=&quot;Sissy +1&quot;&gt;@@color:magenta;a girly t-shirt@@.&lt;/span&gt;//
  &lt;&lt;set $upperBodyOwned to true&gt;&gt;
  &lt;&lt;set $upperBodyWorn to true&gt;&gt;
  &lt;&lt;set $tshirtFOwned to true&gt;&gt;
  &lt;&lt;set $tshirtFWorn to true&gt;&gt;
&lt;&lt;else&gt;&gt;
  //an over-sided band t-shirt.//
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $mgHappy is true&gt;&gt;
  @@color:deepskyblue;&quot;Here, you can keep it.@@
&lt;&lt;else&gt;&gt;
  @@color:deepskyblue;&quot;I&#39;ll want that back in the morning.@@
&lt;&lt;/if&gt;&gt;
@@color:deepskyblue; The rest of your clothes are in the wash. They&#39;re... not in a good state. We&#39;ll get you some new ones in the morning.&quot;@@
&lt;&lt;/nobr&gt;&gt;

//She looks at you as you pull on the shirt, your flacid little cock poking out from underneath.// @@color:deepskyblue;&quot;You seem like you&#39;re doing better now. I knew there was something special about you...&quot;@@

You:
* &lt;&lt;link &quot;Crash on $mgNames couch ▶▶▶&quot; &quot;Girl&#39;s Couch&quot;&gt;&gt;\
    &lt;&lt;set $mcStatus to &quot;I guess it&#39;s the couch...&quot;&gt;&gt;\
  &lt;&lt;/link&gt;&gt;
&lt;&lt;silently&gt;&gt;
/* Hidden Links */
[[Girl&#39;s Couch]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="23" name="Girl&#39;s Couch" tags="" position="1350,875" size="100,100">!Lea&#39;s Couch
//She shows you to the couch as you follow behind meekly, your exhaustion hitting you all of a sudden. The beginning light of dawn starts to creep in through the windows as you collapse onto the couch.//

&lt;img class=&quot;square_img&quot; src=&quot;images/ep01/girls_couch_01.jpg&quot;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $mgHappy is false&gt;&gt;
  &lt;br&gt;
  @@color:deepskyblue;&quot;By the way, my name is $mgName,&quot;@@// she says.//&lt;br&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
//She goes to turn off the light, but turns back and asks you,// @@color:deepskyblue;&quot;Do you need anything else?&quot;@@

You respond:
&lt;&lt;nobr&gt;&gt;
&lt;ul&gt;
&lt;span id=&quot;girlsCouchChoice2&quot;&gt;
  &lt;li&gt; [[&quot;No, I&#39;m alright. Good Night. ▶▶▶&quot;|EP1 End Card][$ep1End to 3]]&lt;/li&gt;
&lt;/span&gt;
&lt;&lt;if $mgHappy is true&gt;&gt;
  &lt;span id=&quot;girlsCouchChoice1&quot;&gt;&lt;li&gt;&lt;&lt;link &#39;You - @@color:coral;&quot;Am I... Am I gay now?&quot;@@ ▶▶▶&#39;&gt;&gt;&lt;&lt;toggleclass &quot;#girlsCouchChoice1&quot; &quot;hide&quot;&gt;&gt;&lt;&lt;toggleclass &quot;#girlsCouchChoice2&quot; &quot;hide&quot;&gt;&gt;&lt;&lt;toggleclass &quot;#girlsCouchResponse&quot; &quot;hide&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;&lt;/span&gt;
&lt;&lt;/if&gt;&gt;
&lt;/ul&gt;
&lt;span id=&quot;girlsCouchResponse&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;
&lt;ul&gt;&lt;li&gt;You - @@color:coral;&quot;Am I... Am I gay now?&quot;@@&lt;/li&gt;&lt;/ul&gt;
Her - @@color:deepskyblue;&quot;Maybe... We&#39;ll have to see. G&#39;night.&quot;@@&lt;br&gt;
&lt;ul&gt;
  &lt;li&gt; &lt;&lt;link &quot;@@color:magenta;Go to sleep@@ ▶▶▶&quot; &quot;EP1 End Card&quot;&gt;&gt;
    &lt;&lt;set $sissyScore++&gt;&gt;
    &lt;&lt;set $ep1End to 3&gt;&gt;
  &lt;&lt;/link&gt;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/span&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;\
  /* Hidden Links */
  [[EP1 End Card]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="24" name="EP1 End Card" tags="" position="1500,725" size="100,100">!Episode 1 End
&#39;&#39;End of Episode 1 - &quot;The Fateful Night&quot;&#39;&#39;
\
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  &lt;&lt;if $ep1End is 1&gt;&gt;
    &lt;li&gt;&lt;&lt;link &quot;The next morning ▶▶▶&quot; &quot;A Wet Dream&quot;&gt;&gt;
      &lt;&lt;set $episode++&gt;&gt;
      &lt;&lt;set $episodeTitle to &quot;The Day After&quot;&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;&lt;elseif $ep1End is 2&gt;&gt;
    &lt;li&gt;&lt;&lt;link &quot;The next morning ▶▶▶&quot; &quot;A New Friend&quot;&gt;&gt;
      &lt;&lt;set $episode++&gt;&gt;
      &lt;&lt;set $episodeTitle to &quot;The Day After&quot;&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;&lt;elseif $ep1End is 3&gt;&gt;
    &lt;li&gt;&lt;&lt;link &quot;The next morning ▶▶▶&quot; &quot;A New Life&quot;&gt;&gt;
      &lt;&lt;set $episode++&gt;&gt;
      &lt;&lt;set $episodeTitle to &quot;The Day After&quot;&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;&lt;/if&gt;&gt;
&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\
\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $ep1EndCardVisited isnot true&gt;&gt;
    &lt;&lt;set $dayCounter++&gt;&gt;
    &lt;&lt;set $dayOfWeekCounter++&gt;&gt;
    &lt;&lt;set $ep1EndCardVisited to true&gt;&gt;
    &lt;&lt;set $mcStatus to &quot;A new day!&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  /* Hidden Links */
  [[A New Friend]]
  [[A Wet Dream]]
  [[A New Life]]

  /* Cleanup EP01 vars */
  &lt;&lt;unset $WarmUpVisited&gt;&gt;
  &lt;&lt;unset $mainCourseVisited&gt;&gt;
  &lt;&lt;unset $theRealDealVisited&gt;&gt;
  &lt;&lt;unset $cummingVisited&gt;&gt;
  &lt;&lt;unset $frustratedVisited&gt;&gt;
  &lt;&lt;unset $rideItBabyVisited&gt;&gt;
  &lt;&lt;unset $ridingStrapOnVisited&gt;&gt;
  &lt;&lt;unset $happyVisited&gt;&gt;
  &lt;&lt;unset $roadHomeVisited&gt;&gt;
  &lt;&lt;unset $aftermathVisited&gt;&gt;
  &lt;&lt;unset $helloStrangerChoice&gt;&gt;
  &lt;&lt;unset $sheTakesOverChoice&gt;&gt;
  &lt;&lt;unset $warmUpChoice&gt;&gt;
  &lt;&lt;unset $appetizerChoice&gt;&gt;
  &lt;&lt;unset $mainCourseChoice&gt;&gt;
  &lt;&lt;unset $theRealDealChoice&gt;&gt;
  &lt;&lt;unset $cummingChoice&gt;&gt;
  &lt;&lt;unset $cleanItUpChoice&gt;&gt;
  &lt;&lt;unset $frustratedChoice&gt;&gt;
  &lt;&lt;unset $rideItBabyChoice&gt;&gt;
  &lt;&lt;unset $cumInCondomChoice&gt;&gt;
  &lt;&lt;unset $cumOnYouChoice&gt;&gt;
  &lt;&lt;unset $ridingStraponChoice&gt;&gt;
  &lt;&lt;unset $ep1RefusedToSuck&gt;&gt;
  &lt;&lt;unset $ep1FuckedPussy&gt;&gt;
  &lt;&lt;unset $ep1CameOnFace&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="25" name="A Wet Dream" tags="" position="1650,425" size="100,100">!A Wet Dream
//A hulking woman presses down onto you with all her weight, sandwiching you between her and the mattress. You can&#39;t move except to press back against her. Her monster cock is buried in your asshole, ripping it apart, forcing your eyes to roll back in your head. With each balls-deep thrust into you, you cum on the sheets below you. Exhausted from the ravishing, you can only grip the sheets as you moan through clenched teeth.

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/a_wet_dream_01.jpg&quot;&gt;
You wake up, the bed sticky with with your cum. You lay there panting for a moment before starting to extricate yourself, the dream slowly fades away, but the feelings it evoked remain. You shudder as your feet hit the cold floor and drop of your cum drips down from your dick, landing on your toes.

You hop in the shower, already dirty again, and wonder what your newly-awakened feelings will mean for your life going forward. You can feel an ache within yourself from the previous night&#39;s events. Not pain, not really. More like... //need//. You shudder to yourself as you shut off the water and step out onto the cold tile.//
* [[It&#39;s a new day ▶▶▶|A Small Fire]]</tw-passagedata><tw-passagedata pid="26" name="A New Friend" tags="" position="1650,575" size="100,100">!A New Friend
//As you wake up, $mgName is laying next to you, looking at you with still dreamy eyes.//

@@color:deepskyblue;&quot;Mornin&#39; sunshine; you sleep well?&quot;@@

//Before you can answer, she gives you a quick peck on the forehead and continues,//\
  @@color:deepskyblue;&quot;We&#39;ve got a full day ahead.\
  First, we&#39;ll swing by the store I work at and pick up some new clothes for you; my treat.\
  Then, if you&#39;re good, I&#39;ve got a bit of a surprise after that.&quot;@@\
  //She gives you a wry smile before hopping out of the bed.//

@@color:deepskyblue;&quot;You can keep the clothes I gave you last night.\
  Consider them the start of your new wardrobe.\
  Unfortunately, you&#39;re going to have to put back on your pants\
  &lt;&lt;if $tshirtFOwned isnot true&gt;&gt;and shirt&lt;&lt;/if&gt;&gt; from last night,\
  but at least they&#39;re clean.&quot;@@\
  //She gestures to where your torn up outfit from last night is laid out on her vanity.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/a_new_friend_01.jpg&quot;&gt;\

//She leaves you to get dressed and you can hear her preparing something in the kitchen.\
  You pull on your clothes, dismaying at their state.\
  If you had any better options, these would be bound for the trash.

You sigh quietly to yourself as you leave her bedroom,\
  following the smell of cooking bacon to her kitchen where she&#39;s set out a plate for you.\
  She smiles at you as you sit down.//\
  @@color:deepskyblue;&quot;C&#39;mon, eat up!&quot;@@

//You share a quiet breakfast, only making idle chatter here and there.\
  Your mind can&#39;t help but dwell on the previous evening&#39;s events and\
  you can&#39;t help but feel a little more unsure of yourself in the light of day.\
  You wonder to yourself if $mgName even remembers what you said last night\
  as you were both drifting off.

Almost as if reading your mind, she gives you a mischievous smile as you finish up.//\
  @@color:deepskyblue;&quot;Let&#39;s get going; I want to see how cute you&#39;re going to look\
  in your new wardrobe,&quot;@@ //she says, giving you a wink before grabbing your hand,\
  practically pulling you out the door.//
* &lt;span title=&quot;Cash +$50&quot;&gt;[[Good looking day ▶▶▶|Clothes Shop][$cash to $cash +50]]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="27" name="Occupied" tags="Bottom" position="2250,400" size="100,100">!Occupied!
//As you&#39;re trying on your new clothes in the booth, $mgName opens the door and steps in quickly,\
  before you can even finish saying,// @@color:coral;&quot;Occupied!&quot;@@ //You stand there, half-dressed,\
  blushing with shame while $mgName blushes from something else, her growing erection poking out from her dress.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/occupied_clothed_01.jpg&quot;&gt;

@@color:deepskyblue;&quot;Oooo! How cute you are! C&#39;mere!&quot;@@ //$mgName says, pushing you down onto your knees.\
  She pulls her $mgDick out and pushes it towards your face.//\
  @@color:deepskyblue;&quot;C&#39;mon, help me out here!?&quot;@@\
  //She smiles down at you.//

You:
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;occupiedChoices&quot;&gt;
  &lt;ul&gt;
    &lt;li id=&quot;occupiedBlowHerHider1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;You blow her@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedBlowHerHider1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedBlowHerHider2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedChoices&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;set $timesSuckedDick++&gt;&gt;
        &lt;&lt;set $timesDeepthroated++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;occupiedDoggystyleHider1&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Drop to your hands and knees and offer her your ass@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedDoggystyleHider1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedDoggystyleHider2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedChoices&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedNextPassage&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;set $timesSuckedDick++&gt;&gt;
        &lt;&lt;if $hasPerkSissygasm is true or $sissyScore gte 20&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedDoggystyleNoSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedDoggystyleNoSissygasm2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedDoggystyleSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedDoggystyleSissygasm2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;occupiedStandingHider1&quot; title=&quot;Slut +2&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Just tease her cock@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedStandingHider1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedStandingHider2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedChoices&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedNextPassage&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
        &lt;&lt;set $masoActs++&gt;&gt;
        &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedStandingSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedStandingNoSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;occupiedRandom&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedStandingHider1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedDoggystyleHider1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedBlowHerHider1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedStandingHider1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedBlowHerHider1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#occupiedDoggystyleHider1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;toggleclass &quot;#occupiedRandom&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
\
&lt;&lt;nobr&gt;&gt;
  &lt;div id=&quot;occupiedBlowHerHider2&quot; class=&quot;hide&quot;&gt;
    &lt;ul&gt;&lt;li&gt;
      &lt;span title=&quot;Sissy +1&quot;&gt;@@color:magenta;You blow her@@&lt;/span&gt;
    &lt;/li&gt;&lt;/ul&gt;
    //You open your mouth and start licking her $mgDick and stroking her shaft.
      The tip begins to leak a bit of precum, which you eagerly lick up before wrapping your lips around the head and sucking.&lt;br&gt;
    &lt;br&gt;
    $mgName covers her mouth to stifle a moan as you stroke her while vacuuming the tip of her $mgDick.
      Her $mgCock begins to pulse, more precum dripping into your mouth.
      You begin bobbing your head up and down, taking more and more into your mouth until it hits the back of your throat.
      You resist gagging as you can feel her building to a climax.//&lt;br&gt;
    &lt;br&gt;
    @@color:deepskyblue;&quot;Oh baby, don&#39;t stop! I&#39;m almost there!&quot;@@
      //she whispers way too loudly, still trying to stifle her moans.//
      @@color:deepskyblue;&quot;Oh! Here it cums!&quot;@@&lt;br&gt;
    &lt;br&gt;
    //Right on cue, her salty jizz erupts into your mouth, hitting the back of your throat,
      causing you to gag just a little bit as a second, then third spurt coats your tongue.
      $mgName puts her hand on the back of your head, keeping you there as she spurts and shudders.//&lt;br&gt;
    &lt;br&gt;
    //Finally, she pulls her $mgDick out of your mouth as she begins to soften.//
      @@color:deepskyblue;&quot;Thank you baby; I needed that!&quot;@@&lt;br&gt;
    &lt;br&gt;
    Your mouth is filled with her cum. You:
    &lt;span id=&quot;occupiedSwallowChoices&quot;&gt;
      &lt;ul&gt;
        &lt;li title=&quot;Sissy +1&quot;&gt;
          &lt;&lt;link &quot;@@color:magenta;Swallow it down@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#occupiedSwallowChoices&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#occupiedSwallowHider&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#occupiedNextPassage&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
            &lt;&lt;set $timesDrankCum++&gt;&gt;
            &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
            &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;Spit it out ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#occupiedSwallowChoices&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#occupiedDontSwallowHider&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#occupiedNextPassage&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/span&gt;
    &lt;span id=&quot;occupiedSwallowHider&quot; class=&quot;hide&quot;&gt;
      &lt;ul&gt;&lt;li&gt;
        &lt;span title=&quot;Sissy +1&quot;&gt;@@color:magenta;Swallow it down@@&lt;/span&gt;
      &lt;/li&gt;&lt;/ul&gt;
      @@color:magenta;((You drank a load of cum!))@@&lt;br&gt;
      &lt;br&gt;
      //You tilt your head back and swallow it down, her thick spooge coating your throat.
        A dribble leaks out from the corner of your mouth.
        Before you can react, $mgName scoops it up with her fingers an presses it into your mouth.//&lt;br&gt;
      &lt;br&gt;
      @@color:deepskyblue;&quot;Good girl! I hope you liked it; you&#39;re going to be doing that a //lot// from now on!&quot;@@
    &lt;/span&gt;
    &lt;span id=&quot;occupiedDontSwallowHider&quot; class=&quot;hide&quot;&gt;
      &lt;ul&gt;&lt;li&gt;
        @@color:lightgray;Spit it out@@
      &lt;/li&gt;&lt;/ul&gt;
      //You lurch for the small wastebasket by the mirror and begin spitting your mouthful of cum out.//&lt;br&gt;
      &lt;br&gt;
      @@color:deepskyblue;&quot;Hey, don&#39;t waste it!&quot;@@ //she says indignantly, forgetting for a moment where you are.
        Then, more quietly, placing her hands on her hips,//
        @@color:deepskyblue;&quot;Well, you&#39;ll learn to appreciate it soon, so I&#39;ll let it slide this time.
        I&#39;m planning on pumping lots of cum into that cute little mouth of yours.
        Next time, you better swallow it down for me, otherwise I&#39;ll get upset.&quot;@@
    &lt;/span&gt;
  &lt;/div&gt;
  &lt;div id=&quot;occupiedDoggystyleHider2&quot; class=&quot;hide&quot;&gt;
    &lt;ul&gt;&lt;li&gt;
      &lt;span title=&quot;Slut +1&quot;&gt;@@color:red;Drop to your hands and knees and offer her your ass@@&lt;/span&gt;
    &lt;/li&gt;&lt;/ul&gt;
    //You open your mouth and begin slobbering all over her $mgDick, getting it nice and wet.
      You //&#39;&#39;need&#39;&#39;// to feel something in your ass again;
      there&#39;s an itch in there that just won&#39;t go away and cock is what you need to scratch it.
      You slobber on her dick a bit more, giving her shaft a few quick pumps to make sure she&#39;s fully hard.&lt;br&gt;
    &lt;br&gt;
    You release her dick and drop down to all fours,\
      exposing your ass and pulling your cheeks apart.//
       @@color:coral;&quot;Please,&quot;@@ //you whisper,// @@color:coral;&quot;I need it.&quot;@@&lt;br&gt;
    &lt;br&gt;
    //She steps up behind you, placing one hand on your hip as the other lines her $mgDick up with your sphincter.
      She begins pressing her $mgCock-head into you slowly.//
      @@color:deepskyblue;&quot;My, my; what a little slut you turned out to be!&quot;@@
      //she whispers into your ear, all the while continuing to press forward into your ass.//
      @@color:deepskyblue;&quot;Mmm... I&#39;m going to enjoy this!&quot;@@&lt;br&gt;
    &lt;br&gt;
    //She drives the last of her $mgDick home, burying herself to the hilt.
      A small moan escapes your lips as you clasp your hand over your mouth.//
      @@color:deepskyblue;&quot;Oh yeah, take it!&quot;@@
      //$mgName pulls out, nearly completely, then drives it all the way back in,
      forcing another high-pitched moan out of you, this time fully stifled by your hand.
      She keeps this up, pulling out right up to the point where she&#39;s about to pop out,
      then driving it back in, picking up the pace with each thrust.&lt;br&gt;
    &lt;br&gt;
    You feel your $mcDick hardening &lt;&lt;if $inChastity is true&gt;&gt;in its cage&lt;&lt;/if&gt;&gt; beneath you,
      precum starting to drip out of you and onto the tattered remains of your old clothes on the floor.
      $mgNames starts to twitch inside of you, and you can feel her breath become ragged.//&lt;br&gt;
    &lt;br&gt;
    @@color:deepskyblue;&quot;Here it comes baby! I&#39;m gonna turn you into my little creampuff!&quot;@@
      //She gives you a few more quick thrusts before burying herself balls-deep and erupting into you.//
    &lt;&lt;set $timesCreampied++&gt;&gt;
    &lt;span id=&quot;occupiedDoggystyleSissygasm&quot; class=&quot;hide&quot; title=&quot;Sissygasm check passed! Sissy +1&quot;&gt;
      //@@color:magenta;You cum as well, right onto the floor.
        Your sissygasm rocks you, causing the arm holding you up to buckle, leaving you to collapse onto the floor.@@//
    &lt;/span&gt;
    &lt;span id=&quot;occupiedDoggystyleNoSissygasm&quot;&gt;
      //Try as you might, you&#39;re unable to cum.
        Your $mcDick just dribbles precum onto the floor, leaving you unsatisfied.//
    &lt;/span&gt;
    //$mgName shudders one last time, softening a bit in your ass as she pulls out.
      She gives you a playful slap on your ass before tucking her $mgDick away.//&lt;br&gt;
    &lt;br&gt;
    @@color:deepskyblue;&quot;Here, let me help you cleanup.&quot;@@ //She grabs your torn clothes from last night and uses them to wipe up your ass and $mcDick.//
    &lt;span id=&quot;occupiedDoggystyleSissygasm2&quot; class=&quot;hide&quot;&gt;
      @@color:deepskyblue;&quot;You came too! Good girl; I&#39;m glad you&#39;re enjoying yourself like this!
        It&#39;d be a shame if I was the only one cumming all the time and it&#39;s not like you&#39;re going to get to use that little thing very often.&quot;@@
        //she smirks at you, clearly amused by the idea.//
    &lt;/span&gt;
    &lt;span id=&quot;occupiedDoggystyleNoSissygasm2&quot;&gt;
      @@color:deepskyblue;&quot;Aww, no cummies?
        Sorry baby, but we don&#39;t have time for another round right now; someone&#39;s bound to have noticed us in here by now.
        We&#39;ll try again later though! You&#39;ll cum from your ass sooner or later; just need to practice!&quot;@@
    &lt;/span&gt;
  &lt;/div&gt;
  &lt;div id=&quot;occupiedStandingHider2&quot; class=&quot;hide&quot;&gt;
    &lt;ul&gt;&lt;li&gt;
      &lt;span title=&quot;Slut +2&quot;&gt;@@color:red;Just tease her cock@@&lt;/span&gt;
    &lt;/li&gt;&lt;/ul&gt;
    //You lean forward and start lightly licking the head of her $mgDick while stroking the shaft slowly.
      Your tongue barely grazes her $mgDick, only leaving faint trails of saliva behind while you continue to pump her cock slowly up and down.
      You keep at it, feeling her tense up as you continue your teasing, never quite giving her enough to really get going.&lt;br&gt;
    &lt;br&gt;
    She grunts, clearly frustrated.//
      @@color:deepskyblue;&quot;Ugh! Oh, you little... So that&#39;s how it&#39;s gonna be, huh?&quot;@@
      //She reaches down and pulls you to your feet, surprising you with her strength.
      She roughly shoves you against the wall, forcing you to brace yourself, hands on either side of the dressing room mirror.//&lt;br&gt;
    &lt;br&gt;
    @@color:deepskyblue;&quot;This is what you really wanted, right?&quot;@@
      //She whispers loudly in your ear.//
      @@color:deepskyblue;&quot;Now I&#39;m gonna fuck the shit out of you.
      Try not to make too much noise.&quot;@@&lt;br&gt;
    &lt;br&gt;
    //She pulls down your underwear and presses her cockhead against your sphincter.
      She pushes you forward with one hand and spreads your cheeks with the other.
      She spits, and you feel a glob of her saliva drip its way down your crack,
      finally coming to rest right on your backdoor as she starts shoving her $mgDick into your ass.//&lt;br&gt;
    &lt;br&gt;
    @@color:deepskyblue;&quot;Mmmm... Going in a bit dryer than I might otherwise, but whose fault is that, hmmm?
      Better hope it&#39;s enough; maybe you should have sucked better.&quot;@@
      //She slams her cock home in your ass, burying it in one smooth thrust.
      It burns a bit at first, before the rest of her saliva works its way in as she thrusts in and out of you.&lt;br&gt;
    &lt;br&gt;
    She pulls all the way out and spits on your asshole one more time, then slaps your ass hard, using only her fingertips to deaden the sound.//
      @@color:deepskyblue;&quot;Take it bitch,&quot;@@ //she whispers in your ear, fucking you deeply.//
      @@color:deepskyblue;&quot;Take it deep! And then I&#39;m gonna pull out and cum all over your face.
      Would you like that? Huh? Would you, you little slut?&quot;@@&lt;br&gt;
    &lt;br&gt;
    //You nod meekly, biting your finger to keep from moaning aloud, forced to stare at your own reflection in the mirror as $mgName pounds away.
      Your poor battered asshole finally loosens up and you start to feel good from your ass.//
    &lt;span id=&quot;occupiedStandingSissygasm&quot; class=&quot;hide&quot; title=&quot;Sissygasm check passed! Sissy +1&quot;&gt;
      //$mgName hits your fun button just right, and @@color:magenta;you cum, your $mcDick spurting
        &lt;&lt;if $inChastity is true&gt;&gt;all down your leg&lt;&lt;else&gt;&gt;all over the mirror in front of you&lt;&lt;/if&gt;&gt;@@.//
    &lt;/span&gt;
    &lt;span id=&quot;occupiedStandingNoSissygasm&quot;&gt;
      //Despite this, it&#39;s not enough for you to cum before $mgName does.//
    &lt;/span&gt;
    &lt;br&gt;&lt;br&gt;
    //She pulls her $mgDick out of your ass, and starts to stroke herself, obviously nearing completion.//
      @@color:deepskyblue;&quot;C&#39;mere,&quot;@@ //she says and roughly grabs your shoulder, turning you around and forcing you to your knees.
      True to her word, she strokes her $mgDick right in your face, too close to miss.//&lt;br&gt;
    &lt;br&gt;
    //After a few more strokes, she grunts,// @@color:deepskyblue;&quot;Ugh!&quot;@@ //spraying her load all over your face.
      Multiple thick ropes of cum shoot out, covering you from your chin to your hairline.
      She keeps stroking, pressing her cockhead against your cheek as her cum continues to trickle out.
      She steps back, squeezing the base of her $mgDick, working it slowly up to the head, squeezing out the last of her load onto her hand.
      Smiling down at you, she wipes the load off her hand against your other cheek.//
  &lt;/div&gt;
  &lt;div id=&quot;occupiedNextPassage&quot; class=&quot;hide&quot;&gt;
    &lt;br&gt;
    //She exhales loudly, seemingly having recovered.//
      @@color:deepskyblue;&quot;Oof! Okay, I need to get changed real quick, then we&#39;ve got some errands to run!
      Get yourself cleaned up and dressed; I&#39;ll be back in a few minutes.&quot;@@&lt;br&gt;
    &lt;br&gt;
    //You take a moment to catch your breath before un-dishevelling yourself.
      You finish getting dressed, then pop into the shop&#39;s bathroom to wash your face and clean up a bit more.
      You //&#39;&#39;almost&#39;&#39;// don&#39;t look like you just got fucked in the dressing room.&lt;br&gt;
    &lt;br&gt;
    By the time out step out of the bathroom, $mgName has changed her outfit into a crop-top and pair of tight shorts, looking none the worse for wear.
      You guess that she must keep a spare outfit in the back.// @@color:deepskyblue;&quot;You ready? Okay, let&#39;s go.&quot;@@&lt;br&gt;
    &lt;br&gt;
    You:&lt;br&gt;
    &lt;ul&gt;&lt;li&gt;
      &lt;&lt;link &quot;Follow $mgName out of the shop ▶▶▶&quot; &quot;First Toy&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
    &lt;/li&gt;&lt;/ul&gt;
  &lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="28" name="First Toy" tags="" position="2400,400" size="100,100">!First Toy
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/first_dildo_01.jpg&quot;&gt;\

//You follow $mgName out into the street as she leads you around the corner, sipping her iced coffee.//

@@color:deepskyblue;&quot;That was a fun way to start the day!&quot;@@ //she says, chipper.// @@color:deepskyblue;&quot;Y&#39;know, you&#39;ve been pretty good to me so far, so I&#39;ve got a little surprise for you.&quot;@@

//She&#39;s acting completely normal, like she didn&#39;t just fuck you in the middle of her workplace. You follow her every step, feeling a bit ashamed, but aroused at the same time.

She seems so confident and effortless, you can&#39;t help but feel enamoured. Part of you wonders how you lucked out and another part of you wonders just what additional curve-balls are coming your way. It&#39;s been a whirlwind since last night and you&#39;ve hardly had a moment to breath.

Lost in thought, you barely register that you&#39;ve arrived at your destination when $mgName stops and looks back at you. You look up at the sign above her head; it&#39;s clearly a sex shop.// @@color:deepskyblue;&quot;Surprise! I&#39;ll buy you your first toy!&quot;@@ //She hands you a few bills.//

You:
* &lt;span title=&quot;Cash +25&quot;&gt;[[Enter the sex shop ▶▶▶|Sex Shop][$cash to $cash +25]]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="29" name="Hairdresser" tags="" position="2550,725" size="100,100">!Hairdresser
//Once back outside, $mgName takes your hand and excitedly pulls you along down the street.//

@@color:deepskyblue;&quot;C&#39;mon! When I have a major change in my life, I always follow it up with a new hairstyle!\
  I think you&#39;ll feel a lot better about all of this if we get you a haircut.&quot;@@

@@color:deepskyblue;&quot;There&#39;s this great stylist that I know right around the corner; my treat!&quot;@@

//Before you can protest, she pulls you into a fashionable looking hair salon.\
  The receptionist at the desk perks up when she sees $mgName.\
  They exchange quick hugs before pulling you into the back and plunking you down in a stylist&#39;s chair.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/hairdresser_01.jpg&quot;&gt;\

//The stylist looks at you and asks,// @@color:aquamarine;&quot;Now honey, what are we doing today?&quot;@@
\
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;hairdresserChoose&quot;&gt;
  &lt;ul&gt;
    &lt;li id=&quot;hairdresserOpt1&quot; title=&quot;Alpha +2&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Just a trim (leave it as is)@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserTrim&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 2)&gt;&gt;
        &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;hairdresserOpt2&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Girly haircut@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserGirlyCut&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;hairdresserOpt3&quot; title=&quot;Sissy +2&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Girly haircut and dye job@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserGirlyCut&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserDye&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore to $sissyScore + 2&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;hairdresserOpt4&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Extensions@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserExtensions&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;hairdresserOpt5&quot; title=&quot;Slut +1, Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Extensions@@ and @@color:magenta;dye job@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserExtensions&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserDye&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;hairdresserOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#hairdresserOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,5)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt5&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt5&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 3&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt5&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 4&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt5&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 5&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserOpt4&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;
&lt;div id=&quot;hairdresserTrim&quot; class=&quot;hide&quot;&gt;\
  @@color:coral;&quot;Uh, just a trim,&quot;@@ //you say.//

  //$mgName rolls her eyes, slightly annoyed.\
    She plops down in one of the other chairs and starts chatting with the stylist while you&#39;re getting your hair cut.//

  //The stylist is done before too long and you don&#39;t look all that much different; just a bit more cleaned up.//
&lt;/div&gt;\
&lt;div id=&quot;hairdresserGirlyCut&quot; class=&quot;hide&quot;&gt;\
  @@color:coral;&quot;Uh, maybe something a little more...&quot;@@\
    //you trail off, glancing over at $mgName.//

  //She gets the hint and pipes up,// @@color:deepskyblue;&quot;I think you&#39;d look adorable with a pixie cut!&quot;@@\
    //The hairdresser looks at you for confirmation and you nod.//

  @@color:aquamarine;&quot;Okay hun!&quot;@@\
    //the hairdresser says before starting.//

  //$mgName hangs out close by, answering questions for the hairdresser and chatting it up like old friends.\
    After your initial agreement, the stylist takes all her cues from $mgName; length, bangs, etc.\
    Before long, the stylist is finished, leaving you with a properly girly haircut.\
    You can&#39;t help but stare at the result for a moment, taken aback by just how girly the new cut makes you look.//
&lt;/div&gt;\
&lt;div id=&quot;hairdresserExtensions&quot; class=&quot;hide&quot;&gt;\
  @@color:coral;&quot;Um, maybe I&#39;d look better with longer hair?&quot;@@\
    //you say, looking over at $mgName.//

  //She claps her hands together in excitement,//\
    @@color:deepskyblue;&quot;Extensions! I love it! You&#39;ll look sooo cute!&quot;@@

  //You look back at the stylist and she smiles back at you,//\
    @@color:aquamarine;&quot;Alright hun, we can do that!&quot;@@\
    //She sets about getting everything ready for a few minutes before wheeling a try with everything on it over.//\
    @@color:aquamarine;&quot;Now you just relax and let me take care of you!&quot;@@

  //The stylist gets to work applying the extensions.\
    $mgName grabs a seat nearby to watch her work and chat the whole time.\
    It&#39;s the longest you&#39;ve ever taken getting your hair done, but eventually the extensions are applied.\
    The stylist takes a few more minutes cutting and trimming your hair so that it looks natural.\
    You&#39;ve now got long, straight hair.//

  //The transformation is pretty remarkable.\
    You hardly recognize yourself like this, with long hair, dressed up more girly than you ever have before.\
    You marvel at your appearance for a moment before coming back to your senses.//
&lt;/div&gt;\
&lt;div id=&quot;hairdresserDye&quot; class=&quot;hide&quot;&gt;\

  //You&#39;re pretty happy with your new cut, but something&#39;s just a bit... off.\
    You feel like you should take it one step further.//

  //Turning your head from side to side to get a better look at your new style, you say,//\
    @@color:coral;&quot;Umm, maybe we should dye it too? I just feel like...&quot;@@

  @@color:deepskyblue;&quot;Oh yes!&quot;@@ //$mgName jumps up out of her seat.//\
    @@color:deepskyblue;&quot;We should totally dye it! You&#39;d make a killer blonde!&quot;@@

  //You glance back at the stylist, deciding what color to dye your hair.//

  &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;hairdresserDyeChoose&quot;&gt;
    You decide to dye your hair:
    &lt;ul&gt;
      &lt;li id=&quot;hairdresserDyeOptBlonde&quot;&gt;
        &lt;&lt;link &quot;@@color:LightGoldenRodYellow;Blonde@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDyeChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDye2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $mcHairColor to &quot;blonde&quot;&gt;&gt;
          &lt;&lt;replace &quot;#haircolor&quot;&gt;&gt;@@color:coral;&quot;Yeah, okay, let&#39;s try $mcHairColor.&quot;@@&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;hairdresserDyeOptRed&quot;&gt;
        &lt;&lt;link &quot;@@color:red;Red@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDyeChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDye2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $mcHairColor to &quot;red&quot;&gt;&gt;
          &lt;&lt;replace &quot;#haircolor&quot;&gt;&gt;@@color:coral;&quot;I&#39;ve always wanted to try $mcHairColor...&quot;@@&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;hairdresserDyeOptBlue&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Blue@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDyeChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDye2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $mcHairColor to &quot;blue&quot;&gt;&gt;
          &lt;&lt;replace &quot;#haircolor&quot;&gt;&gt;@@color:coral;&quot;I wanna go with $mcHairColor. I&#39;ve never done that before.&quot;@@&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;hairdresserDyeOptPink&quot;&gt;
        &lt;&lt;link &quot;@@color:hotpink;Pink@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDyeChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#hairdresserDye2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $mcHairColor to &quot;pink&quot;&gt;&gt;
          &lt;&lt;replace &quot;#haircolor&quot;&gt;&gt;@@color:coral;&quot;I think I wanna do $mcHairColor,&quot;@@ //you say, blushing.//&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;div id=&quot;hairdresserDye2&quot; class=&quot;hide&quot;&gt;\
    @@#haircolor;$mcHairColor@@

    @@color:aquamarine;&quot;Okay honey! You&#39;re going to look just gorgeous!&quot;@@ //the stylist says, beaming at you.\
      She sets off to gather the supplies before coming back and getting to work.//

    //It takes some time, but your hair is now totally transformed.\
      You wonder if your own parents would even recognize you now.//
  &lt;/div&gt;\
&lt;/div&gt;\
&lt;div id=&quot;hairdresserEnd&quot; class=&quot;hide&quot;&gt;
  @@color:aquamarine;&quot;Thank you! Come again!&quot;@@\
    //the stylist says as you leave, stopping only to at the front desk so $mgName can pay.//

  @@color:deepskyblue;&quot;Alright, I&#39;m taking you back to my place now. I have plans for you!&quot;@@\
    //$mgName says, winking at you.//

  You:
* &lt;&lt;link &quot;Head to $mgNames ▶▶▶&quot; &quot;Bed Tumble&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Bed Tumble]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="30" name="Bed Tumble" tags="Bottom" position="2550,900" size="100,100">!Bed Tumble
//$mgNames apartment is nearby and you arrive quickly.\
  As she pulls you inside, you can see her rock hard $mgCock pressing through her clothes.\
  She practically drags you into her bedroom, then shoves you onto her bed;\
  hard enough for your legs to go over your head.//

//Before you can blink, she&#39;s on top of you, $mgCock out, rolling on a condom.//\
  @@color:deepskyblue;&quot;You look sooo damn cute!\
  I NEED to drain my balls! C&#39;mon, spread for momma!&quot;@@

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;bedTumbleChoose&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;bedTumbleOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Try to run@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#bedTumbleChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#bedTumbleEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#bedTumbleChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;bedTumbleOpt2&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Stay and take it@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#bedTumbleChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#bedTumbleEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#bedTumbleChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $masoActs++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;bedTumbleOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#bedTumbleOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#bedTumbleOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#bedTumbleOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;bedTumbleChoice1&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
  //Your eyes got wide and your fight-or-flight reflexes kick in.\
    @@color:magenta;You turn over and try to scramble away, but it&#39;s no use.@@//

  //$mgName is surprisingly strong and she&#39;s able to grab you and pin you onto the bed, face-down.\
    How she managed to pull your clothes aside and expose your vulnerable boi-pussy without totally\
    destroying them in her lust-filled rage, you&#39;ll never know, but it&#39;s hardly as second after she\
    pins you before you feel her $mgCock-head pressing into you.//

  @@color:deepskyblue;&quot;Playing hard to get, huh? I LOVE it!&quot;@@\
    //She forces the head of her $mgDick into your exposed asshole, pausing only for a half-second\
    before sinking the rest of the way in.\
    Impaled and pinned, you&#39;ve got nowhere to go as she starts fucking your brains out.//

  //After the initial shock and pain of being wrenched open suddenly, you start to feel good,\
    pressing back against her and moaning like a girl.//

  &lt;img style=&quot;width: 60%&quot; src=&quot;images/ep02/bed_tumble_01.jpg&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;bedTumbleChoice2&quot; class=&quot;hide&quot; title=&quot;Slut +1&quot;&gt;\
  //@@color:red;You hesitate for just a moment too long and $mgName is on top of you, pile-driving her $mgCock into your ass.@@\
    You gasp in pain at being forcefully sodomized, but $mgName doesn&#39;t even give you a moment to adjust.//

  //$mgName pounds away at your ass mercilessly, slamming into you from above repeatedly, beating the hell out of your insides.\
    With your $mgDick dangling over your face, you can&#39;t help but leak all over yourself, moaning like a slut the whole time.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/bed_tumble_02.jpg&quot;&gt;
&lt;/div&gt;\
&lt;div id=&quot;bedTumbleEnd&quot; class=&quot;hide&quot;&gt;\
  //$mgName pounds away at you for several minutes, but she must have been really pent up because\
    she blows her load deep in your ass, filling up the condom.\
    She pulls out, not fully getting off of you, pulls the condom off, and ties it to keep her cum from spilling everywhere.\
    She tosses the full condom off to the side and turns back to you, already getting hard again.//
* [[Round 2 ▶▶▶|Rough Love]]
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $timesAssFucked++&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="31" name="Rough Love" tags="Bottom" position="2400,900" size="100,100">!Rough Love
//Emptying her balls was just the start.\
  Your moans and post-sex heavy breathing have her hard again in no time.//

//She pulls you up onto your knees into doggy-style, rolls on another condom and goes to town.\
  If anything, blowing her first load only made her more eager for the second and she starts pounding you even harder this time.\
  She pushes her fingers into your mouth as she pounds you from behind.
  Her fingers taste salty from sweat.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/rough_love_01.jpg&quot;&gt;\

@@color:deepskyblue;&quot;Oh yeah baby! Suck on my fingers! Let that spit build up; it&#39;s going in your mouth next!&quot;@@

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;roughLoveChoose&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;roughLoveOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Suck on her fingers@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#roughLoveChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#roughLoveChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#roughLoveEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;roughLoveOpt2&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Deepthroat her fingers@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#roughLoveChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#roughLoveChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#roughLoveEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;roughLoveOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#roughLoveOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#roughLoveOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#roughLoveOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;roughLoveChoice1&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
  //@@color:magenta;You lick and suck on her fingers as she pounds away at you@@, fucking you hard and deep.\
    You moan around her fingers, trying your best not to swallow too much saliva or let it leak out onto the bed.//
&lt;/div&gt;\
&lt;div id=&quot;roughLoveChoice2&quot; class=&quot;hide&quot; title=&quot;Slut +1&quot;&gt;\
  //@@color:red;She pushes her fingers deeper into your mouth, making you gag a bit.@@\
    You suppress your your reflex and try to open your throat up to take them deeper.\
    It takes a second, but soon she&#39;s pumping her fingers in and out of your mouth as you take them deep into your throat.//
&lt;/div&gt;\
&lt;div id=&quot;roughLoveEnd&quot; class=&quot;hide&quot;&gt;
  //She flips you sideways and keeps pounding away at you, pulling her fingers out of your mouth.\
    You stick your own finger in your mouth to replace it, biting down a bit as you&#39;re getting railed.\
    Finally, she starts to slow down and pulls out of your ass, pulling off the condom as she does.//
* [[Get your mouth ready ▶▶▶|Toy Test]]
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $timesAssFucked++&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="32" name="Toy Test" tags="Bottom" position="2250,900" size="100,100">!Toy Test
@@color:deepskyblue;&quot;OK baby, time to try out that new toy of yours. Let&#39;s see how it fits!&quot;@@

//She pulls you on top of her and twitches her dick, signaling you to suck it.\
  With one hand she tightly grabs your ass-cheek.\
  With the other she grabs your new toy, spits on it, and starts pushing it into your sore ass.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/toy_test_01.jpg&quot;&gt;\

//You take her into your mouth, drooling your excess spit down her shaft and start giving her a very\
  sloppy blowjob as she toys with your asshole, pushing your new toy in and out slowly, teasingly.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;toyTestChoose&quot;&gt;
  You suck her $mgDick:
  &lt;ul&gt;
    &lt;li id=&quot;toyTestOpt1&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Fast and shallow@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;toyTestOpt2&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Going balls-deep@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;toyTestOpt3&quot; title=&quot;Sissy +1, Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Balls-deep@@, @@color:red;deepthroat ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $timesDeepthroated++&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;toyTestOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toyTestOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#toyTestOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#toyTestOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _and is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#toyTestOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#toyTestOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#toyTestOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#toyTestOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;toyTestChoice1&quot; class=&quot;hide&quot; title=&quot;Slut +1&quot;&gt;\
  //You start bobbing your head up and down on her $mgCock, @@color:red;only taking her about halfway down, but moving quickly.@@\
    With your hand, you stroke the rest of her shaft in time with with your blowjob, the spit you&#39;re drooling out providing\
    enough lube for your hand to keep up with your mouth.//
&lt;/div&gt;\
&lt;div id=&quot;toyTestChoice2&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
  //@@color:magenta;You take her in your mouth slowly, taking most of her shaft into your mouth, stopping just before pressing into your throat,\
    deep enough that you can lick her balls when you stick your tongue out@@.\
    You fondle her balls, massaging them lightly with your fingers and tracing the line from her sack to her asshole with your fingernail,\
    keeping your pace slow and steady.//
&lt;/div&gt;\
&lt;div id=&quot;toyTestChoice3&quot; class=&quot;hide&quot; title=&quot;Sissy +1, Slut +1&quot;&gt;\
  //@@color:magenta;You take her $mgCock deep into your mouth@@, @@color:red;pushing past your limits,\
    suppressing your gag reflex to deepthroat her $mgDick@@.\
    You pick up the pace, bobbing up and down as fast as you&#39;re able, taking her deeper and deeper with each bob.\
    You&#39;re properly drooling now, her $mgCock covered with your spit from shaft to taint.//
&lt;/div&gt;\
&lt;div id=&quot;toyTestEnd&quot; class=&quot;hide&quot; title=&quot;Sissy +1, Slut +1&quot;&gt;
  //You keep sucking for several minutes as she continues moving your toy in and out of your battered asshole.\
    She&#39;s leaking more and more precum all the time and you can tell that she&#39;s nearing her second orgasm of the night.//
* [[She&#39;s ready to blow ▶▶▶|Throatfuck]]
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $timesSuckedDick++&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="33" name="Throatfuck" tags="Bottom" position="2100,900" size="100,100">!Throatfuck
//You decide you&#39;d rather not have her blow her load in your mouth.\
  You pull your mouth off and start sucking on her cum sacks, jacking her $mgDick,\
  pointing it at her so she cums on herself.//

@@color:deepskyblue;&quot;Oh no you don&#39;t!\
  I like my balls sucked, but what I like more is you swallowing my load!\
  Open up and take take it!&quot;@@

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/throatfuck_01.jpg&quot;&gt;\

//She grabs you by the neck and forces her $mgCock down your throat, roughly throatfucking you.//

&lt;div id=&quot;throatfuckCheckPassed&quot; class=&quot;hide&quot; title=&quot;Slut +2, Alpha -1&quot;&gt;\
  @@color:red;(( Deepthroat experience check passed! Slut +2 ))@@

  //@@color:red;You manage to endure the onslaught to your throat without gagging@@;\
    @@color:gold;your previous experience coming in handy.@@\
    You&#39;re able to take everything she has to give, your spit flying everywhere as she pounds her $mgDick into your face.//
&lt;/div&gt;\
&lt;div id=&quot;throatfuckCheckFailed&quot; title=&quot;Alpha -1&quot;&gt;\
  //@@color:gold;You&#39;re not ready for this level of throatfucking!@@\
    She pounds away without mercy, roughly fucking the hell out of you as you gag and spit, pushing on her hips to try and get away.\
    It does no good; her grip on your head is too strong.//
&lt;/div&gt;
  //You feel her dick pulsing as she throatfucks you. She&#39;s going to blow her load in your mouth any second!//
* [[Here it comes ▶▶▶|The Question]]

&lt;&lt;done&gt;&gt;
  &lt;&lt;if $timesDeepthroated gte 2&gt;&gt;
    &lt;&lt;toggleclass &quot;#throatfuckCheckPassed&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#throatfuckCheckFailed&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
    &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $alphaScore--&gt;&gt;
  &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
  &lt;&lt;set $timesDeepthroated++&gt;&gt;
  &lt;&lt;set $masoActs++&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="34" name="The Question" tags="" position="1950,900" size="100,100">!The Question
&lt;img class=&quot;square_img&quot; src=&quot;images/ep02/the_question_01.jpg&quot;&gt;\

//She finally comes deep in your throat, blowing spurt after spurt into your mouth,\
  down your throat, forcing you to swallow her load.\
  She releases your throat, but you keep licking and sucking; for some reason,\
  you can&#39;t get enough of the  taste of her jizz!//

//You don&#39;t know why, but you can&#39;t help yourself but to lick her clean.\
  You lick up every single drop from her $mgCock, sucking on the tip to make sure you get every little bit.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/the_question_02.jpg&quot;&gt;\

//She pats your head softly as you continue to lick and suck, laying back on the bed, breathing heavy.\
  After a moment, she looks up, places a finger under your chin, and pulls your face up to look at her.//

@@color:deepskyblue;&quot;Babe, we&#39;re good together, y&#39;know? I&#39;d like to keep seeing you and having fun,\
  and I feel like I could really fall for you...\
  How about we make this official? Will you be my girlfriend?&quot;@@

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;theQuestionChoose&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;&lt;set _title1 to $mgName + &quot; relationship +💙💙&quot;&gt;&gt;
    &lt;li id=&quot;theQuestionOpt1&quot; @title=&quot;_title1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Agree@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theQuestionChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theQuestionChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theQuestionEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $mgAffection to $mgAffection+2&gt;&gt;
        &lt;&lt;set _nextPassage to &quot;Reward&quot;&gt;&gt;
        &lt;&lt;set _nextPassageText to &quot;Claim your reward ▶▶▶&quot;&gt;&gt;
        &lt;&lt;replace &quot;#nextPassage&quot;&gt;&gt;&lt;&lt;link _nextPassageText _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;theQuestionOpt2&quot; title=&quot;Alpha +1, Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;You&#39;re not ready@@, @@color:red;maybe later@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theQuestionChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theQuestionChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theQuestionEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod +1)&gt;&gt;
        &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set _nextPassage to &quot;Train Incident&quot;&gt;&gt;
        &lt;&lt;set _nextPassageText to &quot;Clean up and get going ▶▶▶&quot;&gt;&gt;
        &lt;&lt;replace &quot;#nextPassage&quot;&gt;&gt;&lt;&lt;link _nextPassageText _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;theQuestionOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#theQuestionOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#theQuestionOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#theQuestionOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;theQuestionChoice1&quot; class=&quot;hide&quot; @title=&quot;_title1&quot;&gt;\
  //You look up at her, beaming.//\
    @@color:coral;&quot;I&#39;d really like that.&quot;@@

  //She smiles back at you, rubbing your head affectionately, before pulling you into a hug against her bare chest.//\
    @@color:deepskyblue;&quot;I&#39;m so happy you said yes! I think you deserve a little reward...&quot;@@\
    //she says, coyly.//
&lt;/div&gt;\
&lt;div id=&quot;theQuestionChoice2&quot; class=&quot;hide&quot; title=&quot;Alpha +1, Slut +1&quot;&gt;\
  //You look away and take a breath, wiping some spit from your chin with the back of your hand.//
    @@color:coral;&quot;I don&#39;t think I&#39;m ready for that yet...&quot;@@\
    //You glance over at her. You can see she&#39;s disappointed.//\
    @@color:coral;&quot;Look, I&#39;m still figuring things out.  This has been fun, and I&#39;ll see you again, but let&#39;s just not...\
    call it anything yet.&quot;@@

  //She still looks somewhat disappointed, but nods along.//\
    @@color:deepskyblue;&quot;Okay, I understand. Let&#39;s get cleaned up... I&#39;ll call you tomorrow.&quot;@@
&lt;/div&gt;\
&lt;div id=&quot;theQuestionEnd&quot; class=&quot;hide&quot;&gt;\
* @@#nextPassage;_nextPassageText@@
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Reward]]
  [[Train Incident]]

  &lt;&lt;set $timesDrankCum++&gt;&gt;
  &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="35" name="Reward" tags="Top" position="1800,900" size="100,100">!Reward
//As soon as you agreed, the very idea of being with $mgName started making you hard.\
  And $mgName clearly notices.//

@@color:deepskyblue;&quot;Oh, someone likes the idea of being mine quite a bit, I see,&quot;@@\
  //she says, smiling.//\
  @@color:deepskyblue;&quot;What kind of girl would I be if I didn&#39;t take as well as I give?\
  You were good today so I think you&#39;ve earned a little taste.&quot;@@

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/reward_01.jpg&quot;&gt;\

&lt;div id=&quot;rewardInChastity1&quot; class=&quot;hide&quot;&gt;\
  //She looks down at your caged up $mcDick.//\
    @@color:deepskyblue;&quot;Do you have the key?&quot;@@

  &lt;div id=&quot;rewardCageKeyOwnedTrue&quot; class=&quot;hide&quot;&gt;\
    //You nod your head vigorously.//

    @@color:deepskyblue;&quot;Well then unlock yourself and get in here!&quot;@@\
      //You grab your cage key and unlock yourself as fast as you can,\
      springing to full attention right away.//

  &lt;/div&gt;\
  &lt;div id=&quot;rewardCageKeyOwnedFalse&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
    //You shake your head and open your mouth, trying to find the words to explain.\
      She waves you off.//\
      @@color:deepskyblue;&quot;Tell me later. For now...&quot;@@\
      //She reaches into her bedside table and pulls out a high-power vibrating wand.//\
      @@color:deepskyblue;&quot;...let&#39;s just use this!&quot;@@

    //$mgName beckons you to come and straddle her.\
      You do, putting a leg on either side of her hips,\
      your tired asshole ending up dangerously close to her $mgCock.\
      Fortunately for your sore anus, she decides to focus on making you feel good.//

    //$mgName puts two fingers into her mouth, swirling her tongue around them several times,\
      getting them nice and wet with her spit.\
      She looks up at you lovingly and smiles,//\
      @@color:deepskyblue;&quot;These&#39;ll be easier on you than my $mgDick right now.&quot;@@

    //She slides her hand underneath you, between your legs and gently pushes her two fingers into your ass.\
      She was right; with how stretched out you are from her rough fucking earlier,
      they slip in easily and you only feel pleasure as she feels around in your ass, searching for your p-spot.//

    //She takes her other hand with the vibrating wand and presses it to your cage, turning on the vibrations as she does.//\
      @@color:deepskyblue;&quot;There, how&#39;s that?&quot;@@ //she says, pressing on your prostate as the vibrations on your cage kick in.//

    //You gasp a bit in surprise at how good it feels; all you can do is moan a bit in response.\
      Your $mgDick isn&#39;t able to get even half-hard, and it doesn&#39;t feel anything like normal sex,\
      but it&#39;s still pleasurable nonetheless. Very pleasurable.//

    //$mgName plays with p-spot, moving her fingers around expertly while adjusting the wand,\
      varying the placement, speed, and vibration patterns, teasing your locked-up dicklette.\
      She&#39;s watching you intently, gauging your reactions.\
      As you&#39;re getting close to cumming, she turns the vibrations up to full power and presses the wand harder against your cage.//

    @@color:deepskyblue;&quot;Grab the wand,&quot;@@ //she says, and you do, keeping it pressed against you cage,\
      not wanting to let the magnificent feeling get away.\
      She takes her now-free hand and starts massaging your balls around the cage, further adding to the stimulation.//\
      @@color:deepskyblue;&quot;Cum for me baby!&quot;@@\
      //A moment later, you do!\
      You cum all over her chest and tummy, your locked-up cocklette spraying out ropes of cum with surprising force!\
      Your whole body shudders with the power of your orgasm, wracking your whole body at the same time.//

    &lt;img class=&quot;square_img&quot; src=&quot;images/ep02/reward_chastity_cum_black_hair.jpg&quot;&gt;\

    //You nearly collapse on top of $mgName as your girly-gasm finally subsides.\
      You manage to catch yourself with one hand before you fall onto her chest,\
      your other hand still preoccupied with vibrating your cage, eking out the last few drops of cum.//

    //When you&#39;re finally done, you roll off of $mgName and survey the new mess you&#39;ve made.//
    &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;rewardChastityChoose&quot;&gt;
      &lt;br&gt;
      You:
      &lt;ul&gt;
        &lt;li id=&quot;rewardChastityOpt1&quot; title=&quot;Sissy +1&quot;&gt;
          &lt;&lt;link &quot;@@color:magenta;Lick it up@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardChastityChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardLickItUp&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $timesDrankCum++&gt;&gt;
            &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
            &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li id=&quot;rewardChastityOpt2&quot;&gt;
          &lt;&lt;link &quot;Just cuddle ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardChastityChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li id=&quot;rewardChastityOptRand&quot;&gt;
          &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardChastityOptRand&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set _rand to random(1,2)&gt;&gt;
            &lt;&lt;if _rand is 1&gt;&gt;
              &lt;&lt;toggleclass &quot;#rewardChastityOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#rewardChastityOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;/div&gt;\
&lt;/div&gt;\
&lt;div id=&quot;rewardNotInChastity&quot;&gt;\
  //$mgName spreads her legs, exposing her tight asshole.\
    She squirts a generous amount of lube on her hole and looks at you beckoningly.//\
    @@color:deepskyblue;&quot;C&#39;mon, give it to me!&quot;@@

  //You move in-between her legs and easily slide into her asshole;\
    she&#39;s well practiced at this and frankly you&#39;re not that big.\
    Still, her hole is nice and tight as you start to thrust away.\
    You&#39;ve been pent up, not quite able to fully cum, since you got here; this is the release you need.//

  //It doesn&#39;t take long until you&#39;re ready to blow, the earlier stimulation and the\
    tightness of $mgNames hole combining to make your quick trigger even quicker.\
    You get a few last thrusts in, eliciting a moan from $mgName.\
    You&#39;re going to to cum any... second...!//

  &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;rewardChoose&quot;&gt;
    You:
    &lt;ul&gt;
      &lt;li id=&quot;rewardOpt1&quot; title=&quot;Alpha +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Cum on her@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardCumOnHer&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 1)&gt;&gt;
          &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;rewardOpt2&quot; title=&quot;Alpha +2&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Cum inside@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardCumInHer&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 2)&gt;&gt;
          &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;rewardOpt3&quot; title=&quot;Alpha+1, Sissy +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Cum on her@@ and @@color:magenta;lick it up@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardCumOnHer&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardLickItUp&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $timesDrankCum++&gt;&gt;
          &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 1)&gt;&gt;
          &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;rewardOptRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#rewardOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _and is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#rewardOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;rewardCumOnHer&quot; class=&quot;hide&quot; title=&quot;Alpha +1&quot;&gt;\
  //@@color:cyan;You pull out at the last second and use your hand to give the last few pumps,\
    spraying your baby batter all over $mgName.@@\
    She looks up at you, smiling, obviously happy to see you enjoy yourself.//
&lt;/div&gt;\
&lt;div id=&quot;rewardCumInHer&quot; class=&quot;hide&quot; title=&quot;Alpha +2&quot;&gt;\
  //@@color:cyan;You&#39;re feeling too good to stop now, not when you&#39;re right on the edge like this!@@\
    You hammer home several more thrusts before you finally erupt, spraying your cum deep inside your new girlfriend.\
    You keep thrusting until you&#39;re spent, drained of cum and energy.\
    You collapse onto her chest, breathing heavily.//
&lt;/div&gt;\
&lt;div id=&quot;rewardLickItUp&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;
  //@@color:magenta;You decide it would only be right to clean up your mess.@@\
    You bend over and start licking up your cum from $mgNames tight body.\
    You take your time, bathing her all over with your tongue, everywhere your cum could have gotten,\
    showing your appreciation to your new girlfriend.//

  //She pulls you down onto her bare chest and kisses you deeply,\
    the two of you sharing the last of the jizz on your tongue.//
&lt;/div&gt;\
&lt;div id=&quot;rewardEnd&quot; class=&quot;hide&quot;&gt;
  // The two of you lie there, embracing for a long while;\
    you resting your head on her shoulder while she strokes your hair.\
    You may or may not have dozed off for a little bit, but eventually $mgName stirs,\
    looking at the clock on the wall.//

  @@color:deepskyblue;&quot;As much as I love this, it&#39;s late; you should get going.&quot;@@\
    //She nudges you slightly, affectionately.//

    //Begrudgingly, you extricate yourself and stretch.\
      @@color:coral;&quot;Wow it&#39;s gotten late,&quot;@@ you think.\
      You take a few minutes to clean up before heading out.//
* [[Head home ▶▶▶|Train Incident]]
&lt;/div&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $inChastity is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#rewardInChastity1&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#rewardNotInChastity&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;if $cageKeyOwned is true&gt;&gt;
      &lt;&lt;toggleclass &quot;#rewardCageKeyOwnedTrue&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#rewardNotInChastity&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;toggleclass &quot;#rewardCageKeyOwnedFalse&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="36" name="A New Life" tags="" position="1650,725" size="100,100">!A New Life
//You wake up hurting from the couch. $mgName is at the table eating breakfast as she notices you wake up.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/a_new_life_01.jpg&quot;&gt;
@@color:deepskyblue;&quot;Finally. Rested? Come eat; we&#39;ve got a long day ahead of us.&quot;@@ //She leans back in her chair, obviously waiting for you to get up.// @@color:deepskyblue;&quot;You need some new clothes; I&#39;ll lend you some cash. There&#39;s a shop in town near the sex shop where I work; we might head there afterward.&quot;@@ //She gives you a pensive look.//

//You find the tattered remains of your clothes at the foot of the couch. &lt;&lt;if $mgHappy is true&gt;&gt;You decide to toss out your tattered shirt and just wear the one $mgName gave you.&lt;&lt;/if&gt;&gt; You quickly pull on your outfit, sit down, and start eating. The food&#39;s started to get cold, but still good. You both eat for a few minutes, chatting idly. $mgName seems... not &quot;cold&quot; per-say, but more distant this morning. She gives you several looks as if sizing you up; for what, you&#39;re not sure.

$mgName finishes eating, gets up, and starts clearing away her plate and cleaning up the kitchen, glancing back at you as she busies herself. After a few minutes, she seems to be done and starts to look impatient.

She claps her hands,// @@color:deepskyblue;&quot;Alright, chop chop! Let&#39;s go.&quot;@@
* &lt;span title=&quot;Cash +$50&quot;&gt;[[Hit the road ▶▶▶|Clothes Shop][$cash to $cash +50]]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="37" name="Public Fantasy" tags="Bottom" position="2250,575" size="100,100">!Public Fantasy
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $mgTrans is true&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;Occupied&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;Toys for Boys&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;set _randOpt to random(1,3)&gt;&gt;
&lt;&lt;/silently&gt;&gt; /* TODO: Handle case where no girly clothes are owned */\
//As you feel the softness of the girly clothes, your mind begins to race. You start fantasizing about being fucked in a place where someone can see you; maybe a place like this changing booth.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/public_fantasy_01.jpg&quot;&gt;
//You imagine a strong shemale having her way with you, making a mess.\
  People outside know what&#39;s happening due to your moans, but no one makes a move to interrupt you.

Alas, jerking off is the closest thing you can enjoy right now...//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;publicFantasyChoose&quot;&gt;
  &lt;ul&gt;
    &lt;li id=&quot;publicFantasyOpt1&quot; title=&quot;Alpha +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Jerk off in the booth naked@@ ▶▶▶&quot; _nextPassage&gt;&gt;
        &lt;&lt;set $alphaScore++&gt;&gt;
        &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;publicFantasyOpt2&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Jerk off in the booth while dressed@@ ▶▶▶&quot; _nextPassage&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;publicFantasyOpt3&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Jerk off with your new clothes@@ ▶▶▶&quot; _nextPassage&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;publicFantasyOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;if _randOpt is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _randOpt is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _randOpt is 3&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#publicFantasyOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
\
&lt;div id=&quot;publicFantasyChastity&quot; class=&quot;hide&quot;&gt;\
  //... But you&#39;re locked up in chastity right now and can&#39;t even do that!\
    You spend a few minutes tugging uselessly at your locked up dicklette before giving up.\
    Maybe you can find another way to cure your horniness...//

  You:
* &lt;span title=&quot;Sissy +1&quot;&gt;&lt;&lt;link &quot;@@color:magenta;Finish getting dressed@@ ▶▶▶&quot; _nextPassage&gt;&gt;\
    &lt;&lt;set $sissyScore++&gt;&gt;\
    &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;\
  &lt;&lt;/link&gt;&gt;&lt;/span&gt;
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Occupied]]
  [[Toys for Boys]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $inChastity is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#publicFantasyChastity&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#publicFantasyChoose&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;\</tw-passagedata><tw-passagedata pid="38" name="Toys for Boys" tags="" position="2400,575" size="100,100">!Toys for Boys
&lt;&lt;silently&gt;&gt;
&lt;&lt;if $toysForBoysVisited isnot true&gt;&gt;
  &lt;&lt;if $ep1End is 3&gt;&gt;
    &lt;&lt;set $cash to $cash +20&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
&lt;img class=&quot;taller_img&quot; src=&quot;images/ep02/toys_for_boys_01.jpg&quot;&gt;
&lt;&lt;nobr&gt;&gt;&lt;&lt;if $ep1End is 3&gt;&gt;
@@color:deepskyblue;&quot;Those feel nice, don&#39;t they?&quot;@@ //says $mgName as you exit the shop in your new outfit.//&lt;br&gt;
&lt;br&gt;
@@color:deepskyblue;&quot;C&#39;mon, we&#39;re going to my workplace. You need some training gear. First toy is on me!&quot;@@// She slips you @@color:limegreen;$20@@.//
&lt;&lt;else&gt;&gt;
// You&#39;re about to head back home when you notice a sex shop just around the corner. Curiosity gets the better of you and you decide to head in.&lt;br&gt;
&lt;br&gt;
Inside is a familiar face at the counter - $mgName, the girl you slept with last night.//
&lt;&lt;/if&gt;&gt;&lt;&lt;/nobr&gt;&gt;

You:
* &lt;span title=&quot;Alpha -1&quot;&gt;&lt;&lt;link &quot;@@color:gold;Enter the sex shop@@ ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;&lt;&lt;set $alphaScore--&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/span&gt;
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $toysForBoysVisited is true&gt;&gt;
  /* Hidden Links */
  [[Sex Shop]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="39" name="Cashier Flirt" tags="" position="2400,725" size="100,100">!Cashier Flirt
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/cashier_flirt_01.jpg&quot;&gt;
&lt;&lt;if $ep1End is 1&gt;&gt;\
//As you approach the counter to cash out, the cashier steps away and $mgName steps up to the register to serve you. She eyes your purchases and gives you a wicked smile.//

@@color:deepskyblue;&quot;I see last night gave you some fun ideas.&quot;@@ //she smirks at you.// @@color:deepskyblue;&quot;That&#39;s good; you need some practice. I get off in a few, how about we head back to my place and I&#39;ll give you some hands-on instruction?&quot;@@

//You stammer out an agreement,// @@color:coral;&quot;Umm... Yeah. I think I&#39;d like that. I&#39;ll see you soon.&quot;@@

//You scurry out of the store, unsure of yourself. Maybe you should head home first and try things out before heading over?//
&lt;&lt;else&gt;&gt;\
//$mgName practically drags you to the counter once you&#39;ve made your selections.//

@@color:deepskyblue;&quot;C&#39;mon, I want to get back to my place and try these out on you; you&#39;ve still got a lot to learn and you need practice. Don&#39;t worry, I&#39;ll be sure to teach you properly...&quot;@@ //she gives you a wicked smile.

You stammer out a weak agreement, not fully sure what you&#39;ve gotten yourself into. You owe her for taking care of you last night, and you can&#39;t shake the feeling that this is something you need to explore, but maybe you should stop off at home first?//
&lt;&lt;/if&gt;&gt;\

You:
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  &lt;li id=&quot;cashierFlirtOpt1&quot; title=&quot;Alpha -1&quot;&gt;
    &lt;&lt;link &quot;@@color:gold;Go directly to $mgNames place@@ ▶▶▶&quot; &quot;Leas Lesson&quot;&gt;&gt;
      &lt;&lt;set $alphaScore--&gt;&gt;
    &lt;&lt;/link&gt;&gt;
  &lt;/li&gt;
  &lt;li id=&quot;cashierFlirtOpt2&quot; title=&quot;Alpha +1&quot;&gt;
    &lt;&lt;link &quot;@@color:cyan;Go home first@@ ▶▶▶&quot; &quot;Alone Time&quot;&gt;&gt;
      &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 1)&gt;&gt;
    &lt;&lt;/link&gt;&gt;
  &lt;/li&gt;
  &lt;li id=&quot;cashierFlirtRand&quot;&gt;
    &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
      &lt;&lt;set _rand to random(1,2)&gt;&gt;
      &lt;&lt;if _rand is 1&gt;&gt;
        &lt;&lt;toggleclass &quot;#cashierFlirtOpt2&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;toggleclass &quot;#cashierFlirtOpt1&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      &lt;&lt;toggleclass &quot;#cashierFlirtRand&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;/link&gt;&gt;
  &lt;/li&gt;
&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="40" name="Alone Time" tags="Bottom" position="2250,774" size="100,100">!Alone Time
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $aSmallFireVisited is true&gt;&gt;
    &lt;&lt;set _dest to &quot;Leas Lesson&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _dest to &quot;A Small Fire&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set _numDildoRefs to 11&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
//&lt;span title=&quot;Alpha +1&quot;&gt;@@color:cyan;You decide to head home and try out your new toys yourself first.@@&lt;/span&gt; You don&#39;t want to go unprepared to $mgNames; you&#39;re pretty sure she&#39;s got no intention of being gentle with you.//

&lt;img class=&quot;square_img&quot; src=&quot;images/ep02/alone_time_01.jpg&quot;&gt;\
\
&lt;div id=&quot;aloneTimeToySelection&quot;&gt;\
  &lt;center&gt;&lt;&lt;nobr&gt;&gt;
    &lt;h3&gt;Select toy to use:&lt;/h3&gt;
    &lt;div class=&quot;shop_section&quot;&gt;

      /* Dildo, Small */
      &lt;div id=&quot;crDildoSmall&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start with something.&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_small_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Dildo, Small&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimePlayDildo&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Dildo, Medium */
      &lt;div id=&quot;crDildoMedium&quot; class=&quot;shop_item&quot; title=&quot;A girl&#39;s most trusted friend! Never fails.&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_medium_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Dildo, Medium&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
                &lt;&lt;if $sissyLevel gte 1 and $slutLevel gte 1&gt;&gt;
                  &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimePlayDildo&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;elseif $sissyLevel lt 1 and $slutLevel lt 1&gt;&gt;
                  @@color:magenta;S@@ and @@color:red;U@@ too low!
                &lt;&lt;elseif $sissyLevel lt 1&gt;&gt;
                  @@color:magenta;Sissy lvl@@ too low!
                &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
                  @@color:red;Slut lvl@@ too low!
                &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Dildo, Large */
      &lt;div id=&quot;crDildoLarge&quot; class=&quot;shop_item&quot; title=&quot;You THINK you want it, until you get it.&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_large_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Dildo, Large&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
                &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 4&gt;&gt;
                  &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimePlayDildo&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 4&gt;&gt;
                  @@color:magenta;S@@ and @@color:red;U@@ too low!
                &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
                  @@color:magenta;Sissy lvl@@ too low!
                &lt;&lt;elseif $slutLevel lt 4&gt;&gt;
                  @@color:red;Slut lvl@@ too low!
                &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Dildo, Huge */
      &lt;div id=&quot;crDildoHuge&quot; class=&quot;shop_item&quot; title=&quot;No way you can fit that!&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_huge_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Dildo, Huge&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
                &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 6&gt;&gt;
                  &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimePlayDildo&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 6&gt;&gt;
                  @@color:magenta;S@@ and @@color:red;U@@ too low!
                &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
                  @@color:magenta;Sissy lvl@@ too low!
                &lt;&lt;elseif $slutLevel lt 6&gt;&gt;
                  @@color:red;Slut lvl@@ too low!
                &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Vibe, Small */
      &lt;div id=&quot;crVibeSmall&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start with something.&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_small_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Vibe, Small&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimePlayVibe&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimePlayDildo&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;for _i to 1; _i lte _numDildoRefs; _i++&gt;&gt;
                  &lt;&lt;set _repVar to &quot;#dildo&quot; + _i&gt;&gt;
                  &lt;&lt;replace _repVar&gt;&gt;vibe&lt;&lt;/replace&gt;&gt;
                &lt;&lt;/for&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Vibe, Medium */
      &lt;div id=&quot;crVibeMedium&quot; class=&quot;shop_item&quot; title=&quot;Now you&#39;re talking! Can I borrow?&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_medium_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Vibe, Medium&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
                &lt;&lt;if $sissyLevel gte 2 and $slutLevel gte 1&gt;&gt;
                  &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimePlayVibe&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimePlayDildo&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;for _i to 1; _i lte _numDildoRefs; _i++&gt;&gt;
                      &lt;&lt;set _repVar to &quot;#dildo&quot; + _i&gt;&gt;
                      &lt;&lt;replace _repVar&gt;&gt;vibe&lt;&lt;/replace&gt;&gt;
                    &lt;&lt;/for&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;elseif $sissyLevel lt 2 and $slutLevel lt 1&gt;&gt;
                  @@color:magenta;S@@ and @@color:red;U@@ too low!
                &lt;&lt;elseif $sissyLevel lt 2&gt;&gt;
                  @@color:magenta;Sissy lvl@@ too low!
                &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
                  @@color:red;Slut lvl@@ too low!
                &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Vibe, Large */
      &lt;div id=&quot;crVibeLarge&quot; class=&quot;shop_item&quot; title=&quot;That&#39;ll shake you to your core!&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_large_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Vibe, Large&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $sissyLevel gte 5 and $slutLevel gte 5&gt;&gt;
                &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimePlayVibe&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimePlayDildo&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;for _i to 1; _i lte _numDildoRefs; _i++&gt;&gt;
                    &lt;&lt;set _repVar to &quot;#dildo&quot; + _i&gt;&gt;
                    &lt;&lt;replace _repVar&gt;&gt;vibe&lt;&lt;/replace&gt;&gt;
                  &lt;&lt;/for&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;elseif $sissyLevel lt 5 and $slutLevel lt 5&gt;&gt;
                @@color:magenta;S@@ and @@color:red;U@@ too low!
              &lt;&lt;elseif $sissyLevel lt 5&gt;&gt;
                @@color:magenta;Sissy lvl@@ too low!
              &lt;&lt;elseif $slutLevel lt 5&gt;&gt;
                @@color:red;Slut lvl@@ too low!
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Beads, Small */
      &lt;div id=&quot;crBeadsSmall&quot; class=&quot;shop_item&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_small_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Beads, Small&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $toySelected isnot true&gt;&gt;
                &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;toggleclass &quot;#aloneTimePlayBeads&quot; &quot;hide&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Beads, Medium */
      &lt;div id=&quot;crBeadsMedium&quot; class=&quot;shop_item&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_medium_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Beads, Medium&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $toySelected isnot true&gt;&gt;
                &lt;&lt;if $sissyLevel gte 1 and $slutLevel gte 1&gt;&gt;
                  &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimePlayBeads&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;elseif $sissyLevel lt 1 and $slutLevel lt 1&gt;&gt;
                  @@color:magenta;S@@ and @@color:red;U@@ too low!
                &lt;&lt;elseif $sissyLevel lt 2&gt;&gt;
                  @@color:magenta;Sissy lvl@@ too low!
                &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
                  @@color:red;Slut lvl@@ too low!
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;

      /* Beads, Large */
      &lt;div id=&quot;crBeadsLarge&quot; class=&quot;shop_item&quot;&gt;
        &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_large_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Beads, Large&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $toySelected isnot true&gt;&gt;
                &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 3&gt;&gt;
                  &lt;&lt;link &quot;Use ▶▶▶&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeStartPlay&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeUseToy&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimeToySelection&quot; &quot;hide&quot;&gt;&gt;
                    &lt;&lt;toggleclass &quot;#aloneTimePlayBeads&quot; &quot;hide&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 3&gt;&gt;
                  @@color:magenta;S@@ and @@color:red;U@@ too low!
                &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
                  @@color:magenta;Sissy lvl@@ too low!
                &lt;&lt;elseif $slutLevel lt 3&gt;&gt;
                  @@color:red;Slut lvl@@ too low!
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;&lt;/nobr&gt;&gt;&lt;/center&gt;\
&lt;/div&gt;\
&lt;div id=&quot;aloneTimeUseToy&quot; class=&quot;hide&quot;&gt;
  &lt;span id=&quot;aloneTimeStartPlay&quot; class=&quot;hide&quot;&gt;\
    //You lay on your bed, holding your legs up above you, allowing you easy access to your anus.\
      You pick up your new toy and coat it generously with lube.//
  &lt;/span&gt;
  &lt;&lt;nobr&gt;&gt;
    &lt;div id=&quot;aloneTimePlayBeads&quot; class=&quot;hide&quot;&gt;
      //You start pushing the first bead into your ass as your sphincter tightens against it, pushing it back out.
        You take a couple of deep breaths and force yourself to relax.
        After a moment, your sphincter relaxes and you&#39;re able to pop the first bead into your ass, your eyes rolling back in your head as it does.
        You give yourself a quick moment to take a breath before pushing the next bead in.&lt;br&gt;
      &lt;br&gt;
      The next one goes in much easier, as does the one after that. Your asshole begins to protest just a bit as start to push in the last bead, but loosens up quickly with sustained pressure.
        This doesn&#39;t feel like what you were expecting; you&#39;re not as full as you had been last night, but it&#39;s definitely pressing on some spots inside you that feel &#39;&#39;really&#39;&#39; good.&lt;br&gt;
        &lt;br&gt;
      You start to pull the beads back out slowly, one by one, teasing yourself in the process, but stopping before the last one pops free.
        Your&#39;e starting to feel really good, pushing the beads back in, then pulling them back out.
        You keep this up for several minutes, giving your hole a good stretch.
        By the the time it&#39;s loosened up fully, you&#39;re practically ripping the beads out and shoving them back in as fast as you can.&lt;br&gt;
        &lt;br&gt;
      The clock on the wall eventually catches your eye.
        You&#39;ve gotta get going or $mgName is going to wonder where you are, and you don&#39;t think it&#39;s a good idea to get on her bad side.
        You need to finish up quickly.//&lt;br&gt;
      &lt;br&gt;
      You:&lt;br&gt;
      &lt;ul id=&quot;aloneTimePlayBeadsChoose&quot;&gt;
        &lt;li id=&quot;aloneTimePlayBeadsOpt1&quot; title=&quot;Slut+1&quot;&gt;
          &lt;&lt;link &quot;@@color:red;Rub one out with the beads in your ass@@ ▶▶▶&quot; &gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsOpt1Selected&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsOpt1Display&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsDisplay&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $slutScore++&gt;&gt;
            &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
            &lt;&lt;if $inChastity isnot true or $hasPerkSissygasm is true&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li id=&quot;aloneTimePlayBeadsOpt2&quot; title=&quot;Sissy+1&quot;&gt;
          &lt;&lt;link &quot;@@color:magenta;Bear down on the beads and attempt to sissygasm@@ ▶▶▶&quot; &gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsOpt2Selected&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsOpt2Display&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsDisplay&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
            &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
            &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
              &lt;&lt;set $sissyScore++&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li id=&quot;aloneTimePlayBeadsRandom&quot;&gt;
          &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
            &lt;&lt;set _rand to random(1,2)&gt;&gt;
            &lt;&lt;if _rand is 1&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayBeadsRandom&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
      &lt;ul id=&quot;aloneTimePlayBeadsDisplay&quot; class=&quot;hide&quot;&gt;
        &lt;li id=&quot;aloneTimePlayBeadsOpt1Selected&quot; title=&quot;Slut+1&quot; class=&quot;hide&quot;&gt;
          @@color:red;Rub one out with the beads in your ass@@
        &lt;/li&gt;
        &lt;li id=&quot;aloneTimePlayBeadsOpt2Selected&quot; title=&quot;Sissy+1&quot; class=&quot;hide&quot;&gt;
          @@color:magenta;Bear down on the beads and attempt to sissygasm@@
        &lt;/li&gt;
      &lt;/ul&gt;
      &lt;span id=&quot;aloneTimePlayBeadsOpt1Display&quot; class=&quot;hide&quot;&gt;
        //You get up onto your knees in a kneeling position to better grasp your $mcDick.
        &lt;&lt;if $inChastity isnot true&gt;&gt;
          You start pumping your pecker while pushing and pulling the beads in and out of your ass, timing your strokes with your thrusts of the beads.
            You feel your orgasm building as each bead rubs past your prostate, each stroke making your hand sticky with precum.&lt;br&gt;
          &lt;br&gt;
          Finally, it builds to a head, and you stop stroking yourself, focusing on the beads as they coax the cum out of you.
            You cup your hand in front of your $mcDick, rubbing your glans as you catch your load as it spurts out.
            You let go of the beads and massage your shaft, working out the last of your cum as you shudder and shake from the extended orgasm.
        &lt;&lt;else&gt;&gt;
          asdf
        &lt;&lt;/if&gt;&gt;
        //
      &lt;/span&gt;
      &lt;span id=&quot;aloneTimePlayBeadsOpt2Display&quot; class=&quot;hide&quot;&gt;
        //You bear down on the beads in your ass, tightening, then relaxing your pelvic floor muscles, trying to hit that sweet spot that will let you cum without touching your $mcDick.
        &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
          &lt;span title=&quot;Sissygasm check passed! Sissy+1&quot;&gt;
            It takes you a few minutes to get there, but you finally hit things just right and @@color:magenta;manage to cum all over yourself!@@
              You are rocked with a prolonged, shuddering orgasm that
              &lt;&lt;if $inChastity isnot true&gt;&gt;
                sprays out onto your belly, bouncing up and down as your load spews out.
              &lt;&lt;else&gt;&gt;
                streams out of your little clit, into your waiting hand.
              &lt;&lt;/if&gt;&gt;
          &lt;/span&gt;
        &lt;&lt;else&gt;&gt;
          &lt;span title=&quot;Sissygasm check failed.&quot;&gt;
            You keep trying for several minutes to cum, but you&#39;re just not able to get there.
              Your $mcDick dribbles out onto you, growing softer by the second.
              Frustrated, you realize you&#39;ve lost it and there&#39;s no way you&#39;re going to get to cum right now.
          &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;br&gt;&lt;br&gt;
        Exhausted, you lay there for a moment, catching your breath.
          You&#39;ve got to get going, but you&#39;ve still got a mess to clean.//&lt;br&gt;
      &lt;/span&gt;
    &lt;/div&gt;
    &lt;div id=&quot;aloneTimePlayDildo&quot; class=&quot;hide&quot;&gt;
      //You press the head of the @@#dildo1;dildo@@ to your asshole as some of the lube drips down into your asscrack, leaving you with a cold, wet feeling.
        You shudder a bit as you keep pressing.
        Surprisingly, it slides in much easier than you thought it was going to.
        Your escapades the night before must have helped; your new toy is smaller than what you were penetrated with last night.//&lt;br&gt;
      &lt;br&gt;
      //You slide the @@#dildo2;dildo@@ in, taking it to the base after only a few thrusts in and out.
        You shift the angle of the @@#dildo3;dildo@@ a bit, trying to find that perfect sweet spot.
        You think maybe if you shifted positions, you&#39;d have an easier time of hitting it.//&lt;br&gt;
      &lt;br&gt;
      &lt;div id=&quot;aloneTimePlayVibe&quot; class=&quot;hide&quot;&gt;
        //You turn the vibrator on, shuddering a bit as the new sensation hits you,
          forcing your eyes to roll into the back of your head for just a second.// &lt;br&gt;
        &lt;br&gt;
      &lt;/div&gt;
      You:
      &lt;ul id=&quot;aloneTimeDildoChoose&quot;&gt;
        &lt;li id=&quot;aloneTimeDildoRideIt1&quot; title=&quot;Slut+1&quot;&gt;
          &lt;&lt;link &quot;@@color:red;Get on top and ride it@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoDisplay&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoRideIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoRideIt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $slutScore++&gt;&gt;
            &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
            &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
              &lt;&lt;set $sissyScore++&gt;&gt;
              &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;elseif $slutScore gt $sissyScore and $inChastity isnot true&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;/link&gt;&gt;
         &lt;/li&gt;
        &lt;li id=&quot;aloneTimeDildoBottom1&quot; title=&quot;Sissy+1&quot;&gt;
          &lt;&lt;link &quot;@@color:magenta;Fuck yourself like a bottom-bitch@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoDisplay&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoBottom&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeDildoBottom2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
            &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
              &lt;&lt;set $sissyScore++&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;elseif $slutScore gt $sissyScore and $inChastity isnot true&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
            &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li id=&quot;aloneTimePlayDildoRandom&quot;&gt;
          &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
            &lt;&lt;set _rand to random(1,2)&gt;&gt;
            &lt;&lt;if _rand is 1&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeDildoBottom1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeDildoRideIt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/if&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimePlayDildoRandom&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
      &lt;ul id=&quot;aloneTimeDildoDisplay&quot; class=&quot;hide&quot;&gt;
        &lt;li id=&quot;aloneTimeDildoRideIt2&quot; class=&quot;hide&quot; title=&quot;Slut+1&quot;&gt;
          @@color:red;Get on top and ride it@@
        &lt;/li&gt;
        &lt;li id=&quot;aloneTimeDildoBottom2&quot; class=&quot;hide&quot; title=&quot;Sissy+1&quot;&gt;
          @@color:magenta;Fuck yourself like a bottom-bitch@@
        &lt;/li&gt;
      &lt;/ul&gt;
      &lt;span id=&quot;aloneTimeDildoRideIt&quot; class=&quot;hide&quot;&gt;
        //You decided to climb on top of the @@#dildo4;dildo@@ and ride it for all you&#39;re worth.
          You need to feel this thing as deep in your ass as you can and the&#39;re&#39;s no better way to do than than by riding it cow-girl style.&lt;br&gt;
        &lt;br&gt;
        You get the @@#dildo5;dildo@@ positioned underneath you on the bed, using a small mirror you had laying around as a base.
          You position yourself over it and slowly slide down, letting it fill you up inside.
          You pull back up, then lower yourself back down, a bit faster this time.&lt;br&gt;
        &lt;br&gt;
        You lean back as you bounce up and down on your new toy, taking it deeper with each bounce, trying to hit your prostate with each thrust.
          You bounce harder and deeper, bottoming out the @@#dildo6;dildo@@ repeatedly,
          searching for that sweet release.
          Panting, you finally hit the right spot!
          You grind it there, focusing all your energy on cumming like a bitch,
          squeezing the @@#dildo7;dildo@@ with your ass as hard as you can.&lt;br&gt;
        &lt;br&gt;
        &lt;span id=&quot;dildoRideSissygasm&quot; class=&quot;hide&quot; title=&quot;Sissygasm check passed! Sissy+1&quot;&gt;
          Finally, your bouncing and grinding sends you over the edge and your $mcDick starts to spurt!
            &lt;&lt;if $inChastity isnot true&gt;&gt;
              @@color:magenta;You grab your bouncing cock with your hand, collecting your jizz as it sprays out.@@
                You&#39;ve only left a little mess on your bed and a lot of mess all over your hand.
            &lt;&lt;else&gt;&gt;
              @@color:magenta;Your locked up $mcDick spurts out onto the the mirror below you and you moan aloud,
                your voice rising a couple octaves as the wave of girly pleasure overtakes you.
            &lt;&lt;/if&gt;&gt;
          You shudder from your sissygasm, the final spurts rocking your body as the toy grinds deep inside you and your eyes roll into the back of your head.
        &lt;/span&gt;
        &lt;span id=&quot;dildoRideNoSissygasm&quot;&gt;
          You&#39;re so close but you just can&#39;t get there.
          &lt;span id=&quot;dildoRideJerkSelf&quot; class=&quot;hide&quot;&gt;
            Frustrated, you grind down and grab your $mcDick, stroking yourself.
              It only takes you a few pumps with the toy in your ass to bring you to a shuddering orgasm, cumming into your waiting second hand.&lt;br&gt;
            &lt;br&gt;
            You slump down, the dildo pressing deeper into you, forcing out one more glob of sticky jizz.
              You squeeze the rest out of your spent cock as it beings to soften, collecting everything in your hand.&lt;br&gt;
          &lt;/span&gt;
          &lt;span id=&quot;dildoRideNoCum&quot; class=&quot;hide&quot;&gt;
            You keep trying anyway, pumping harder and harder, trying to get the toy deeper, trying to finally get over that edge... but you just can&#39;t.&lt;br&gt;
            &lt;br&gt;
            Exhausted and frustrated, your $mcDick softens and drips out precum onto the mirror.
              You glance at the clock, realizing just how much time you&#39;ve wasted on this fruitless exercise,
              and give up, pulling yourself off the anal intruder.
          &lt;/span&gt;
          &lt;span id=&quot;dildoRideNoCumChastity&quot; class=&quot;hide&quot;&gt;
            You grab at your $mcDick, pulling at it uselessly, your throbbing cocklette locked away behind its protective shell.
              As you bounce on the toy, your cage bounces against the mirror beneath you,
                leaving little drops of precum.&lt;br&gt;
            &lt;br&gt;
            You keep trying for several more minutes to no avail.
              Nothing you try gets you over the edge and eventually your $mcDick goes limp in the cage.
              Oddly, you still feel somewhat less frustrated and backed up than you did before, despite not actually getting to cum.&lt;br&gt;
          &lt;/span&gt;
        &lt;/span&gt;
        //
      &lt;/span&gt;
      &lt;span id=&quot;aloneTimeDildoBottom&quot; class=&quot;hide&quot;&gt;
        //You roll onto one side, pulling one leg up so it&#39;s out of the way.
          You reach behind yourself and grip the base of the @@#dildo8;dildo@@, pushing it deeper into yourself and biting your lip.
          You start slowly pumping the toy in and out of your ass, trying to find the right angle.//&lt;br&gt;
        &lt;br&gt;
        //After a few minutes, you&#39;re starting to feel pretty good and
          you start picking up the pace, going faster and deeper, trying to cum from your ass.
          You keep going, panting and moaning involuntarily,
          imagining $mgName that&#39;s fucking you right now.//&lt;br&gt;
        &lt;br&gt;
        &lt;span id=&quot;dildoBottomSissygasm&quot; class=&quot;hide&quot; title=&quot;Sissygasm check passed! Sissy+1&quot;&gt;
          //You keep slamming the @@#dildo9;dildo@@ in and out harder and harder until finally,
            bottoming out the toy, you&#39;re about to cum!
            You reach down and cup your hand around your $mcDick,
            hoping to catch your cum so you don&#39;t make a huge mess.
            @@color:magenta;Your sissygasm spurts out,
            covering your hand as you moan like a bitch in heat@@.//&lt;br&gt;
          &lt;br&gt;
        &lt;/span&gt;
        &lt;span id=&quot;dildoBottomNoSissygasm&quot;&gt;
          //You&#39;re not having any luck getting over the edge this way.
            You just can&#39;t seem to cum without touching your $mcDick yet.//
          &lt;span id=&quot;dildoBottomJerkSelf&quot; class=&quot;hide&quot;&gt;
            //Frustrated, you reach between your legs and grab your
              $mcDick and start stroking yourself.
              You&#39;ve been at this too long and you&#39;re too horny to give up now.//&lt;br&gt;
            &lt;br&gt;
            //You keep pounding away at your ass as you stroke your cock,
              the double stimulation bringing you to the edge right away.
              You roll onto your back and press your ass down onto the bed
              to keep the @@#dildo10;dildo@@ buried in your ass as you grab your
              $mcDick and stroke yourself to completion,
              using your free hand to catch your baby batter as it spurts out.//&lt;br&gt;
            &lt;br&gt;
            //Your ass pulses a few times, squeezing down on your anal intruder
              as you squeeze out the last few spurts of cum.//
          &lt;/span&gt;
          &lt;span id=&quot;dildoBottomNoCum&quot; class=&quot;hide&quot;&gt;
            //You keep going, trying harder and harder to cum, but you&#39;re just not getting there.
              Exhausted and frustrated, your $mcDick softens and drips precum out onto your leg.
              You glance at the clock, realizing just how much time you&#39;ve wasted on this fruitless exercise,
              and give up, pulling out the @@#dildo11;dildo@@.//
          &lt;/span&gt;
          &lt;span id=&quot;dildoBottomNoCumChastity&quot; class=&quot;hide&quot;&gt;
            //You paw uselessly at your locked up $mcDick; you&#39;re not going to get any relief that way.
              You redouble your efforts to try and cum from your ass,
              but you&#39;re just not able to get over the edge no matter how hard you try.//&lt;br&gt;
            &lt;br&gt;
            //Eventually, ass sore and arm cramping up, you give up.
              Maybe $mgName will be able to make you cum, desperate as you are.//
          &lt;/span&gt;
        &lt;/span&gt;
      &lt;/span&gt;
    &lt;/div&gt;
    &lt;div id=&quot;aloneTimeEatIt&quot; class=&quot;hide&quot;&gt;
      &lt;br&gt;
      //You look down at where you spent your load when a dirty thought crosses your mind,// @@color:coral;&quot;I wonder how it tastes...&quot;@@&lt;br&gt;
      &lt;br&gt;
      You:
      &lt;ul id=&quot;aloneTimeEatItChoose&quot;&gt;
        &lt;li id=&quot;aloneTimeEatItYes1&quot; title=&quot;Eat your load! Sissy +1&quot;&gt;
          &lt;&lt;link &quot;@@color:magenta;Lick it up@@ ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeEatItChoose&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeEatItDisplay&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeEatItYes2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeAteIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#aloneTimeEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $timesDrankCum++&gt;&gt;
            &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
            &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;&lt;if $hasPerkCumdrinker isnot true&gt;&gt;
          &lt;li id=&quot;aloneTimeEatItNo1&quot;&gt;
            &lt;&lt;link &quot;Shake your head, wondering where the hell that thought came from ▶▶▶&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatItChoose&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatItDisplay&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatItNo2&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/li&gt;
          &lt;li id=&quot;aloneTimeEatItRandom&quot;&gt;
            &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
              &lt;&lt;set _rand to random(1,2)&gt;&gt;
              &lt;&lt;if _rand is 1&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeEatItNo1&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;else&gt;&gt;
                &lt;&lt;toggleclass &quot;#aloneTimeEatItYes1&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;/if&gt;&gt;
              &lt;&lt;toggleclass &quot;#aloneTimeEatItRandom&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/li&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;/ul&gt;
      &lt;ul id=&quot;aloneTimeEatItDisplay&quot; class=&quot;hide&quot;&gt;
        &lt;li id=&quot;aloneTimeEatItYes2&quot; title=&quot;Eat your load! Sissy +1&quot; class=&quot;hide&quot;&gt;
          @@color:magenta;Lick it up@@
        &lt;/li&gt;
        &lt;li id=&quot;aloneTimeEatItNo2&quot; class=&quot;hide&quot;&gt;
          Shake your head, wondering where the hell that thought came from...
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
    &lt;span id=&quot;aloneTimeAteIt&quot; class=&quot;hide&quot; title=&quot;You drank a load of cum! Sissy+1.&quot;&gt;
      //Before you lose your nerve, you gather up your ejaculate and push it into your mouth, licking your hand and fingers clean.
        It takes you a second to really taste it, salty and a little bitter, but you think you might like it.
        Mind racing at just how far you&#39;ve come down this path in less than 24 hours, @@color:magenta;you swallow it down.@@//&lt;br&gt;
    &lt;/span&gt;
    &lt;span id=&quot;aloneTimeEnd&quot; class=&quot;hide&quot;&gt;
      You:
      &lt;ul&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;Clean up and get ready to head out ▶▶▶&quot; _dest&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/span&gt;
  &lt;&lt;/nobr&gt;&gt;\
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $aloneTimeVisited to true&gt;&gt;

  /* Hidden Links */
  [[A Small Fire]]
  [[Leas Lesson]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#dildoRideSissygasm&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#dildoRideNoSissygasm&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#dildoBottomSissygasm&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#dildoBottomNoSissygasm&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;if $slutScore gt $sissyScore and $inChastity isnot true&gt;&gt;
      &lt;&lt;toggleclass &quot;#dildoRideJerkSelf&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#dildoBottomJerkSelf&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;elseif $inChastity isnot true&gt;&gt;
      &lt;&lt;toggleclass &quot;#dildoRideNoCum&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#dildoBottomNoCum&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;elseif $inChastity is true&gt;&gt;
      &lt;&lt;toggleclass &quot;#dildoRideNoCumChastity&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#dildoBottomNoCumChastity&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $hasPerkCumdrinker is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#aloneTimeEatItNo1&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="41" name="Leas Lesson" tags="Bottom" position="2100,725" size="100,100">!$mgNames Lesson
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/leas_lesson_01.jpg&quot;&gt;

//After a while, you make it to $mgNames apartment.\
  She opens the door completely naked, obviously expecting you.\
  Without a word, she pulls you in, pushing you into a chair and pulling your $mcDick out.//

&lt;&lt;mgs&gt;&gt;Time for your first training she says,&lt;&lt;/mgs&gt;&gt;// kneeling down in front of you.//\
  &lt;&lt;mgs&gt;&gt;You&#39;re gonna learn to not just like, but &#39;&#39;love&#39;&#39; anal.&lt;&lt;/mgs&gt;&gt;

//She smirks slightly and hands you one of your new toys.//\
  &lt;&lt;mgs&gt;&gt;Go on, insert it. I&#39;ll take care of you.&lt;&lt;/mgs&gt;&gt;

//You squirt a bit of lube on to the toy then lean back in the chair,\
  line it up with your ass and begin slowly working it in.\
  Once you&#39;ve got it about half-way in, $mgName grabs your hand holding the toy,\
  and begins to apply additional pressure.//\
  &lt;&lt;mgs&gt;&gt;C&#39;mon, we don&#39;t have all day.&lt;&lt;/mgs&gt;&gt;

//$mgName takes over and starts working the toy in and out of your fuckhole.\
  You groan a little bit as your ass adjusts and she picks up speed.//
\
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;leasLessonChoose&quot;&gt;
  &lt;br&gt;
  $mgName fucks you with the toy and:
  &lt;ul&gt;
    &lt;li title=&quot;Sissy +2&quot; id=&quot;leasLessonOpt1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Lightly rubs your $mcDick@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#leasLessonChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#leasLessonChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#leasLessonEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
        &lt;&lt;if $hasPerkSissygasm&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $inChastity isnot true&gt;&gt;
      &lt;li title=&quot;Sissy +1, Alpha +1&quot; id=&quot;leasLessonOpt2&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Gives you@@ @@color:cyan;a handjob@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#leasLessonChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#leasLessonChoice2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#leasLessonEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;aUp 1&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;leasLessonOpt3&quot; title=&quot;Sissy +1, Alpha +2&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Gives you@@ @@color:cyan;a blowjob@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#leasLessonChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#leasLessonChoice3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#leasLessonEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;aUp 2&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;leasLessonOptRand1&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#leasLessonOptRand1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#leasLessonOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#leasLessonOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#leasLessonOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#leasLessonOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#leasLessonOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#leasLessonOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;
&lt;div id=&quot;leasLessonChoice1&quot; class=&quot;hide&quot;&gt;\
  //$mgName rubs your\
    &lt;&lt;if $inChastity isnot true&gt;&gt;\
      $mcDick with the palm of her hand\
    &lt;&lt;else&gt;&gt;\
      exposed balls with her hand, massaging and kneading them around your cage\
    &lt;&lt;/if&gt;&gt;\
    while slowly fucking you with the toy.\
    You can feel your orgasm slowly building as she continues to toy with you.//

  //Just before you blow your load, $mgName &lt;span title=&quot;Sissy +2&quot;&gt;@@color:magenta;stops rubbing your\
    &lt;&lt;if $inChastity isnot true&gt;&gt;\
      $mcDick,\
    &lt;&lt;else&gt;&gt;\
      balls,\
    &lt;&lt;/if&gt;&gt;\
    grabs a cup, and points your $mcDick into it.@@&lt;/span&gt;\
    She keeps pounding away with your toy while holding your $mcDick in the cup,//\
  &lt;&lt;if $hasPerkSissygasm&gt;&gt;\
    //forcing you to &lt;span title=&quot;Sissy +1&quot;&gt;@@color:magenta;sissygasm forcefully right into it@@&lt;/span&gt;.//
  &lt;&lt;else&gt;&gt;\
    //ruining your orgasm as your cum dribbles out into the cup, draining you, but leaving you unsatisfied.//
  &lt;&lt;/if&gt;&gt;\

  //She keeps pumping the toy in and out of you until you&#39;re totally empty and drained,\
    smirking slightly the whole time.//
&lt;/div&gt;\
&lt;div id=&quot;leasLessonChoice2&quot; class=&quot;hide&quot; title=&quot;Alpha +1, Sissy +1&quot;&gt;\
  //$mgName @@color:cyan;strokes your $mcDick, bringing you closer and closer to the edge@@ while\
    @@color:magenta;pumping the toy in and out of your ass.@@\
    She quickly grabs a cup from next to her, then sets it down in front of you,\
    aiming your $mcDick at it as she continues to stroke.//

  &lt;&lt;mgs&gt;&gt;Cum for me slut!&lt;&lt;/mgs&gt;&gt; //she says, and you do, spurting right into the cup,\
    the combination of her handjob and the toy pumping in and out of your ass sending you over the edge.//
&lt;/div&gt;\
&lt;div id=&quot;leasLessonChoice3&quot; class=&quot;hide&quot; title=&quot;Alpha +2, Sissy +1&quot;&gt;\
  //@@color:cyan;$mgName takes your $mcDick in her mouth@@ @@color:magenta;as she continues\
    fucking you with toy, maneuvering it expertly in your ass,@@ hitting all the right spots\
    internally as her tongue does so externally.\
    In under a minute, you feel your orgasm building rapidly, threatening to explode right in her mouth!//

  &lt;&lt;mcs&gt;&gt;&quot;$mgName! I&#39;m about to...&quot;&lt;&lt;/mcs&gt;&gt; //you say, struggling to hold back your orgasm.\
    $mgName grabs a cup from the bedside table and pulls her head off right before you burst.\
    She roughly grabs your $mcDick and aims it into the cup, continuing to push and pull the\
    toy in and out of your ass as you shake and shudder, spurting your seed into the cup.//

  &lt;&lt;mgs&gt;&gt;Still a quick-shot huh?\
    Good thing you didn&#39;t cum in my mouth; I&#39;d have been pissed.&lt;&lt;/mgs&gt;&gt;\
    //She gives you a pointed look.//
&lt;/div&gt;\
&lt;div id=&quot;leasLessonEnd&quot; class=&quot;hide&quot;&gt;\
* [[What&#39;s the cup for? ▶▶▶|Sperm Bank]]
&lt;/div&gt;\</tw-passagedata><tw-passagedata pid="42" name="Sperm Bank" tags="" position="1950,725" size="100,100">!Sperm Bank
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $spermBankSpatOutCondom to false&gt;&gt;
&lt;&lt;set _alphaEnough to false&gt;&gt;
&lt;&lt;set $condomsInserted to 1&gt;&gt;
&lt;&lt;set _maxInsertable to $sissyScore + ($slutScore *2) - $alphaScore&gt;&gt;
&lt;&lt;set _halfInsertable to Math.round(_maxInsertable / 2)&gt;&gt;
&lt;&lt;set _threeQuartersInsertable to Math.round(_maxInsertable * 0.75)&gt;&gt;
&lt;&lt;set _condomsDrank to 0&gt;&gt;
&lt;&lt;set $masoActs++&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
\
//$mgName pulls out a fresh condom, unrolls it, then pours your cum into it.\
  You lay back on the bed, panting as you watch her tie it off.//

@@color:deepskyblue;&quot;Open your mouth,&quot;@@ //she says before shoving the condom full of your spunk into it.//\
  @@color:deepskyblue;&quot;Don&#39;t bite down. Keep it there &#39;til I get back.&quot;@@

&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $alphaLevel gte 1&gt;&gt;
  &lt;&lt;set _alphaEnough to true&gt;&gt;
  &lt;span id=&quot;spermBankHider1&quot;&gt;
    You:&lt;br&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;span title=&quot;Alpha move; this could have consequences! Alpha +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Spit out the condom@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider5&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider6&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $spermBankSpatOutCondom to true&gt;&gt;
          &lt;&lt;aUp 1&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;&lt;&lt;link &quot;Obey ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider5&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/span&gt;

  &lt;span id=&quot;spermBankHider2&quot; class=&quot;hide&quot;&gt;
    @@color:coral;This is fucking weird@@//, you think, spitting out the condom. //@@color:coral;I&#39;m not going to play along with this shit.@@&lt;br&gt;
  &lt;/span&gt;
&lt;&lt;else&gt;&gt;
  &lt;span id=&quot;spermBankHider3&quot;&gt;
    You:&lt;br&gt;
    &lt;ul&gt;
      &lt;li&gt;
        &lt;&lt;link &quot;Wait for her to come back ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankHider5&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/span&gt;
&lt;&lt;/if&gt;&gt;

&lt;span id=&quot;spermBankHider4&quot; class=&quot;hide&quot;&gt;
  //You keep the condom in your mouth, tasting the bit of your salty spooge that got onto the outside of it as it was being filled.//
&lt;/span&gt;
&lt;&lt;/nobr&gt;&gt;\
\
&lt;div id=&quot;spermBankHider5&quot; class=&quot;hide&quot;&gt;
  //Eventually $mgName comes back into the bedroom with dozens of filled condoms strapped to her body. Many appear to be filled with cum, but a few are filled with various other fluids.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/sperm_bank_01.jpg&quot; alt=&quot;Girl with a bunch of condoms strapped to herself all over.&quot;&gt;\

  &lt;div id=&quot;spermBankHider6&quot; class=&quot;hide&quot;&gt;
    //$mgName sees the condom you spat out on the bed.// @@color:deepskyblue;&quot;Looks like my girl still needs to learn how to do what she&#39;s told,&quot;@@ //she says, giving you a stern look.

    She straddles you, picking the condom up from off the bed and grabbing your jaw, forcing your mouth open. She then roughly shoves the condom into your mouth and forces you to bite down on it, keeping hold of one end so that you don&#39;t swallow the condom itself. The salty spooge erupts into your mouth.

    $mgName holds her hand over your mouth and nose, forcing you to swallow if you want to take a breath.// @@color:deepskyblue;&quot;Be a good girl now and swallow it down. We&#39;ve got lots more fun to get to today.&quot;@@

    //Having no other choice, you gulp it down.// @@color:deepskyblue;&quot;There you go,&quot;@@ //she says, giving you a light slap in the face,// @@color:deepskyblue;&quot;Maybe now you&#39;ll learn to listen better, hmm?&quot;@@\

    &lt;center&gt;@@color:magenta;((You have swallowed a load of cum!))@@&lt;/center&gt;\
  &lt;/div&gt;
  @@color:deepskyblue;&quot;Alright,&quot;@@ //$mgName says as she gestures for you to get on all fours,// @@color:deepskyblue;&quot;you&#39;re going to see what it&#39;s like to be properly &#39;&#39;stuffed&#39;&#39;!\
    We&#39;re going to shove as many of these up your ass as you can possibly fit; any that don&#39;t fit, you &#39;&#39;will drink&#39;&#39;.&quot;@@\
    //She gives you a pointed look and a half-smile, letting you know she&#39;s serious.//

  &lt;&lt;nobr&gt;&gt;
    &lt;span id=&quot;spermBankHider6&quot; class=&quot;hide&quot;&gt;
      //She pulls one of the condoms off her belt.//
    &lt;/span&gt;
  &lt;&lt;/nobr&gt;&gt;\
  //Slowly, she shoves the first condom into your asshole.//\
    @@color:deepskyblue;&quot;One down, 29 to go!&quot;@@

  //You moan slightly as it slides home.\
    $mgName pats your ass-cheek.//\
    @@color:deepskyblue;&quot;Here comes another!&quot;@@
  \
  /* Max insertable: _maxInsertable \
  50% insertable: _halfInsertable \
  75% insertable: _threeQuartersInsertable */ \
  &lt;div id=&quot;spermBankCondomInsertTextSpan&quot; class=&quot;hide&quot;&gt;\

    @@#condomInsertText;_condomInsertText@@\

  &lt;/div&gt;
  &#39;&#39;Condoms inserted:&#39;&#39; @@#condomsInserted;$condomsInserted@@

  &lt;&lt;nobr&gt;&gt;
    &lt;span id=&quot;spermBankInsertLink&quot;&gt;
      &lt;&lt;link &quot;Insert another ▶▶▶&quot;&gt;&gt;
        &lt;&lt;if $condomsInserted &lt; 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankCondomInsertTextSpan&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;set $condomsInserted++&gt;&gt;
        &lt;&lt;set _rand to random(1,5)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;set _condomInsertText to &quot;//$mgName pushes another full condom into your ass, burying her finger deep inside you.//&lt;br&gt;&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;set _condomInsertText to &quot;//$mgName teases your asshole with her finger for a moment before popping another full condom into your ass.//&lt;br&gt;&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 3&gt;&gt;
          &lt;&lt;set _condomInsertText to &quot;//$mgName spits on your asshole before pushing the next condom into you. She pats your cheek afterwards, tenderly.//&lt;br&gt;&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 4&gt;&gt;
          &lt;&lt;set _condomInsertText to &quot;//$mgName pulls your cheeks apart, lining up the next condom. She roughly thumbs this one in, pressing her thumb in after it to make sure it&#39;s buried good and deep.//&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 5&gt;&gt;
          &lt;&lt;set _condomInsertText to &quot;//$mgName teases the next condom in and out of your ass, working it in slowly before finally pushing it home.//&lt;br&gt;&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $condomsInserted gte _threeQuartersInsertable&gt;&gt;
          &lt;&lt;set _condomInsertText to _condomInsertText + &quot;&lt;br&gt;&lt;br&gt;//You&#39;re starting to feel really, painfully full. You&#39;re not sure how much more of this you can take!//&quot;&gt;&gt;
        &lt;&lt;elseif $condomsInserted gte _halfInsertable&gt;&gt;
          &lt;&lt;set _condomInsertText to _condomInsertText + &quot;&lt;br&gt;&lt;br&gt;//You can feel yourself starting to get full, but you bite your lip and shift a little bit, hoping that will help.//&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#condomsInserted&quot;&gt;&gt;$condomsInserted&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &quot;#condomInsertText&quot;&gt;&gt;_condomInsertText&lt;&lt;/replace&gt;&gt;
        &lt;&lt;if $condomsInserted gte 30&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankInsertLink&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankTookAll&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif $condomsInserted gte _maxInsertable&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankFull&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#spermBankInsertLink&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _condomsLeft to 30 - $condomsInserted&gt;&gt;
          &lt;&lt;replace &quot;#condomsLeft&quot;&gt;&gt;@@color:deepskyblue;_condomsLeft@@&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/span&gt;
  &lt;&lt;/nobr&gt;&gt;\
  \
  &lt;div id=&quot;spermBankTookAll&quot; class=&quot;hide&quot;&gt;\
    @@color:deepskyblue;&quot;Last one,&quot;@@ //$mgName says, sliding the final condom into your ass.//\
      //She beams at you,// @@color:deepskyblue;&quot;Oh my, you took them all! What a good girl! You&#39;re a natural!&quot;@@

  &lt;/div&gt;\
  \
  &lt;div id=&quot;spermBankFull&quot; class=&quot;hide&quot;&gt;\
    //$mgName goes to insert another full condom into your ass, but you just can&#39;t take any more.//\
      @@color:coral;&quot;Wait, wait!&quot;@@ //you groan,// @@color:coral;&quot;I can&#39;t take any more!&quot;@@ \
      //You can practically feel yourself bursting at the seams.\
      Your ass feels so full, you can&#39;t possibly imagine fitting anything else in in there.//

    @@color:deepskyblue;&quot;Tsk. Disappointing.&quot;@@\
      //$mgName gives you a firm slap on your exposed ass.//\
      //She holds up the remaining condoms.//\
      @@color:deepskyblue;&quot;Looks like you&#39;ve got@@ @@#condomsLeft;_condomsLeft@@ @@color:deepskyblue;left to drink. Open up!&quot;@@

    //$mgName pulls out a pair of scissors and one-by-one starts cutting open the condoms, forcing you to drink their contents.//\
    \
    &lt;&lt;nobr&gt;&gt;
      &lt;ul&gt;
      @@#drankResult; @@
      &lt;/ul&gt;&lt;br&gt;

      &lt;span id=&quot;spermBankDrinkLink&quot;&gt;
        &lt;&lt;link &quot;Drink ▶▶▶&quot;&gt;&gt;
          &lt;&lt;if _condomsDrank is 0&gt;&gt;
            &lt;&lt;set _drankText to &quot;&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
          &lt;&lt;set _condomsDrank++&gt;&gt;
          &lt;&lt;set _rand to random(1,30)&gt;&gt;
          &lt;&lt;if _rand lte 15&gt;&gt;
            &lt;&lt;drankCum&gt;&gt;
            &lt;&lt;set _drankText to _drankText + &quot;&lt;li&gt;//@@color:magenta;You swallow down a load of cum from the condom!@@//&lt;/li&gt;&quot;&gt;&gt;
            &lt;&lt;replace &quot;#drankResult&quot;&gt;&gt;_drankText&lt;&lt;/replace&gt;&gt;
          &lt;&lt;elseif _rand gt 15 and _rand lte 20 and $allowContentPissplay is true&gt;&gt;
            &lt;&lt;set _drankText to _drankText + &quot;&lt;li&gt;//@@color:yellow;The condom is filled with piss, but $mgName forces you to choke it down!@@//&lt;/li&gt;&quot;&gt;&gt;
            &lt;&lt;replace &quot;#drankResult&quot;&gt;&gt;_drankText&lt;&lt;/replace&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;set _drankText to _drankText + &quot;&lt;li&gt;//The condom is filled with some innocuous liquid; water maybe? You swallow it down.//&lt;/li&gt;&quot;&gt;&gt;
            &lt;&lt;replace &quot;#drankResult&quot;&gt;&gt;_drankText&lt;&lt;/replace&gt;&gt;
          &lt;&lt;/if&gt;&gt;
          &lt;&lt;if _condomsDrank gte _condomsLeft&gt;&gt;
            &lt;&lt;toggleclass &quot;#spermBankDrinkLink&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#spermBankEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/span&gt;
    &lt;&lt;/nobr&gt;&gt;
  &lt;/div&gt;\
  &lt;div id=&quot;spermBankEnd&quot; class=&quot;hide&quot;&gt;\
    //$mgName smiles down at you wickedly.// @@color:deepskyblue;&quot;Great! Stay right there; I&#39;ll be right back for your next round of training.&quot;@@

    You:
    &lt;&lt;nobr&gt;&gt;
      &lt;ul&gt;
        &lt;li title=&quot;Slut +2&quot;&gt;
          &lt;&lt;link &quot;@@color:red;I&#39;m stuffed!@@ ▶▶▶&quot; &quot;Rough Ride&quot;&gt;&gt;
            &lt;&lt;set $slutScore to $slutScore + 2&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;&lt;/nobr&gt;&gt;\
  &lt;/div&gt;\
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Rough Ride]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="43" name="Rough Ride" tags="Bottom" position="1800,725" size="100,100">!Rough Ride
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set _randOps to [&quot;ribbed&quot;, &quot;lumpy&quot;]&gt;&gt;
  &lt;&lt;set _dildoType to _randOps[random(0,1)]&gt;&gt;
  &lt;&lt;if _dildoType is &quot;ribbed&quot;&gt;&gt;
    &lt;&lt;set _sInc to &quot;Slut +1&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _sInc to &quot;Slut +2&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
//$mgName comes back out wearing a _dildoType strapon dildo.\
  Your eyes open wide in surprise, unsure if your ass can handle it.//

//$mgName smacks your ass, hard, then forces your head back down onto the bed, pushing you down with her foot as she stands over you.//\
  @@color:deepskyblue;&quot;No backing out now bitch; you WILL take it! Let&#39;s see how many condoms I can pop!&quot;@@

//She lines up the rough looking dildo with your fuckhole and spits on it before thrusting into your ass in one fell swoop.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/rough_ride_01.jpg&quot;&gt;

@@color:deepskyblue;&quot;Take it bitch!&quot;@@ //she says as she starts aggressively fucking you.\
  You&#39;re so stuffed full from before that you can&#39;t imagine there&#39;s any room left in your gut.//\
\
&lt;span id=&quot;condomsPop&quot; class=&quot;hide&quot;&gt;\
  //It&#39;s almost a relief when you feel a condom pop, some of the pressure abating as the fluid from the condom leaks out of your ass.\
    Before long, you feel another one pop; then another.

  You lose track as you&#39;re being brutally fucked by $mgName.\
    All you can do is grunt and pant as she pounds away at you.//
&lt;/span&gt;\
&lt;span id=&quot;noCondomsPop&quot; class=&quot;hide&quot;&gt;\
  //Unfortunately, it seems you weren&#39;t full enough, as $mgName isn&#39;t able to make any condoms pop.\
    You&#39;re not sure how she can tell, but she seems to get frustrated by this and starts fucking you even harder!//

  //You whimper pathetically; that at least seems to please $mgName and she gives you a playful swat on your ass.//\
    @@color:deepskyblue;&quot;Good girl. You&#39;ve still got a ways to go, but you&#39;ll learn to love this eventually!&quot;@@
&lt;/span&gt;\

//After what feels like forever, $mgName finally relents with her rough fucking and pulls out of your ass.//

You:
&lt;&lt;nobr&gt;&gt;
  &lt;ul&gt;
    &lt;li @title=&quot;_sInc&quot;&gt;
      &lt;&lt;link &quot;@@color:red;What now?@@ ▶▶▶&quot; &quot;Have a Seat&quot;&gt;&gt;
        &lt;&lt;if _dildoType is &quot;ribbed&quot;&gt;&gt;
          &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Have a Seat]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $condomsInserted gte 10&gt;&gt;
    &lt;&lt;toggleclass &quot;#condomsPop&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $condomsPopped to true&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;toggleclass &quot;#noCondomsPop&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $condomsPopped to false&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;unset $condomsInserted&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="44" name="Have a Seat" tags="" position="1650,900" size="100,100">!Have a Seat
//$mgName shoves her fingers in your ass and begins rooting around.\
  Your poor battered asshole is stretched open wide at this point, making it easier for $mgName \
  to get in deep and pull out the filled condoms she so vigorously shoved into you earlier.\
  When she&#39;s done, she gives you another swat on the ass.//

@@color:deepskyblue;&quot;Up on the chair slut.&quot;@@\
  //She hands you a buttplug.//\
  @@color:deepskyblue;&quot;Sit on it.\
  You&#39;re not getting up until that thing between your legs flips the switch.&quot;@@

@@color:deepskyblue;&quot;And don&#39;t you dare push out!\
  You can grind on it if you want, but you&#39;ll be sitting there the whole day if you have to.&quot;@@

//You grab some lube off the side table, lubing up the toy before forcing it in your ass.\
  You slump back into the chair, exhausted, but glad for the break.//

&lt;img src=&quot;images/ep02/have_a_seat_01.jpg&quot;&gt;\

&lt;span id=&quot;startHard&quot; class=&quot;hide&quot;&gt;\
  //You sit there for several minutes trying to force yourself to go soft.\
    You grind your plugged ass against the chair, hoping that the rubbing on your prostate will help you soften quicker. //\
&lt;/span&gt;\
&lt;span id=&quot;startSoft&quot; class=&quot;hide&quot;&gt;\
  //Your limp $mcDick flops as you squeeze down on the plug and grind against the chair, focusing on trying to get hard again. //\
&lt;/span&gt;\
//It takes some time, but eventually you get there.

You look up to see $mgName smirking down at you, enjoying the show.//

You:
&lt;&lt;nobr&gt;&gt;
  &lt;ul&gt;
    &lt;&lt;if _flipHard is true&gt;&gt;
      &lt;li title=&quot;Alpha +1, Slut +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Wait for@@ @@color:red;what comes next@@ ▶▶▶&quot; &quot;Sealed Fate&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod +1)&gt;&gt;
          &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $slutScore++&gt;&gt;
          &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li title=&quot;Sissy +1, Slut +1&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Wait for@@ @@color:red;what comes next@@ ▶▶▶&quot; &quot;Sealed Fate&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $slutScore++&gt;&gt;
          &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $haveASeatVisited isnot true&gt;&gt;
    &lt;&lt;set $masoActs++&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $haveASeatVisited to true&gt;&gt;

  /* Hidden Links */
  [[Continue ▶▶▶|Sealed Fate]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if ($sissyScore / 2) gt ($alphaScore *2)&gt;&gt;
    &lt;&lt;toggleclass &quot;#startHard&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set _flipHard to false&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;toggleclass &quot;#startSoft&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set _flipHard to true&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="45" name="Sealed Fate" tags="" position="1650,1050" size="100,100">!Sealed Fate
//$mgName stands over you, reaches down and pulls the plug out, causing you to gasp slightly.\
  She grabs a dildo and tosses it up onto the bed.//

@@color:deepskyblue;&quot;Hop on little bunny.\
  You&#39;ve got 30 minutes to make yourself cum.\
  And no touching your little dickie; I want to see you cum from your ass alone.&quot;@@

//You crawl up onto the bed, grab the toy and start slowly pushing it into your stretched-out ass.//

&lt;img src=&quot;images/ep02/sealed_fate_01.jpg&quot;&gt;
//$mgName climbs up onto the bed across from you, leans back and starts to play with herself.//

&lt;img src=&quot;images/ep02/sealed_fate_02.jpg&quot;&gt;
//You keep fucking yourself for several minutes, biting your lip and trying to hit the right spots to make yourself cum.//\
&lt;span id=&quot;sealedFateCanCum&quot; class=&quot;hide&quot;&gt;\
  //Finally, you start hitting the right spots, plunging the dildo in, deeper and deeper.\
    You can feel your orgasm building and building as you watch $mgName finger herself, obviously getting off on you fucking yourself.//

  //You plunge the dildo in frantically, pushing past your pleasure spot repeatedly.\
    $mgName throws back her head and starts to moan and shudder with her own orgasm.//

  //&lt;&lt;sc &quot;Sissygasm! Sissy +1&quot;&gt;&gt;Seeing her cum is enough to push you over the edge!\
    Your $mcDick finally erupts and you empty your load all over yourself, panting and moaning the whole time.&lt;&lt;/sc&gt;&gt;//

  //You lay there for a moment to catch your breath and see $mgName smiling at you as she catches her own breath.//

  @@color:deepskyblue;&quot;Good girl; I knew you could do it.&quot;@@
&lt;/span&gt;\
&lt;span id=&quot;sealedFateCantCum&quot; class=&quot;hide&quot;&gt;\
  //The pleasure you seek remains elusive and you keep fucking yourself to no avail.\
    You start to get tired and slow down, your arm getting tired.//

  @@color:deepskyblue;&quot;Don&#39;t stop! Keep going slut!&quot;@@\
    //$mgName calls out at you as she continues plunging her fingers into her pussy.//\
    @@color:deepskyblue;&quot;I&#39;m not done yet and you still have 20 minutes left!&quot;@@

  //You curse under your breath and get back to it, continuing to fuck yourself.\
    You try switching hands until that one gets tired, then changing positions, riding the dildo, hoping that will get you there.//

  //$mgName seems amused by your predicament.//\
    @@color:deepskyblue;&quot;Keep it going! I&#39;m almost... there...!&quot;@@\
    //She gasps out as she finally cums, spraying her juices on you as her orgasm takes hold.//

  @@color:deepskyblue;&quot;Fuck! That was good!&quot;@@\
    //She looks at you as she catches her breath, then looks over at her alarm clock to check the time.//\
    @@color:deepskyblue;&quot;Five more minutes bitch! Keep it up! I don&#39;t care if you cum or not; keep going!&quot;@@

  //You pant desperately, your whole body aching now, you hole getting sore.\
    You keep fucking yourself, trying to get there, but you&#39;re left dribbling precum out of your $mcDick that refuses to cum.//

  //Finally, $mgName looks at you, annoyed.//\
    @@color:deepskyblue;&quot;Tsk. Fine, you can stop now. Looks like you need more training.&quot;@@
&lt;/span&gt;\

//As you lie there panting, $mgName craws over, puts her hand under your chin, and pulls your face up close to hers.//

@@color:deepskyblue;&quot;In case it wasn&#39;t already obvious, you&#39;re my girl now.\
  &#39;&#39;Mine.&#39;&#39; Don&#39;t forget it.&quot;@@\
  //She gives you a quick peck on your forehead before sauntering off to the bathroom to get cleaned up.\
  You take that as your cue to get cleaned up and get going.//

You:
&lt;&lt;nobr&gt;&gt;
  &lt;&lt;set _text to $mgName + &quot; affection +2&quot;&gt;&gt;
  &lt;ul&gt;
    &lt;li @title=&quot;_text&quot;&gt;
      &lt;&lt;link &quot;Clean up and head out ▶▶▶&quot; &quot;Train Incident&quot;&gt;&gt;
        &lt;&lt;set $mgAffection to $mgAffection + 2&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;&lt;/nobr&gt;&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Train Incident]]
&lt;&lt;/silently&gt;&gt;
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $hasPerkSissygasm is true or ($sissyScore + $slutScore - $alphaScore) gte 25&gt;&gt;
    &lt;&lt;toggleclass &quot;#sealedFateCanCum&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
    &lt;&lt;sissygasm&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;toggleclass &quot;#sealedFateCantCum&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="46" name="Train Incident" tags="" position="1800,1050" size="100,100">&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $aSmallFireVisited is true&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;What a Day&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;A Small Fire&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
!Train Incident
\
//After the exhausting day you had, you decide to take a train back to your part of town.\
  Just as it hits a curve, people star pressing into each other and you feel a pair of rough hands groping your ass.\
  They start massaging your ass, pushing your underwear into your asscrack.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/train_incident_01.jpg&quot;&gt;
\
//The train is so cramped, you can&#39;t even turn around to see who&#39;s groping you, but you feel the hot breath from two different $malesMen on your neck.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;trainIncidentChoice&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li title=&quot;Alpha +2&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Fight back@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#trainIncidentChoice&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#trainIncidentFight&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 2)&gt;&gt;
        &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li title=&quot;Alpha -1, Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Give in@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#trainIncidentChoice&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#trainIncidentGiveIn&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $alphaScore--&gt;&gt;
        &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
\
&lt;div id=&quot;trainIncidentFight&quot; class=&quot;hide&quot;&gt;\
  //You throw an elbow into the ribs of one of the $malesMen and try to pull away.\
    $malesHeCap lets out a gasp as the air is knocked out of $malesHim, but the other one grabs your head and slams it into the wall of the train.//

  //You let out a scream,// @@color:coral;&quot;Help!&quot;@@ //as you try and push away from the two $malesMen.\
    You hear one of them curse as they punch you in the ribs, knocking you down.//

  //One of the other passengers starts pushing through the crowd,// @@color:aquamarine;&quot;Hey! Leave her alone!&quot;@@

  //Your two assailants scramble away, forcing their way through the crowd; you don&#39;t even get a good look at their faces.\
    The helpful passenger stands over you and offers you a hand.\
    As you reach to grab it, he looks a bit perplexed.//

  @@color:aquamarine;&quot;Er, sorry. I thought you were a girl,&quot;@@ //he says, pulling you to your feet.//

  @@color:coral;&quot;Thanks,&quot;@@ //you mumble, staring at the ground.//

  //The stranger rubs the back of his head,// @@color:aquamarine;&quot;Ah, I gotta go. That&#39;s my stop.&quot;@@\
    //You nod as he moves away, giving you one last backward glance.\
    Fortunately, the rest of the ride is uneventful and you make it to your stop without further issue.//

  You:
* &lt;&lt;link &quot;Head home ▶▶▶&quot; _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;trainIncidentGiveIn&quot; class=&quot;hide&quot;&gt;\
  //You decide you haven&#39;t yet had enough fun today and push back against the $malesMen&#39;s hands, giving them a little wink as you turn your head and bite your lip.//

  //Out of the corner of your eye, you can see one of them smile.//\
    @@color:aquamarine;&quot;Heh. Looks like we picked a proper slut!&quot;@@ //$malesHe whispers, a little too loudly.//

  //The two $malesMen begin groping you more aggressively and you push back into them.//
* [[Play along ▶▶▶|Play Along]]
&lt;/div&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[What a Day]]
  [[Play Along]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="47" name="Play Along" tags="Bottom" position="1950,1075" size="100,100">!Play Along
//Your hunger gets the better of you and you start to get into it.\
  You lift your ass, standing up on your tiptoes, letting the $malesMen know you&#39;re game and giving them a better grip as they grope and fondle you.

One of the strangers&#39; hands moves around to your front as your $mcDick starts to harden.\
  $malesHe lets out a grunt of surprise, but doesn&#39;t stop.//

@@color:aquamarine;&quot;Looks like you got a little extra something down there,&quot;@@ //$malesHe says,\
  pressing $malesHis hard dick into your side through $malesHis pants and rubbing $malesHimself against you.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/play_along_01.jpg&quot;&gt;
\
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;playAlongChoice&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;playAlongOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Let them rub and grope you throughout the ride@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#playAlongChoice&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#playAlongChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#playAlongEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;playAlongOpt2&quot; title=&quot;Sissy+1, Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Pull your panties aside so they can finger@@ and @@color:magenta;grope you throughout the ride@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#playAlongChoice&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#playAlongChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#playAlongFingering&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#playAlongEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $inChastity isnot true&gt;&gt;
      &lt;li id=&quot;playAlongOpt3&quot; title=&quot;Sissy +1, Alpha +1&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Pull your panties aside so they can finger you@@ while you @@color:cyan;jerk yourself@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#playAlongChoice&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#playAlongChoice3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#playAlongFingering&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#playAlongEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 1)&gt;&gt;
          &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;playAlongOptRand1&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
          &lt;&lt;toggleclass &quot;#playAlongOptRand1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;playAlongOptRand2&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#playAlongOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
          &lt;&lt;toggleclass &quot;#playAlongOptRand2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
\
&lt;div id=&quot;playAlongChoice1&quot; class=&quot;hide&quot;&gt;\
  //You keep grinding into the two $malesMen as they continue rubbing and groping you.\
    You reach down and start rubbing them as well through their pants, feeling them get more and more excited as you keep going.//
&lt;/div&gt;\
&lt;div id=&quot;playAlongFingering&quot; class=&quot;hide&quot;&gt;\
  //You reach back and pull your panties to one side, exposing your asshole.\
    You grab one of the $malesMen&#39;s hands and suck on a couple of their fingers fingers before guiding the hand back to your ass.\
    They get the hint and slip their fingers inside your ass, wriggling them around, making you squeal just a little bit.//

&lt;/div&gt;\
&lt;div id=&quot;playAlongChoice2&quot; class=&quot;hide&quot;&gt;\
  //The other one keeps rubbing and playing with your balls and &lt;&lt;if $inChastity is true&gt;&gt;locked up&lt;&lt;/if&gt;&gt; $mcDick.\
    You&#39;re now leaking precum onto their hand through your panties as you use your own hands to rub their hard cocks.//
&lt;/div&gt;\
&lt;div id=&quot;playAlongChoice3&quot; class=&quot;hide&quot;&gt;\
  //You pull your cock out and start jerking it right there, hidden from view of the other passengers by the two $malesMen.\
    You feel the second $malesMan reach behind you and slip one of $malesHis own fingers in, spreading you open even wider as you rub yourself.\
    $malesHisCap other hand caresses your balls as you stroke yourself, leaking precum onto your hand and dripping onto the floor of the train.//
&lt;/div&gt;\
&lt;div id=&quot;playAlongEnd&quot; class=&quot;hide&quot;&gt;
  //You look up and see that your stop is coming up.\
    You whisper to your new friends,// @@color:coral;&quot;Follow me to to my place. Let&#39;s play!&quot;@@\
    //You start making your way to the doors.//
* [[Head to your place ▶▶▶|Double Fun]]
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="48" name="Double Fun" tags="Bottom" position="2100,1075" size="100,100">!Double Fun
//The strangers follow you home.\
  Without even looking back, you start to undress as soon as you enter your apartment.//

@@color:coral;&quot;C&#39;mon; who&#39;s first?&quot;@@ //you ask.\
  Both $malesMen step forward at the same time, cocks out, eager to bury themselves inside you.\
  You smile; looks like you&#39;re getting double teamed.//

//You curl your finger at them, making your way to the bed.\
  One moves behind you, and the other to the front.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/double_fun_01.jpg&quot;&gt;
\
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;doubleFunChoose&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;doubleFunOpt1&quot; title=&quot;Sissy +2&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Ride one cowgirl and jerk off the other@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunCowgirl&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;doubleFunOpt2&quot; title=&quot;Sissy +1, Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Ride one cowgirl@@ and @@color:red;blow the other@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunCowgirl&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $timesSuckedDick++&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;doubleFunOpt3&quot; title=&quot;Slut +3&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Get pounded doggy-style while blowing the other@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $timesSuckedDick++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;doubleFunOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#doubleFunOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#doubleFunOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#doubleFunOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#doubleFunOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#doubleFunOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#doubleFunOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;toggleclass &quot;#doubleFunOptRand&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;span id=&quot;doubleFunCowgirl&quot; class=&quot;hide&quot;&gt;\
  //The first $malesMan lies down on the bed and you move to straddle $malesHim, lowering yourself down onto $malesHis cock in reverse cowgirl.\
    The other moves in front of you.//\
&lt;/span&gt;\
&lt;span id=&quot;doubleFunChoice1&quot; class=&quot;hide&quot;&gt;\
  //You spit on your hand, then grab $malesHis dick and start stroking.//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep02/double_fun_05.jpg&quot;&gt;\

  //At first, it&#39;s hard to concentrate on pleasing two people at once, but soon you get the hang of it, bouncing on one and stroking the other at the same time.\
    It doesn&#39;t take long before they&#39;re both ready to blow.\
    You bounce and stroke even harder, coaxing the cum out of them at the same time.//

  //The $malesGuy you&#39;re riding blows first, filling up the condom in your ass.\
    The other $malesGuy isn&#39;t far behind.\
    $malesHeCap grabs $malesHis cock from you and jerks $malesHimself to completion onto your chest.//
&lt;/span&gt;\
&lt;span id=&quot;doubleFunChoice2&quot; class=&quot;hide&quot;&gt;\
  //You grab $malesHis dick and guide it to your mouth.\
    You lick the tip and the shaft a few times before popping the head into your mouth and sucking.//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep02/double_fun_02.jpg&quot;&gt;\

  //You keep sucking, pulling $malesHis dick deeper and deeper into your throat as your other partner thrusts up from below.\
    The $malesGuy you&#39;re blowing grunts, then grabs your head and starts roughly throat-fucking you.//

  //This keeps up for several minutes, you getting throat-fucked from one end and riding the other $malesGuy on the other.\
    You feel the $malesGuy in your mouth start to pulse and $malesHe pulls out before stroking $malesHimself to completion on your face.//

  @@color:aquamarine;&quot;Oh fuck, that&#39;s hot,&quot;@@ //the $malesGuy beneath you says.\
    A moment later, $malesHe shudders and you feel $malesHim erupt into $malesHis condom.\
    You keep riding until the spurting stops.//
&lt;/span&gt;\
&lt;div id=&quot;doubleFunChoice3&quot; class=&quot;hide&quot;&gt;\
  //@@color:red;The $malesGuy behind you gets up on $malesHis knees,\
    grabs your hips, pulling you into doggy-style, and shoves $malesHis cock into your ass.@@\
    The second $malesGuy gets right in front of your face and slaps $malesHis cock across your cheek.\
    You open your mouth to take $malesHim in.\
    As $malesHe slides $malesHis dick into your mouth, you get the salty taste of $malesHis precum all over your tongue.//

  &lt;&lt;if $maleChars is true&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep02/double_fun_03.jpg&quot;&gt;\
  &lt;&lt;else&gt;&gt;\
    &lt;img class=&quot;square_img&quot; src=&quot;images/ep02/double_fun_04.jpg&quot;&gt;\
  &lt;&lt;/if&gt;&gt;\

  //The two $malesMen roughly fuck you, spit-roasted between them for what feels like ages.\
    You&#39;re barely moving, practically a fuck-doll for the two $malesMen as they have their way with you.//

  //The keep going until eventually the one plowing your ass grunts, and you feel $malesHim cum, the condom barely holding out at the force of the eruption.\
    Just then, you taste a flood of precum from the $malesGuy in your mouth!\
    $malesHeCap pulls out right before $malesHe cums, spraying baby-batter all over your face and hair.//
&lt;/div&gt;\
&lt;div id=&quot;doubleFunEnd&quot; class=&quot;hide&quot;&gt;
  // Your partners don&#39;t seem to need much of a rest and only a moment later, they&#39;re ready to go again.//

You:
* [[Keep fucking ▶▶▶|Gay Spray]]
&lt;/div&gt;
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $timesAssFucked++&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="49" name="Gay Spray" tags="" position="2250,1075" size="100,100">!Gay Spray
//A few switches back and forth so they both get a chance to try out both of your\
  holes and the strangers are out of condoms, but ready to burst again.\
  Laying on the bed, leaking precum and spent from getting fucked repeatedly all day,\
  you lick your lips seductively as they jerk themselves to completion,\
  covering you with pearly white cum.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/gay_spray_01.jpg&quot;&gt;\

//You gather up the cum they&#39;ve covered you with and@@#gatherCumText;:@@//
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;gaySprayChoose&quot;&gt;
  &lt;ul&gt;
    &lt;li id=&quot;gaySprayOpt1&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Rub the cum all over yourself@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;replace &quot;#gatherCumText&quot;&gt;&gt; &lt;span title=&quot;Slut +1&quot;&gt;@@color:red;rub the cum all over yourself@@.&lt;/span&gt;&lt;&lt;/replace&gt;&gt;
        &lt;&lt;toggleclass &quot;#gaySprayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#gaySprayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;gaySprayOpt2&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Eat as much cum as you can@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;replace &quot;#gatherCumText&quot;&gt;&gt;
          &lt;span title=&quot;Sissy +1&quot;&gt;
            @@color:magenta;and lick it up off your hand, swallowing down the salty loads@@.
          &lt;/span&gt;
        &lt;&lt;/replace&gt;&gt;
        &lt;&lt;toggleclass &quot;#gaySprayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#gaySprayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $timesDrankCum++&gt;&gt;
        &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
        &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
        &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $inChastity isnot true&gt;&gt;
      &lt;li id=&quot;gaySprayOpt3&quot; title=&quot;Alpha +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Rub the cum all over your dick@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;replace &quot;#gatherCumText&quot;&gt;&gt;
            &lt;span title=&quot;Alpha +1&quot;&gt;
              @@color:cyan;rub the cum all over your dick, using it as lube to jerk yourself@@.
            &lt;/span&gt;
          &lt;&lt;/replace&gt;&gt;
          &lt;&lt;toggleclass &quot;#gaySprayChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#gaySprayEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod +1)&gt;&gt;
          &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;gaySprayOptRand1&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#gaySprayOptRand1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;gaySprayOptRand2&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#gaySprayOptRand2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaySprayOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;gaySprayEnd&quot; class=&quot;hide&quot;&gt;
//As you&#39;re playing with their cum, you notice that one of the $malesGuys is still rock hard.\
  Looks like the night isn&#39;t over just yet...//

You:
* [[Go for one last round ▶▶▶|Karma is a Bitch]]
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="50" name="Karma is a Bitch" tags="Bottom" position="2400,1075" size="100,100">&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $aSmallFireVisited is true&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;What a Day&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;A Small Fire&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
!Karma is a Bitch
//You decide to be a good host and not leave your guests unsatisfied.//

//You mount the stranger one last time, riding $malesHim reverse-cowgirl,\
  trying to drain $malesHis balls completely.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/karma_is_a_bitch_01.jpg&quot;&gt;\

//You&#39;re vigorously riding the stranger on your couch when you hear a knock and your apartment door swings open.//\
  @@color:deepskyblue;&quot;Oh, it&#39;s open... Hey babe, I happened to find your wall...&quot;@@

//$mgName walks in, holding your missing wallet, but stops dead mid-sentence.\
  Stunned, the wallet falls from her hand, making a leathery sound as it hits the floor.//

&lt;div id=&quot;karmaBitchTransRel&quot; class=&quot;hide&quot;&gt;\
  //$mgName stares at you for half a heartbeat, mouth agape.//

  @@color:deepskyblue;&quot;How could you!?&quot;@@ //she says, bursting into tears and running out the door.//

  @@color:yellow;(( Your relationship with $mgName has worsened by 💔💔💔💔 ))@@
&lt;/div&gt;\
&lt;div id=&quot;karmaBitchTransNoRel&quot; class=&quot;hide&quot;&gt;\
  @@color:deepskyblue;&quot;I... Oh.&quot;@@, //she stammers, blushing as she backs out the door, closing it firmly behind her.//

  @@color:yellow;(( Your relationship with $mgName has worsened by 💔 ))@@
&lt;/div&gt;\
&lt;div id=&quot;karmaBitchGirl&quot; class=&quot;hide&quot;&gt;\
  //$mgName narrows her eyes at you, anger obviously welling there; you were HER slut!\
    She doesn&#39;t say anything, just turns on her heel and storms out, slamming the door behind her.//

  @@color:yellow;(( Your relationship with $mgName has worsened by 💔💔 ))@@
&lt;/div&gt;
//You move to try and get up to run after her, but your partner is still buried in your ass,\
  oblivious to anything but $malesHis need to cum.\
  You can&#39;t help but ride it out, your eyes rolling into the back of your head as $malesHe grips your hips,\
  pounding away, forcing you $mcDick to leak uncontrollably as your prostate is rammed mercilessly.\
  Finally, $malesHe pulls out and cums on your ass, stroking $malesHimself to completion.//

//You run to the door, frantic, but $mgName is already long gone and you&#39;re in no state to run outside.//\
  @@color:coral;&quot;Fuck!&quot;@@ //you swear, wondering to yourself how you got so carried away.//

//The two strangers share a look with each other.//\
  @@color:aquamarine;&quot;So, hey... we&#39;re gonna go...&quot;@@ //one of them says as they both start gathering their clothes and beating a hasty retreat.//

//You stare around, not sure what to do.\
  You haven&#39;t gotten a new phone yet to replace the one that was stolen so you can&#39;t even call $mgName.\
  Giving up, you sigh and decide you&#39;ll just have to deal with it in the morning.//

You:
* &lt;&lt;link &quot;Head for the shower ▶▶▶&quot; _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[What a Day]]
&lt;&lt;/silently&gt;&gt;
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $karmaIsABitchVisited isnot true&gt;&gt;
    &lt;&lt;if $mgTrans is true and $mgAffection gte 2&gt;&gt;
      &lt;&lt;toggleclass &quot;#karmaBitchTransRel&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;set $mgAffection to $mgAffection -4&gt;&gt;
    &lt;&lt;elseif $mgTrans is true&gt;&gt;
      &lt;&lt;toggleclass &quot;#karmaBitchTransNoRel&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;set $mgAffection to $mgAffection -1&gt;&gt;
    &lt;&lt;elseif $mgTrans is false&gt;&gt;
      &lt;&lt;toggleclass &quot;#karmaBitchGirl&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;set $mgAffection to $mgAffection -2&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $karmaIsABitchVisited to true&gt;&gt;
  &lt;&lt;set $gotCaughtCheating to true&gt;&gt;
  &lt;&lt;set $hasPerkCheatingWhore to true&gt;&gt;
  &lt;&lt;set $showPerkGainCheatingWhore to true&gt;&gt;
  &lt;&lt;set $episodeCheated to $episode&gt;&gt;
  &lt;&lt;set $timesAssFucked++&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="51" name="What a Day" tags="" position="2550,1050" size="100,100">!What a Day
//It&#39;s midnight by the time you finally make it into the shower.\
  Your mind is still racing, retracing all the things that happened today.\
  Your new clothes... your first toy... A fucking fire... A lot of firsts.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep02/what_a_day_01.jpg&quot;&gt;\

//Thinking about everything starts to make you horny again and your asshole is still a bit loose from the day&#39;s activities.\
  You can&#39;t help but blush; everything you&#39;ve been through just makes you want more and more.\
  Your $mcDick starts to become hard again&lt;&lt;if $inChastity is true&gt;&gt;, straining against your cage&lt;&lt;/if&gt;&gt;,\
  but it&#39;s time for bed; tomorrow&#39;s a new day.\
  But still...//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;whatADayChoose&quot;&gt;
  You decide to:
  &lt;ul&gt;
    &lt;li id=&quot;whatADayOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Just fantasize while showering@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#whatADayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#whatADayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#whatADayChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;whatADayOpt2&quot; title=&quot;Slut +1&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Finger yourself in the shower@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#whatADayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#whatADayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#whatADayChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;if $hasPerkSissygasm is true&gt;&gt;
          &lt;&lt;toggleclass &quot;#whatADayFingeringCum&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;sissygasm&gt;&gt;
          &lt;&lt;if $hasPerkCumdrinker is true&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#whatADayFingeringCantCum&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $inChastity isnot true&gt;&gt;
      &lt;li id=&quot;whatADayOpt3&quot; title=&quot;Alpha +1&quot;&gt;
        &lt;&lt;link &quot;@@color:cyan;Jerk off in the shower@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#whatADayChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#whatADayEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#whatADayChoice3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + 1)&gt;&gt;
          &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;if $hasPerkCumdrinker is true&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayEatIt&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;set $sissyScore++&gt;&gt;
            &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;whatADayOptRand1&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#whatADayOptRand1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;whatADayOptRand2&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#whatADayOptRand2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else &gt;&gt;
            &lt;&lt;toggleclass &quot;#whatADayOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;whatADayChoice1&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
  //@@color:magenta;Your mind starts replaying all the fun you had today@@; the feel of your new clothes,\
    the feel of your new toy entering you for the first time, the feel of being filled by $mgNames $mgDick...//

  //You shudder a little bit and start to rub yourself...\
    You stop and shake your head.\
    You&#39;ll have time for that later, for now you need to finish getting cleaned up and get some sleep.//

&lt;/div&gt;\
&lt;div id=&quot;whatADayChoice2&quot; class=&quot;hide&quot; title=&quot;Slut +1&quot;&gt;\
  //@@color:red;The water sprays down over you as your finger starts exploring your still loosened-up asshole.@@\
    You bite your lip as you slip a finger inside, searching for your p-spot.//

  //You start fingering yourself, squirting some conditioner onto your fingers to use as lube.\
    Before long, you&#39;ve got three fingers buried in your own ass and you&#39;re swirling them around like mad, trying to make yourself cum.//

  &lt;div id=&quot;whatADayFingeringCum&quot; class=&quot;hide&quot;&gt;\
    //&lt;&lt;sc &quot;Sissygasm! Sissy +1&quot;&gt;&gt;You start hitting just the right spots, thrusting in and out,\
      rubbing your prostate until, finally, you sissygasm spews forth!&lt;&lt;/sc&gt;&gt;\
      You first spurt hits the wall of the shower before you grab the head of your $mcDick with your other hand to catch your cum.//

    //You shudder a little bit, weak in the knees from the intense orgasm.//\
      @@color:coral;&quot;Fuck that was good...&quot;@@

  &lt;/div&gt;\
  &lt;div id=&quot;whatADayFingeringCantCum&quot; class=&quot;hide&quot;&gt;\
    //You&#39;re still not able to cum from your ass alone.\
      Frustrated, you give up for now; you&#39;ll just have to keep practicing.\
      Still, you feel a bit better now, even though you weren&#39;t actually able to cum.//

  &lt;/div&gt;\
&lt;/div&gt;\
&lt;div id=&quot;whatADayChoice3&quot; class=&quot;hide&quot; title=&quot;Alpha +1&quot;&gt;\
  //@@color:cyan;You decide to rub one out one last time@@ tonight before you head to bed.\
    You grab your hardening prick and give it a few short strokes to really get you hard.//

  //You rub and tease the head of your cock for a few seconds.\
    You can feel a bit of precum leaking from your mushroom tip, more slippery than the water cascading down over you.\
    Deftly, you start stroking longer and harder, getting into a rhythm that you know will bring you cum in no time.//

  //You know all the right spots to hit, it&#39;s your dick after all, and before long you cum, your baby batter bursting out,\
    covering your hand and the wall of the shower.//

&lt;/div&gt;\
&lt;div id=&quot;whatADayEatIt&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
  //You look down at the cum covering your hand.\
    It almost seems a waste to let it go down the drain...//

  //Before you even realize what you&#39;re doing, @@color:magenta;you&#39;re licking your own cum off your hand, savoring the taste.@@\
    You lick your fingers clean, then the wall of the shower.\
    Somewhere in the back of your mind, you feel like you should be disgusted with yourself right now, but all you can feel is\
    disappointed that some of your yummy cum was able to escape down the drain before you could slurp it down.//

&lt;/div&gt;\
&lt;div id=&quot;whatADayEnd&quot; class=&quot;hide&quot;&gt;\
  &lt;div id=&quot;whatADayCheater&quot; class=&quot;hide&quot;&gt;\
    //You&#39;re rinsing the shampoo from your hair when you remember $mgName catching you fucking those two strangers.\
      You shake your head a little bit, getting a bit of the shampoo from your hair into your eyes.//

    //You move your face under the showerhead to stop the stinging and curse to yourself, thinking,\
      @@color:coral;&quot;Fuck. I hope she&#39;s not too mad at me. I mean, we just started... whatever this is.&quot;@@//

    //You shake your head again; a problem for the morning.\
      At least she brought you your wallet, even if all it had left in it was your ID.//

  &lt;/div&gt;\
  //You finish showering and towel off.\
    Your place is still a mess, but your bed is soft and... mostly clean-ish.\
    Enough to sleep in at least.\
    You make your way over and collapse, falling asleep soundly.//
* [[Sleep through the night ▶▶▶|EP2 End Card]]
&lt;/div&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $hasPerkCheatingWhore is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#whatADayCheater&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="52" name="A Small Fire" tags="" position="1850,275" size="100,100">&lt;&lt;silently&gt;&gt;
  &lt;&lt;if previous() is &quot;Train Incident&quot; or previous() is &quot;Karma is a Bitch&quot;&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;What a Day&quot;&gt;&gt;
    &lt;&lt;set _nextPassageText to &quot;Take a shower ▶▶▶&quot;&gt;&gt;
    &lt;&lt;set _nextPassageSpan to &quot;&quot;&gt;&gt;
  &lt;&lt;elseif previous() is &quot;Alone Time&quot;&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;Leas Lesson&quot;&gt;&gt;
    &lt;&lt;set _nextPassageText to &quot;Head to $mgNames place ▶▶▶&quot;&gt;&gt;
    &lt;&lt;set _nextPassageSpan to &quot;&quot;&gt;&gt;
  &lt;&lt;elseif previous() is &quot;A Wet Dream&quot;&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;Clothes Shop&quot;&gt;&gt;
    &lt;&lt;set _nextPassageText to &quot;@@color:limegreen;Go shopping@@ ▶▶▶&quot;&gt;&gt;
    &lt;&lt;set _nextPassageSpan to &quot;Cash +$70&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
!A Small Fire
//You&#39;re cleaning up from your earlier &quot;fun&quot;, when suddenly the fire alarm in your bedroom starts going off!\
  You run back to your room, only to find that there&#39;s a small inferno in your closet.\
  Instinctively, you run and grab the fire extinguisher, moving faster than you think you ever have before in your life!//

&lt;img class=&quot;square_img&quot; title=&quot;Don&#39;t daisy-chain power strips, people!&quot; src=&quot;images/ep02/a_small_fire_01.jpg&quot; alt=&quot;A fire burning&quot;&gt;\

//Several panic inducing minutes later, you&#39;ve managed to put out the fire.\
  You slump to the floor, still naked.\
  You didn&#39;t lose much, just //&#39;&#39;all of your clothes&#39;&#39;,// except \
&lt;&lt;if $clothesShopVisitedEp2 is true&gt;&gt;\
  the ones you just bought.\
    Looks like you&#39;re now stuck with your new attire, whether you like it or not.
&lt;&lt;else&gt;&gt;\
  the tattered remains of what you wore last night.\
    You need to go shopping and get some new clothes, post-haste.\
    &lt;&lt;if $aloneTimeVisited isnot true&gt;&gt;Fortunately, you&#39;ve got a bit of cash on your bedside table.&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;\
//
@@#fireExit;You get dressed in your only remaining outfit and@@:
* &lt;span @title=&quot;_nextPassageSpan&quot;&gt;\
    &lt;&lt;link _nextPassageText _nextPassage&gt;&gt;\
      &lt;&lt;if _nextPassage is &quot;Clothes Shop&quot;&gt;&gt;\
        &lt;&lt;set $cash to $cash +70&gt;&gt;\
      &lt;&lt;/if&gt;&gt;\
    &lt;&lt;/link&gt;&gt;\
  &lt;/span&gt;\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $aSmallFireVisited to true&gt;&gt;

  /* Hidden Links */
  [[Leas Lesson]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if previous() is &quot;Train Incident&quot; or previous() is &quot;Karma is a Bitch&quot;&gt;&gt;
    &lt;&lt;replace &quot;#fireExit&quot;&gt;&gt;You&lt;&lt;/replace&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="53" name="EP2 End Card" tags="" position="2700,1050" size="100,100">!Episode 2 End
&#39;&#39;End of Episode 2 - &quot;The Day After&quot;&#39;&#39;

/* Episode 3 is currently in development and should be released sometime early 2023!

Thanks for playing! Check back for future updates!

If you can, [[please consider supporting the author|Support]]! */

* [[Get up and run errands ▶▶▶| Phone Call]]
&lt;&lt;silently&gt;&gt;
  &lt;&lt;unset $ep1End&gt;&gt;
  &lt;&lt;unset $leasLessonChoice&gt;&gt;
  &lt;&lt;unset $spermBankSpatOutCondom&gt;&gt;
  &lt;&lt;unset $toysForBoysVisited&gt;&gt;
  &lt;&lt;unset $aSmallFireVisited&gt;&gt;
  &lt;&lt;unset $haveASeatVisited&gt;&gt;
  &lt;&lt;unset $karmaIsABitchVisited&gt;&gt;
  &lt;&lt;unset $clothesShopVisitedEp2&gt;&gt;
  &lt;&lt;unset $aloneTimeVisited&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $ep2EndCardVisited isnot true&gt;&gt;
    &lt;&lt;set $dayCounter++&gt;&gt;
    &lt;&lt;set $dayOfWeekCounter++&gt;&gt;
    &lt;&lt;set $episode++&gt;&gt;
    &lt;&lt;set $daysSinceDrankCum++&gt;&gt;
    &lt;&lt;set $episodeTitle to &quot;Costume Party&quot;&gt;&gt;
    &lt;&lt;set $ep2EndCardVisited to true&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="54" name="Phone Call" tags="" position="2850,1050" size="100,100">!Phone Call
\
//You wake up relatively early for a $dayOfWeek.\
  The sunlight streams in through your window;\
  looks like you forgot to close the curtains.\
  It&#39;s just as well.  You still have to replace the cell phone that was stolen,\
  and make a bunch of calls related to everything you lost from your wallet.//

//With a groan, you throw the covers off and stumble out of bed.\
  You pick up your clothes from yesterday, the only real outfit you have right now,\
  and toss it into your apartment&#39;s combined washer/dryer,\
  one of the nicer amenities the place comes with.//

//While those are running, you scrounge up some breakfast,\
  then pull out your laptop to look up where the closest cell phone place\
  is and when they open.\
  It&#39;s not to far and if you leave as soon as you&#39;re dressed,\
  you can get there right after they open and still have plenty of time\
  to deal with the other crap you&#39;ve got to take care of.//

//You browse the internet for a bit, while waiting for your clothes to dry,\
  then quickly get dressed after you hear the dryer ding.\
  You&#39;re going to need to get more clothes here soon,\
  but you&#39;ve got very little cash and no cards or anything right now.\
  It&#39;ll have to wait.//

//You head out to the cell phone store, walking as you&#39;re not in any rush.\
  The employees are pretty helpful, and before long you&#39;ve got a new phone.\
  You&#39;re really glad you bought that stupid insurance plan,\
  but there&#39;s still some fees for the replacement that&#39;ll be on your next bill.\
  Still better than you&#39;d hoped.//

//They help you get your contacts and everything re-sync&#39;d from your cloud backup.\
  Scrolling through the list, you can see that $mgNames number got backed-up before\
  your old phone was stolen.//

//You head back home and spend the next couple of hours calling around to your bank,\
  credit card companies, etc. trying to get everything cleared up.\
  Looks like that thug that stole your wallet racked a decent number of charges.//

//You decide to lay down and take a short nap.\
  A little while later, your phone rings, waking you up.\
  It&#39;s $mgName, but she sounds a bit strange,\
  as if just hearing your voice for the first time.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/phone_call_01.jpg&quot;&gt;\

&lt;&lt;mgs&gt;&gt;Hey, uhm... is that you $name?\
  Did I wake you up?&quot;&lt;&lt;/mgs&gt;&gt;

//You yawn and confirm that it&#39;s you.//\
  &lt;&lt;if $hasPerkCheatingWhore&gt;&gt;\
    //Suddenly, your heart starts racing, remembering how she caught you last night!\
    You try to keep calm, hoping she won&#39;t bring it up.\
    You&#39;ll have to find some way to explain yourself before you see her next time.//
  &lt;&lt;/if&gt;&gt;\

&lt;&lt;mgs&gt;&gt;Sorry. Listen, can you come over to my place?\
  There&#39;s something I want to talk to you about.&lt;&lt;/mgs&gt;&gt;

&lt;&lt;mcs&gt;&gt;&quot;Uh, yeah, sure. When?&quot;&lt;&lt;/mcs&gt;&gt; //you reply.//

&lt;&lt;mgs&gt;&gt;How about noon-ish? About two hours from now?&lt;&lt;/mgs&gt;&gt;

//You glace at the clock,// &lt;&lt;mcs&gt;&gt;&quot;Sure, sounds good.&quot;&lt;&lt;/mcs&gt;&gt;

&lt;&lt;mgs&gt;&gt;Great! See you in a bit! I&#39;ll be waiting.&lt;&lt;/mgs&gt;&gt;

//You hang up with $mgName, thinking that that last line sounded kinda ominous.\
  You shake it off.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;phoneCallChoose&quot;&gt;
  &lt;&lt;if $mgTrans&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;The Talk&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;Come In&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;phoneCallOpt1&quot; title=&quot;Sissy +1&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Take your time preparing@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#phoneCallChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#phoneCallEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#phoneCallChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $sissyScore++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;phoneCallOpt2&quot; title=&quot;Alpha +1&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Lay back down and nap some more@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#phoneCallChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#phoneCallEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#phoneCallChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;phoneCallOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#phoneCallOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#phoneCallOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#phoneCallOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;phoneCallChoice1&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
  //@@color:magenta;You decide to take your time getting ready; this might be a date!@@\
    You don&#39;t exactly have a lot of stuff to make yourself look more girly than\
    you already do, but you take extra time brushing your hair and teeth,\
    and just generally trying to look nice.//

  //You decide to pluck your eyebrows a bit too.\
    Not anything super girly; just a cleanup around the edges and between them,\
    making them nice and tidy.\
    You also find some lip balm left behind by your ex-girlfriend and\
    decide to try it out. It makes your lips all shiny and feel nice;\
    apparently it&#39;s also a gloss and has just a bit of glitter in it.//

  //Finally, it&#39;s time to go, and you&#39;re satisfied with your primping.\
    Looking in the mirror, you think that maybe you could pass as a girl now,\
    as long as no one looked too closely.//
&lt;/div&gt;\
&lt;div id=&quot;phoneCallChoice2&quot; class=&quot;hide&quot; title=&quot;Alpha +1&quot;&gt;\
  //@@color:cyan;You figure you&#39;re just going to wear the same thing you&#39;ve got on now,\
    so you might as well lay back down and nap a bit longer.@@\
    Your phone alarm goes off right before you need to head out.\
    You roll out of bed, slightly rumpled, and head for the door.//

  //Passing your mirror, you notice you&#39;re a bit more out of sorts than expected.\
    You take a minute to try and straighten yourself out a bit,\
    and run a comb through your $mcHairColor hair.\
    You figure that&#39;s good enough and make to leave.//
&lt;/div&gt;\
&lt;div id=&quot;phoneCallEnd&quot; class=&quot;hide&quot;&gt;\
* &lt;&lt;link &quot;Head out ▶▶▶&quot; _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[The Talk]]
  [[Come In]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="55" name="The Talk" tags="" position="2850,900" size="100,100">!The Talk
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $hasPerkCheatingWhore&gt;&gt;\
    &lt;&lt;set _nextPassage to &quot;Lock It Up&quot;&gt;&gt;\
    &lt;&lt;set _nextPassageText to &quot;You&#39;re in for it now ▶▶▶&quot;&gt;&gt;\
  &lt;&lt;else&gt;&gt;\
    &lt;&lt;set _nextPassage to &quot;Choose a Costume&quot;&gt;&gt;\
    &lt;&lt;set _nextPassageText to &quot;Time to pick a costume ▶▶▶&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/silently&gt;&gt;\
&lt;div id=&quot;theTalkCheater&quot; class=&quot;hide&quot;&gt;\
  //She opens the door looking visibly shaken and lets you in.\
    The door latch has barely clicked shut before she starts shouting at you.//

  &lt;&lt;mgs&gt;&gt;What the fuck was that shit!?\
    How could you!?\
    I absolutely cannot believe it!&lt;&lt;/mgs&gt;&gt;

  &lt;&lt;mgs&gt;&gt;We&#39;ve only been together a couple of days and you&#39;re already cheating on me!?\
    With two fucking randos!?\
    And why!? Are you really that starved for cock!?\
    Am I not enough for you!?\
    I even bought you that goddamn toy!&lt;&lt;/mgs&gt;&gt;

  //You stare at her in stunned silence for a moment, trying to find words,\
    but nothing is coming to you.//\
    &lt;&lt;mcs&gt;&gt;&quot;I...&quot;&lt;&lt;/mcs&gt;&gt;

  //$mgName hauls off and slaps you across the face.//\
    &lt;&lt;mgs&gt;&gt;&quot;Don&#39;t you fucking dare!\
    You&#39;re going to regret this, mister!&lt;&lt;/mgs&gt;&gt;

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/the_talk_slap_01.jpg&quot;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;theTalkFaithful&quot; class=&quot;hide&quot;&gt;\
  //You knock on the door to her apartment and she yells for you to come in.\
    You push the door open and see her sitting at the table, tapping away at her phone,\
    obviously a bit frustrated.\
    She looks up at you.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/the_talk_01.jpg&quot;&gt;\

  @@color:deepskyblue;&quot;Oh, hi honey!\
    Listen, there&#39;s a party tonight and you&#39;re coming with me.\
    I&#39;m just looking for a costume right now, then we&#39;ll go pick out yours.&quot;@@

  &lt;&lt;mcs&gt;&gt;&quot;Uh, I don&#39;t...&quot;&lt;&lt;/mcs&gt;&gt; //you start to respond before she cuts you off.//

  &lt;&lt;mgs&gt;&gt;Yeah, &#39;no&#39; is not an option.\
    I want to show you off, so you&#39;re coming.&lt;&lt;/mgs&gt;&gt;
&lt;/div&gt;\
* &lt;&lt;link _nextPassageText _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Lock It Up]]
  [[Choose a Costume]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $hasPerkCheatingWhore&gt;&gt;\
    &lt;&lt;toggleclass &quot;#theTalkCheater&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;\
    &lt;&lt;toggleclass &quot;#theTalkFaithful&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/done&gt;&gt;\</tw-passagedata><tw-passagedata pid="56" name="Lock It Up" tags="" position="2850,600" size="100,100">!Lock It Up
//$mgName grabs you by the ear and drags you into her bedroom.//\
  &lt;&lt;mgs&gt;&gt;Get your little $mcDick out slut. Now!&lt;&lt;/mgs&gt;&gt;

//You stare at her in stunned silence for a moment, not moving.\
  She slaps you again. Hard.//\
  &lt;&lt;mgs&gt;&gt;Did I stutter!? Dick. Out. Now.&lt;&lt;/mgs&gt;&gt;\
  //You drop your &lt;&lt;mcPants&gt;&gt; to the ground and pull down your &lt;&lt;mcUnderwear&gt;&gt;,\
  exposing your $mcDick.//\
  &lt;&lt;mgs&gt;&gt;Good. Stay there.&lt;&lt;/mgs&gt;&gt;\

&lt;&lt;if $inChastity&gt;&gt;\
  //$mgName leaves the room and comes back with a pair of bolt cutters.\
    Your eyes go wide for a second and you make to back away.//

  &lt;&lt;mgs&gt;&gt;Chill the hell out. It&#39;s just for the lock. This time.&lt;&lt;/mgs&gt;&gt;\
    //She sounds serious and you&#39;re pretty sure she wouldn&#39;t actually... you know...\
    Still, probably better not to test the theory.//

  &lt;&lt;mgs&gt;&gt;Hold your cage still.&lt;&lt;/mgs&gt;&gt;\
    //It takes a minute, but after some finagling she&#39;s able to cut the lock off.\
    You&#39;re finally free after all this time!\
    God what a stupid decision it was to try on that chastity cage;\
    what the hell were you thinking?//

  //$mgName smirks at your expression of relief,//\
    &lt;&lt;mgs&gt;&gt;What, you think I&#39;m just letting you out?\
    After what you did? Oh hell no!\
    That thing just had to go so I could replace it with this!&lt;&lt;/mgs&gt;&gt;

  //Like a magician during their big reveal,\
    $mgName pulls her hand around from behind her back and reveals another, smaller,\
    &#39;&#39;metal&#39;&#39; chastity cage.\
    Your eyes go wide and you think, &lt;&lt;mcs&gt;&gt;there&#39;s now way I&#39;ll fit into that!&lt;&lt;/mcs&gt;&gt;\
    &lt;&lt;sc &quot;Sissy +5; Alpha gains reduced!&quot;&gt;&gt;Before you know it, $mgName has already grabbed your balls\
    and begun forcefully shoving your dick into it&#39;s new prison.&lt;&lt;/sc&gt;&gt;//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep03/lock_it_up_chastity_small_01.jpg&quot;&gt;\

  //It&#39;s tight, and you can feel the cage compressing you, even limp as you are.\
    You can&#39;t imagine how tight it&#39;s going to be if you try to get hard in this thing!//
&lt;&lt;else&gt;&gt;
  //$mgName grabs a box off of her dresser and pulls out a chastity cage.\
    &lt;&lt;sc &quot;Sissy +5; Alpha gains reduced!&quot;&gt;&gt;Without a word, she grabs you by the balls and\
    starts forcing your junk into the cage.&lt;&lt;/sc&gt;&gt;//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep03/lock_it_up_chastity_regular_01.jpg&quot;&gt;\

  //Immediately, your dick tries to get hard, but can&#39;t,\
    causing some not insignificant discomfort.\
    You stare down at your locked up junk, realizing just how badly you fucked up.//
&lt;&lt;/if&gt;&gt;\

//$mgName snaps the lock shut, then puts the key on a chain around her neck.//\
  @@color:deepskyblue;&quot;There. Your little clitty is staying locked up until I let you out myself.\
  Is that clear?&quot;@@

//You nod meekly.// &lt;&lt;mgs&gt;&gt;Good,&lt;&lt;/mgs&gt;&gt; //she says,//\
  &lt;&lt;mgs&gt;&gt;They have even smaller versions, and ones with spikes. Do not test me.&lt;&lt;/mgs&gt;&gt;\
  //She gives you a stern look.//\

* &lt;&lt;link &quot;She&#39;s not done ▶▶▶&quot; &quot;Time Out&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;&lt;silently&gt;&gt;
  &lt;&lt;forcedChastity&gt;&gt;

  /* Hidden Links */
  [[Time Out]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="57" name="Time Out" tags="" position="2850,450" size="100,100">!Time Out
//Standing there with your $mcDick out, locked up tight in its new prison,\
  the gravity of the situation hits you.\
  You fucked up and she&#39;s not going to let that slide.//\
  &lt;&lt;mgs&gt;&gt;Strip,&lt;&lt;/mgs&gt;&gt; //she says, looking at you pointedly.//\
  &lt;&lt;mgs&gt;&gt;We&#39;re not done yet.&lt;&lt;/mgs&gt;&gt;

//You start to undress the rest of the way as $mgName walks away from you to\
  a chest at the foot of her bed.\
  She starts digging through it and eventually pulls out some rope.\
  She stares at it for a moment, apparently thinking, before walking back over to you.//

&lt;&lt;mgs&gt;&gt;Here&#39;s the deal,&lt;&lt;/mgs&gt;&gt; //she starts.//\
  &lt;&lt;mgs&gt;&gt;I&#39;m going to tie you up and you&#39;re going to kneel in the corner for a while\
  and think about what you did. Later, we&#39;re going to a costume.\
  You WILL pick out a costume and come with me.&lt;&lt;/mgs&gt;&gt;\
  //She jabs a finger into your bare chest to emphasize her point.//\
  &lt;&lt;mgs&gt;&gt;And you WILL behave yourself and not embarrass me.\
  Think of this as the start of your apology.&lt;&lt;/mgs&gt;&gt;

//You know better than to test her right now, so you just nod along.//\
  &lt;&lt;mgs&gt;&gt;Good. Now get in the corner and kneel.&lt;&lt;/mgs&gt;&gt;

//It doesn&#39;t take long for her to tie you up, pinning your arms up behind your back,\
  and your ankles up underneath you so that you&#39;re forced to kneel.\
  She shoves a small gag in your mouth before leaving you there, unable to move.//

&lt;img class=&quot;square_img&quot; src=&quot;images/ep03/time_out_01.jpg&quot;&gt;\

//It&#39;s horrendously uncomfortable, and you&#39;re stuck kneeling there for a long time.\
  You lose track of time as you constantly shift, trying to relieve some of the pain\
  from the ropes digging into you all over.\
  You can hear $mgName moving about in the apartment,\
  apparently carrying on with her day and getting ready for the party as you&#39;re stuck sitting there.//

//Eventually $mgName comes back in and unties you, helping you to your feet.//\
  &lt;&lt;mgs&gt;&gt;You deserve more, but we&#39;ve got to get going soon.&lt;&lt;/mgs&gt;&gt;\

* &lt;&lt;link &quot;Time to pick out a costume ▶▶▶&quot; &quot;Choose a Costume&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Choose a Costume]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="58" name="Come In" tags="" position="3000,1050" size="100,100">!Come In
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $hasPerkCheatingWhore&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;Spank&quot;&gt;&gt;
    &lt;&lt;set _nextPassageText to &quot;You&#39;re in for it now ▶▶▶&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _nextPassage to &quot;Choose a Costume&quot;&gt;&gt;
    &lt;&lt;set _nextPassageText to &quot;Time to pick a costume ▶▶▶&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
\
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/come_in_01.jpg&quot;&gt;\

&lt;&lt;if $hasPerkCheatingWhore&gt;&gt;\
  //$mgName opens the door and stares at you for a moment,\
    almost like she&#39;s having trouble understanding why you&#39;re there.\
    Her expression changes into a snarl,// &lt;&lt;mgs&gt;&gt;Get in here. Now!&lt;&lt;/mgs&gt;&gt;

  //She opens the door wider and steps out of the way, letting you in, then slams the door closed.//\
    &lt;&lt;mgs&gt;&gt;Bedroom. Now. Move!&lt;&lt;/mgs&gt;&gt; //she growls, pointing.\
    Not wanting to piss her off further, you obey,\
    walking ahead of her like you&#39;re being marched off to the principal&#39;s office.//

  //She follows close behind you until you enter her room.\
    She pushes past you to sit on her bed, crossing her arms and legs and glowering at you.//\
    &lt;&lt;mgs&gt;&gt;Kneel!&lt;&lt;/mgs&gt;&gt; //she commands, her tone inviting no argument.\
    You opt to kneel down in front of her, unsure exactly what she&#39;s got in store for you.//

  &lt;&lt;mgs&gt;&gt;We need to clear some things up, you and I.&lt;&lt;/mgs&gt;&gt;\
    //Her foot shakes impatiently,// &lt;&lt;mgs&gt;&gt;Just what the fuck were you thinking!?&lt;&lt;/mgs&gt;&gt;\
    //She glares at you for a moment, apparently expecting a response.\
    You open your mouth, but nothing comes out.//
&lt;&lt;else&gt;&gt;\
  //$mgName opens the door and welcomes you in.\
    She starts heading for the living room, obviously expecting you to follow.//

  &lt;&lt;mgs&gt;&gt;Some of my friends are throwing a party tonight,&lt;&lt;/mgs&gt;&gt; //she starts,//\
    &lt;&lt;mgs&gt;&gt;I want you to come with so I can show you off.&lt;&lt;/mgs&gt;&gt;

  //You start to protest,// &lt;&lt;mcs&gt;&gt;&quot;Um, I don&#39;t...&quot;&lt;&lt;/mcs&gt;&gt;

  //She cuts you off,// &lt;&lt;mgs&gt;&gt;That wasn&#39;t a question. You&#39;re coming.&lt;&lt;/mgs&gt;&gt;\
    //She looks back at you before flopping down into a chair, crossing her arms and legs.//\
    &lt;&lt;mgs&gt;&gt;It&#39;s a costume party. You&#39;ll have fun.&lt;&lt;/mgs&gt;&gt;

  //You sigh. Looks like you&#39;re not getting out of this one.//

  &lt;&lt;mgs&gt;&gt;Good,&lt;&lt;/mgs&gt;&gt; //she smiles,// &lt;&lt;mgs&gt;&gt;Let&#39;s go pick out a costume for you!\
    I want to see you all dressed up!&lt;&lt;/mgs&gt;&gt;\
    //She gives you a sly look out of the corner of her eye.//
&lt;&lt;/if&gt;&gt;\
\
* &lt;&lt;link _nextPassageText _nextPassage&gt;&gt;&lt;&lt;/link&gt;&gt;
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Spank]]
  [[Choose a Costume]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
&lt;&lt;/done&gt;&gt;\</tw-passagedata><tw-passagedata pid="59" name="Spank" tags="" position="3000,900" size="100,100">!Spank
&lt;&lt;mgs&gt;&gt;Well!?&lt;&lt;/mgs&gt;&gt; //she shouts,// &lt;&lt;mgs&gt;&gt;Don&#39;t you have anything to say for yourself!?&lt;&lt;/mgs&gt;&gt;\
  //You continue to stare at her with your mouth agape, nothing coming out.//

&lt;&lt;mgs&gt;&gt;Y&#39;know what? Never mind. I don&#39;t even want to hear it.&lt;&lt;/mgs&gt;&gt;\
  //She&#39;s totally lost her cool at this point.\
  She stands up from the bed and starts shouting down at you as you&#39;re on your knees in front of her.//
  &lt;&lt;mgs&gt;&gt;You&#39;re a fucking slut!  How the fuck could you cheat on me like that!?\
  What, is your ass so hungry for cock that you just couldn&#39;t go five minutes without shoving some\
  loser&#39;s meatstick up it!? Huh!?&lt;&lt;/mgs&gt;&gt;

//She pauses for a moment, then walks over to her dresser and grabs a leather belt off of it.//\
  &lt;&lt;mgs&gt;&gt;Get up. I&#39;ll give your ass what it really deserves, you filthy whore!&lt;&lt;/mgs&gt;&gt;

//She doesn&#39;t wait for you to actually get up before grabbing your arm and dragging you upward.\
  You stumble forward as she pulls you up onto your feet.\
  Your hands reach out and catch the bed, half bent over.//

&lt;&lt;mgs&gt;&gt;Stay like that! Hands on the bed, ass out!&lt;&lt;/mgs&gt;&gt;\
  //She grabs the waist of your &lt;&lt;mcPants&gt;&gt; and pulls them down, exposing your bare ass.\
  Before you even realize what&#39;s going on, there&#39;s a //whoosh// through the air\
  and a loud &#39;&#39;crack&#39;&#39;&#39; as the belt strikes your ass, pain blossoming across your cheeks.//

&lt;&lt;mcs&gt;&gt;&quot;Ah!&quot;&lt;&lt;/mcs&gt;&gt;\
  //you let out a surprised gasp and look back to see $mgName winding up for another hit.\
  &#39;&#39;Crack!&#39;&#39; The belt strikes your ass again, bringing with it another round of fresh pain.\
  You grip the bed, knees shaking as you&#39;re spanked with the belt.//

//Another round of strikes come in rapid succession, punctuated by $mgName yelling between each.//\
  &lt;&lt;mgs&gt;&gt;Don&#39;t!&lt;&lt;/mgs&gt;&gt; //Crack!// &lt;&lt;mgs&gt;&gt;Fucking!&lt;&lt;/mgs&gt;&gt; //Crack!// &lt;&lt;mgs&gt;&gt;Cheat!&lt;&lt;/mgs&gt;&gt; //Crack!//\
  &lt;&lt;mgs&gt;&gt;On!&lt;&lt;/mgs&gt;&gt; //Crack!// &lt;&lt;mgs&gt;&gt;Me!&lt;&lt;/mgs&gt;&gt; //Crack!// &lt;&lt;mgs&gt;&gt;Whore!&lt;&lt;/mgs&gt;&gt;

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/spank_01.jpg&quot;&gt;\

//Your ass is beat red and stinging all over by the time she&#39;s done.\
  $mgName huffs loudly, catching her breath.//\
&lt;&lt;mgs&gt;&gt;Come on. I&#39;m not done with you yet.&lt;&lt;/mgs&gt;&gt;\
  //She grabs you by the ear and starts dragging you out of the room.//
\
* &lt;span title=&quot;Alpha -2&quot;&gt;\
    &lt;&lt;link &quot;&lt;&lt;gc&gt;&gt;Ow ow ow ow ow!&lt;&lt;/gc&gt;&gt; ▶▶▶&quot; &quot;Clean Up&quot;&gt;&gt;\
      &lt;&lt;set $alphaScore to $alphaScore -2&gt;&gt;\
    &lt;&lt;/link&gt;&gt;\
  &lt;/span&gt;</tw-passagedata><tw-passagedata pid="60" name="Clean Up" tags="" position="3000,750" size="100,100">!Clean Up
//It feels like $mgNames going to rip your ear off as she drags you into the bathroom\
  and shoves you into the shower.\
  She wipes some sweat from her forehead before turning on the shower, cold.//\
  &lt;&lt;mgs&gt;&gt;Stay there,&lt;&lt;/mgs&gt;&gt; //she says before ducking back out of the room, leaving you standing there,\
  shivering as the cold water pours down over you.\
  At least it feels good on your ass, alleviating a bit of the pain from $mgNames lashes.//

//$mgName returns a moment later with several sets of cuffs and a gag.//\
  &lt;&lt;mgs&gt;&gt;Okay, now we&#39;ve gotta clean you up from that filth last night.\
  I am not sticking anything in that filthy hole of yours.&lt;&lt;/mgs&gt;&gt;

//She turns off the water for a moment, before setting about binding your arms and legs,\
  forcing you to kneel up onto a shower stool.\
  She attaches the cuffs holding your wrists together to a strap running underneath the stool,\
  which forces you into a leaned over position with your ass up in the air.\
  She shoves the gag into your mouth and buckles it in place, forcing you to breathe through your nose.//

//As you&#39;re now sufficiently restrained, $mgName grabs the shower hose and swaps out the sprayer\
  for a tapered nozzle of some type.\
  You try to ask what she&#39;s up to, but the gag prevents you from saying anything intelligible.\
  She walks behind you, moving out of sight as your restraints prevent you from turning.\
  She spits right onto your exposed asshole and it finally occurs to you what the hose is for!//

//You feel the cold metal of the nozzle press against your sphincter as $mgName pushes it into you.\
  Your hole has gotten used to having things jammed up it and gives little resistance as $mgName\
  forces the nozzle in.\
  Frantically, you squirm as she reaches for the handle and turns on the water.\
  A stream of lukewarm water rushes into your ass forced in by the hose buried in your ass.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/clean_up_01.jpg&quot;&gt;\

//The water fills you up to bursting, making you feel full and bloated.\
  Just when you think you can&#39;t take any more, $mgName shuts the water off and pulls the nozzle out,\
  replacing it with a plug and preventing you from pushing out the enema.\
  Stuck on your knees up on the stool, you shake and squirm, trying to push out the plug and\
  empty yourself, but $mgName pushes on the plug keeping you plugged and full.//

&lt;&lt;mgs&gt;&gt;Good, keep squirming. Slosh that enema round and get yourself all cleaned out you dirty bitch.\
  We&#39;re going to get you properly cleaned out. Then maybe you&#39;ll think twice about shoving random,\
  unwashed cocks in there without my permission!.&lt;&lt;/mgs&gt;&gt;

//$mgName keeps you there on your knees, plugged a full of water for what feels like an eternity,\
  but was really probably only a few minutes.\
  Finally, she pulls the plug out of your ass, stepping to the side to avoid the spray of water\
  and... other things... that come streaming out of you.//

&lt;&lt;mgs&gt;&gt;Ew,&lt;&lt;/mgs&gt;&gt; //she says, turning her nose up.\
  She turns the nozzle back on, using the fresh water to wash away your mess.\
  You let out a muffled sigh of relief into your gag, never realizing before just how good it could\
  feel to empty yourself after being filled up for so long.//

&lt;&lt;mgs&gt;&gt;Okay; one down, three to go!&lt;&lt;/mgs&gt;&gt; //$mgName says, clearly pleased.//\
  &lt;&lt;mgs&gt;&gt;You&#39;ll be squeaky clean by the time we&#39;re done.&lt;&lt;/mgs&gt;&gt;\

//She presses the nozzle back into your ass and repeats the process...//

//A little while later, you&#39;vee been thoroughly cleaned out.\
  You lie, half-kneeling on the stool, spent in ways you&#39;d never experienced before.\
  $mgName reaches down and un-binds your hands,// &lt;&lt;mgs&gt;&gt;We&#39;re done here.\
  Clean up after yourself and take a shower. I hope you&#39;ve learned your lesson.&lt;&lt;/mgs&gt;&gt;

//You nod, unable to really respond any other way and she leaves.\
  Agonizingly, you extricate yourself from your bonds and take a quick moment to catch your breath.//

You:
* [[Clean up and take a shower ▶▶▶|Owned]]</tw-passagedata><tw-passagedata pid="61" name="Owned" tags="" position="3000,600" size="100,100">!Owned
//You take a few minutes to clean up the mess you made of $mgNames shower,\
  washing away your filth before grabbing some cleaning supplies from beneath the sink and wiping everything down.\
  You hose down the shower to rinse away the cleaning products before hopping in yourself.\
  The steaming hot water feels like a blessing after having been tied up in here earlier and you take a bit more time\
  letting it wash over you than you might have otherwise before starting to actually wash up\
  and clean yourself properly.//

//You finish toweling yourself off and take a deep breath before stepping out of the bathroom, hoping the worst is over;\
  your ass still feels weird from that round of enemas.\
  $mgName hears the bathroom door open as you step out and calls out to you,//\
  &lt;&lt;mgs&gt;&gt;I&#39;m in here, in the bedroom.&lt;&lt;/mgs&gt;&gt;

//You follow her voice and head back into her bedroom where she&#39;s sitting on her bed, tapping out a message on her phone.\
  She doesn&#39;t look up as you enter and you&#39;re forced to stand there awkwardly, waiting for her to finish.\
  Laid out on the bed next to her are a small buttplug, a chastity cage, and a collar; you can imagine what they&#39;re for.//

//She tosses her phone onto the bed next to her, indicating that she&#39;s done.\
  She crosses her legs, then rests her hands on her knees, looking up at you.//\
  &lt;&lt;mgs&gt;&gt;All clean? Good. That settles your punishment for last night,\
    but we&#39;re going to make sure it doesn&#39;t happen again.&lt;&lt;/mgs&gt;&gt;

//&lt;&lt;uc &quot;Slut +2&quot;&gt;&gt;She stands up and grabs the collar off the bed, walks over to you and places it around your neck,\
  locking it in place.&lt;&lt;/uc&gt;&gt;//\
  &lt;&lt;mgs&gt;&gt;This will help you remember that you&#39;re MY bitch. Mine and mine alone!&lt;&lt;/mgs&gt;&gt;\
  //She reaches down between your legs and grabs your $mcDick.//\
  &lt;&lt;mgs&gt;&gt;This is also mine, when and IF I decide you get to use it.&lt;&lt;/mgs&gt;&gt;

&lt;&lt;if $inChastity&gt;&gt;\
  &lt;&lt;mgs&gt;&gt;Give me your key.&lt;&lt;/mgs&gt;&gt;\
  \
  &lt;&lt;if $cageKeyOwned&gt;&gt;\
    //Sheepishly, you rummage through your discarded clothes, then hand over your chastity cage key.\
      $mgName grabs your cage and unlocks you, setting you free.//
  &lt;&lt;else&gt;&gt;\
    &lt;br&gt;&lt;br&gt;&lt;&lt;mcs&gt;&gt;&quot;Um... I don&#39;t have it. I, uh, lost it.&quot;&lt;&lt;/mcs&gt;&gt;

    //$mgName looks at you quizzically,// &lt;&lt;mgs&gt;&gt;Well then. Wait here.&lt;&lt;/mgs&gt;&gt;\
      //She leaves the room and comes back with a pair of bolt cutters.\
      Your eyes go wide for a second and you make to back away.//

    &lt;&lt;mgs&gt;&gt;Relax, it&#39;s just for the lock. This time.&lt;&lt;/mgs&gt;&gt;\
      //She sounds serious and you&#39;re pretty sure she wouldn&#39;t actually... you know...\
      Still, probably better not to test the theory.//

    &lt;&lt;mgs&gt;&gt;Hold your cage still.&lt;&lt;/mgs&gt;&gt;\
      //It takes a minute, but after some finagling she&#39;s able to cut the lock off.\
      You&#39;re finally free after all this time!\
      God what a stupid decision it was to try on that chastity cage;\
      what the hell were you thinking?//
  &lt;&lt;/if&gt;&gt;\

  //$mgName smirks at your expression of relief,//\
    &lt;&lt;mgs&gt;&gt;What, you think I&#39;m just letting you out?\
    After what you did? Oh hell no!\
    That thing just had to go so I could replace it with this!&lt;&lt;/mgs&gt;&gt;

  //Like a magician during their big reveal,\
    $mgName pulls her hand around from behind her back and reveals another, smaller,\
    &#39;&#39;metal&#39;&#39; chastity cage.\
    Your eyes go wide and you think, &lt;&lt;mcs&gt;&gt;there&#39;s now way I&#39;ll fit into that!&lt;&lt;/mcs&gt;&gt;\
    Before you know it, &lt;&lt;sc &quot;Sissy +5; Alpha gains reduced!&quot;&gt;&gt;$mgName has already grabbed your\
    balls and begun forcefully shoving your dick into it&#39;s new prison.&lt;&lt;/sc&gt;&gt;//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep03/lock_it_up_chastity_small_01.jpg&quot;&gt;\

  //It&#39;s tight, and you can feel the cage compressing you, even limp as you are.\
    You can&#39;t imagine how tight it&#39;s going to be if you try to get hard in this thing!//
&lt;&lt;else&gt;&gt;\
  //&lt;&lt;sc &quot;Sissy +5; Alpha gains reduced!&quot;&gt;&gt;$mgName grabs the chastity cage from the bed and swiftly\
    locks your cock away in its new prison.&lt;&lt;/sc&gt;&gt;//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep03/owned_01.jpg&quot;&gt;\

  //Immediately, your dick tries to get hard, but can&#39;t,\
    causing some not insignificant discomfort.\
    You stare down at your locked up junk, realizing just how badly you fucked up.//
&lt;&lt;/if&gt;&gt;\

&lt;&lt;mgs&gt;&gt;Now bend over the bed.\
  I need to make sure random cocks don&#39;t &#39;accidentally&#39; find their way up your ass while I&#39;m not looking.&lt;&lt;/mgs&gt;&gt;

//You bend over and place your hands on her bed, exposing your ass.\
  You hear a squirt from a bottle as cold lube lands on your sphincter followed immediately by the tip of a hard plug\
  pressing into you forcefully.//

//Reflexively, you clench, but $mgName doesn&#39;t let up, applying steady, firm pressure against your rosebud until\
  eventually it gives way and the plug slides home.\
  &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;You feel it press against your prostate as it slides past,\
  causing your locked up joy-rod to twitch a bit, leaking a drop of precum out.&lt;&lt;/sc&gt;&gt;//

//It&#39;s much smaller than most of the things you&#39;ve had up there the past couple of days, almost disappointingly so.\
  The plug is just big enough to to tease you a bit; enough for you to know it&#39;s there,\
  but not enough to really give you any real pleasure, even when bearing down.//

//$mgName gives you a quick swat on your ass, letting you know she&#39;s done.//\
  &lt;&lt;mgs&gt;&gt;There. Now maybe you won&#39;t forget who owns you.&lt;&lt;/mgs&gt;&gt;\
  //She gives you a stern look and dangles the chastity cage key in front of your face as you turn around,\
  before tucking it down her shirt on a small chain around her neck.//

&lt;&lt;mgs&gt;&gt;Now, we need to get ready. You&#39;re coming with me to a costume party.\
  I shouldn&#39;t be rewarding you after the stunt you pulled,\
  but I already promised I&#39;d go and my friends are expecting to meet you.\
  So, we&#39;re going.&lt;&lt;/mgs&gt;&gt;

//Quickly, you get dressed and meet $mgName back in her living room.//\

* &lt;&lt;link &quot;Time to pick out a costume ▶▶▶&quot; &quot;Choose a Costume&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $mcCollared to true&gt;&gt;
  &lt;&lt;set $mcCollarLocked to true&gt;&gt;
  &lt;&lt;set $collarRingedOwned to true&gt;&gt;
  &lt;&lt;wearItem &quot;accessoryNeck&quot; &quot;CollarRing&quot; &quot;collar&quot;&gt;&gt;
  &lt;&lt;set $plugSmallOwned to true&gt;&gt;
  &lt;&lt;wearItem &quot;insertable&quot; &quot;PlugSmall&quot; &quot;buttplug&quot;&gt;&gt;
  &lt;&lt;set $sissyScore++&gt;&gt;
  &lt;&lt;set $slutScore+=2&gt;&gt;
  &lt;&lt;forcedChastity&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="62" name="Choose a Costume" tags="" position="3000,450" size="100,100">!Choose a Costume
\
//$mgName starts heading for the door.//\
  &lt;&lt;mgs&gt;&gt;Come on. There&#39;s a costume shop right around the corner.\
  We&#39;ll get you something there.&lt;&lt;/mgs&gt;&gt;\
  //She glances over at you and sees the expression on your face.//

&lt;&lt;mcs&gt;&gt;&quot;Um, I&#39;m still kinda broke.\
  I haven&#39;t gotten my replacement cards for the ones that were stolen yet.&quot;&lt;&lt;/mcs&gt;&gt;\
  //You pause for a moment.//\
  &lt;&lt;mcs&gt;&gt;&quot;I mean, not that I had a lot of money before but...&quot;&lt;&lt;/mcs&gt;&gt; //you trail off.//
\
&lt;div id=&quot;chooseACostumeWallet&quot; class=&quot;hide&quot;&gt;\

  &lt;&lt;mgs&gt;&gt;That reminds me; I found your wallet!&lt;&lt;/mgs&gt;&gt;\
    //$mgName digs into her purse and produces your wallet, handing it back to you.//

  //You quickly open it up and peek inside. Empty, except for your ID.\
    &lt;&lt;mcs&gt;&gt;Oh well,&lt;&lt;/mcs&gt;&gt; you think, &lt;&lt;mcs&gt;&gt;at least $malesHe left me my ID.&lt;&lt;/mcs&gt;&gt;\
    You turn to $mgName,// &lt;&lt;mcs&gt;&gt;&quot;Thanks, but, it&#39;s empty.&quot;&lt;&lt;/mcs&gt;&gt;
&lt;/div&gt;\

&lt;&lt;mgs&gt;&gt;Don&#39;t worry about it. I got it.&lt;&lt;/mgs&gt;&gt;\
  //You open your mouth to protest.//\
  &lt;&lt;mgs&gt;&gt;It&#39;s fine. Since I&#39;m the one making you come.&lt;&lt;/mgs&gt;&gt;\
  //You nod as the two of you step outside and start to make your way to the costume shop.\
  $mgName gets out in front of you by a half step and starts talking, not making eye contact.//

&lt;&lt;mgs&gt;&gt;So... Look, this party. It&#39;s going to have a lot of sex games.&lt;&lt;/mgs&gt;&gt;\
  //She glances back at you for a moment, gauging your reaction.//\
  &lt;&lt;mgs&gt;&gt;Yeah, I know.&lt;&lt;/mgs&gt;&gt;\
  //She looks back away from you.//\
  &lt;&lt;mgs&gt;&gt;Anyway, feel free to play.\
  Just don&#39;t fuck anyone outside of those games; the rest is fine by me.&lt;&lt;/mgs&gt;&gt;

&lt;div id=&quot;chooseACostumeCheater&quot; class=&quot;hide&quot;&gt;\
  //She looks back at you out of the corner of her eye.//\
    &lt;&lt;mgs&gt;&gt;This does NOT mean that I&#39;ve forgiven you.\
    It just wouldn&#39;t be fair to drag you to this kind of party and then not let you play.&lt;&lt;/mgs&gt;&gt;

&lt;/div&gt;\
\
//You continue following along behind her, somewhat perplexed.\
  This is the first time you&#39;ve been in a relationship like this; you&#39;re still not sure what the rules are.\
  Still pondering how to broach the topic with $mgName, you arrive at the costume shop.//

//You can tell just by what&#39;s on display in the window that it caters more towards &quot;adult&quot; costumes.\
  $mgName leads the way in and pretty quickly picks out a sexy nurse outfit for herself.//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/choose_a_costume_01.jpg&quot;&gt;\

You:
* &lt;span title=&quot;Cash +$50&quot;&gt;\
    &lt;&lt;link &quot;@@color:limegreen;Browse for a costume@@ ▶▶▶&quot; &quot;Costume Shop&quot;&gt;&gt;\
      &lt;&lt;set $ep3CostumePurchased to false&gt;&gt;\
      &lt;&lt;set $cash+=50&gt;&gt;
    &lt;&lt;/link&gt;&gt;\
  &lt;/span&gt;
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Costume Shop]]
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $hasPerkCheatingWhore&gt;&gt;
    &lt;&lt;toggleclass &quot;#chooseACostumeCheater&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;toggleclass &quot;#chooseACostumeWallet&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="63" name="Party Time" tags="" position="3150,450" size="100,100">!Party Time
\
&lt;img src=&quot;images/ep03/party_time_01.jpg&quot;&gt;\

//After getting changed, the two of you walk a few short blocks to a big house where a\
  large party is obviously in full swing.\
  The entryway is filled with people and you have to push past several people in skimpy\
  costumes just to get through the door.//

//As soon as you enter, $mgName spots one of her friends and waves at her.\
  Her friend waves back vigorously and shouts something that you can&#39;t make out.\
  $mgName turns to you and says something, but it&#39;s drowned out by the music and\
  everyone shouting over one another.//

//$mgName pushes her way further into the crowd and you try to follow,\
  but get stuck trying to get around some big dude covered in baby oil.\
  Before you know it, you&#39;ve lost $mgName in the crowd.\
  Looks like you&#39;re on your own for now.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;partyTimeEnd&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;&lt;set _validOpts to [&quot;1&quot;, &quot;3&quot;]&gt;&gt;
    &lt;li id=&quot;endOpt1&quot;&gt;[[Duck out of the crowd ▶▶▶|Dirty Laundry]]&lt;/li&gt;
    &lt;&lt;if $allowContentPissplay&gt;&gt;
      &lt;li id=&quot;endOpt2&quot;&gt;[[Go to the bathroom ▶▶▶|A Slut and a Drunk]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;2&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;li id=&quot;endOpt3&quot;&gt;[[Head deeper into the party ▶▶▶|Groping in the Hall]]&lt;/li&gt;
    &lt;li id=&quot;endRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;for _num range _validOpts&gt;&gt;
          &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _num&gt;&gt;
          &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
        &lt;&lt;/for&gt;&gt;
        &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _validOpts.random()&gt;&gt;
        &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="64" name="A Slut and a Drunk" tags="" position="3150,600" size="100,100">!A Slut and a Drunk
\
//Before anything, you&#39;ve really got to piss,\
  so you push your way into the small bathroom in the entrance hallway.\
  It&#39;s tiny and cramped, and with your costume the way it is,\
  you instinctively sit down to pee like a girl.//

//No sooner than your cheeks hit the porcelain than a huge $malesDude,\
  obviously shitfaced, bursts in the room and whips out $malesHis cock.\
  It&#39;s not clear if $malesHe just can&#39;t see straight, or just doesn&#39;t care,\
  but either way $malesHe starts letting out a stream of piss,\
  aiming vaguely for the toilet bowl beneath you.//

//The tiny alcove where the toilet sits is too small for you to move out of the way\
  and the $malesDude in front of you is twice your size;\
  no way you&#39;re getting around $malesHim.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;aSlutAndADrunkChoose&quot;&gt;
  &lt;&lt;set _opt1Title=&quot;Slut +1, Alpha -1&quot;&gt;&gt;
  &lt;&lt;set _opt2Title=&quot;Slut +2&quot;&gt;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;aSlutAndADrunkOpt1&quot; @title=&quot;_opt1Title&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Let him piss@@ @@color:gold;all over you@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#aSlutAndADrunkChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#aSlutAndADrunkEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#aSlutAndADrunkChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore++&gt;&gt;
        &lt;&lt;set $alphaScore--&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;aSlutAndADrunkOpt2&quot; @title=&quot;_opt2Title&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Gobble up his dick and drink@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#aSlutAndADrunkChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#aSlutAndADrunkEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#aSlutAndADrunkChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $slutScore += 2&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;aSlutAndADrunkOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#aSlutAndADrunkOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#aSlutAndADrunkOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#aSlutAndADrunkOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;aSlutAndADrunkChoice1&quot; class=&quot;hide&quot; @title=&quot;_opt1Title&quot;&gt;\
  //&lt;&lt;uc &quot;Slut +1&quot;&gt;&gt;$malesHeCap pisses all over you,&lt;&lt;/uc&gt;&gt;\
    &lt;&lt;gc &quot;Alpha -1&quot;&gt;&gt;covering your face, body, and into your open mouth.&lt;&lt;/gc&gt;&gt;\
    The hot stream seems to have no end as you&#39;re covered head to toe in warm,\
    smelly urine.//

  &lt;img src=&quot;images/ep03/a_slut_and_a_drunk_01.jpg&quot; class=&quot;tall_img&quot;&gt;\

  //The drunk doesn&#39;t even acknowledge your presence before $malesHe finishes up,\
    evidently having drained $malesHimself dry all over you.\
    As unaware and stumbling as $malesHe entered, $malesHe leaves,\
    leaving you there, soaking in $malesHis piss.//
&lt;/div&gt;\
&lt;div id=&quot;aSlutAndADrunkChoice2&quot; class=&quot;hide&quot; @title=&quot;_opt2Title&quot;&gt;\
  //&lt;&lt;uc _opt2Title&gt;&gt;Seeing no other option, you lean forward,\
    take $malesHis dick in your mouth and start drinking.&lt;&lt;/uc&gt;&gt;\
    $malesHisCap hot piss pours down your throat as you gag,\
    trying not to spit it all up all over yourself.//

  &lt;img src=&quot;images/ep03/a_slut_and_a_drunk_02.jpg&quot; class=&quot;square_img&quot;&gt;\

  //As $malesHe empties $malesHimself, $malesHe puts $malesHis hand on your head,\
    holding you there; evidently cognizant enough to realize you&#39;re sucking on\
    $malesHis cock.\
    Your stuck sitting there, drinking from $malesHis cock until $malesHis bladder\
    is finally drained.\
    $malesHeCap stumbles back, pulling $malesHimself out of your mouth,\
    the last few drops of piss splattering down your chin,\
    and stumbles back out the door, tucking $malesHimself away.//

  //Your mouth now free and your stomach full of someone elses urine,\
    you turn, dropping off the bowl, and retch into the toilet.\
    More piss than anything else comes out your mouth and you&#39;re surprised at just\
    how much you were forced to drink.//
&lt;/div&gt;\
\
&lt;div id=&quot;aSlutAndADrunkEnd&quot; class=&quot;hide&quot;&gt;
  //You stand up and stumble over to the sink and hold your head under the faucet\
    to rinse your mouth of the remnants of the foul liquids that filled it.//

  //You spend several minutes cleaning up,\
    jumping in the small shower to wash up and rinsing out your outfit as best you can.\
    You&#39;re still damp, but at least you don&#39;t smell like piss.\
    Shaking your head in disbelief and wondering just what you&#39;ve turned into in the\
    past few days, you open the door and head back out into the crowded hallway.//

  &lt;&lt;nobr&gt;&gt;
    You:
    &lt;ul&gt;
      &lt;&lt;set _validOpts to []&gt;&gt;
      &lt;&lt;if not hasVisited(&quot;Dirty Laundry&quot;)&gt;&gt;
        &lt;li id=&quot;endOpt1&quot;&gt;
          [[Duck out of the crowd ▶▶▶|Dirty Laundry]]
        &lt;/li&gt;
        &lt;&lt;set _validOpts.push(&quot;1&quot;)&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      &lt;&lt;if not hasVisited(&quot;Groping in the Hall&quot;)&gt;&gt;
        &lt;li id=&quot;endOpt2&quot;&gt;
          [[Head deeper into the party ▶▶▶|Groping in the Hall]]
        &lt;/li&gt;
        &lt;&lt;set _validOpts.push(&quot;2&quot;)&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;li id=&quot;endOpt3&quot;&gt;
          [[Push your way into the living room ▶▶▶|Wanna Drink]]
        &lt;/li&gt;
        &lt;&lt;set _validOpts.push(&quot;3&quot;)&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      &lt;&lt;if _validOpts.length gt 1&gt;&gt;
        &lt;li id=&quot;endRand&quot;&gt;
          &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
            &lt;&lt;for _num range _validOpts&gt;&gt;
              &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _num&gt;&gt;
              &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
            &lt;&lt;/for&gt;&gt;
            &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _validOpts.random()&gt;&gt;
            &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;/ul&gt;
  &lt;&lt;/nobr&gt;&gt;\
&lt;/div&gt;\</tw-passagedata><tw-passagedata pid="65" name="Dirty Laundry" tags="" position="3300,600" size="100,100">!Dirty Laundry
\
//You try to push your way through the mass of people and\
  wind up ducking into an open doorway that turns out to be the laundry room.\
  You see a pair of legs sticking out from a hug pile of clothes in the corner.\
  You step further into the room to get a better look and a dark-haired girl pops out\
  and drags you into the pile, covering you both with clothes.//

&lt;&lt;osay&gt;&gt;Ooo! What a cutie!&lt;&lt;/osay&gt;&gt; //she says and stuffs a pair of dirty panties\
  into your mouth.\
  You&#39;re struggling to disentangle yourself, but she seems to some sort of grappling\
  expert as she keeps you from getting up and away from her.//

//She sits herself down on your chest, shoving her ass right in your face and\
  pinning you to the ground.\
  She reaches down and starts groping you, grabbing hold of your $mcDick.//

&lt;&lt;osay&gt;&gt;Oh!? A boy! I never would have guessed! Me likey!&lt;&lt;/osay&gt;&gt;\
  &lt;span id=&quot;plugged&quot; class=&quot;hide&quot;&gt;\
    //Her hand slides back to your ass, searching for your asshole, but is stymied by\
      your &lt;&lt;mcPlug&gt;&gt;.//\
      &lt;&lt;osay&gt;&gt;And properly stuffed too! You are fun!&lt;&lt;/osay&gt;&gt;

    //She grips your &lt;&lt;mcPlug&gt;&gt; and pulls it out.//\
  &lt;/span&gt;\
  //She shifts position so that she&#39;s facing you, keeping her hand in your\
    &lt;&lt;mcUnderwear&gt;&gt;, preventing you from getting away.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/dirty_laundry_01.jpg&quot;&gt;\

  &lt;span id=&quot;1Finger&quot; class=&quot;hide&quot; title=&quot;Sissy +1&quot;&gt;\
    //&lt;&lt;sc&gt;&gt;She slips a finger into your ass and starts thrusting it in and\
      out rapidly, curling her finger so it scrapes past your prostate.&lt;&lt;/sc&gt;&gt;//\
      \
  &lt;/span&gt;\
  &lt;span id=&quot;2Fingers&quot; class=&quot;hide&quot; title=&quot;Sissy +1, Slut +1&quot;&gt;\
    //&lt;&lt;sc&gt;&gt;She slips two fingers into your ass&lt;&lt;/sc&gt;&gt; and\
      &lt;&lt;uc&gt;&gt;starts pumping them deeply into you&lt;&lt;/uc&gt;&gt;,\
      slamming her fingers into you as far as she can.//\
  &lt;/span&gt;\
  //Waves of pleasure wash over you as you&#39;re molested,\
    causing you to kick and squirm.//\
    &lt;&lt;osay&gt;&gt;Oh, you&#39;re not getting away that easily!&lt;&lt;/osay&gt;&gt;

  //The dark-haired girl redoubles her efforts as you squirm,\
    causing you to pant and moan into the panties filling your mouth.\
    You can fill your orgasm building as she violates your ass,\
    shifting the angle constantly to keep hitting your fun button as you try to get away.//

  //Finally, after several minutes, she seems to be done with you and relents,\
    letting you squirm away.\
    You stand up out of the mass of clothes and pull the panties out of your mouth;\
    you&#39;ll not soon forget their taste.//

  &lt;span id=&quot;plugged2&quot; class=&quot;hide&quot;&gt;\
    &lt;&lt;osay&gt;&gt;Don&#39;t forget this cutie!&lt;&lt;/osay&gt;&gt; //she says and pops up behind you,\
      &lt;&lt;mcPlug&gt;&gt; in hand.\
      She pulls your &lt;&lt;mcUnderwear&gt;&gt; down and roughly shoves the toy back in place\
      before diving backward into the clothes pile.\
      Still reeling, you pull your &lt;&lt;mcUnderwear&gt;&gt; back in place.//

  &lt;/span&gt;\
  \
  //You glance back at the crazy clothes-goblin that just assaulted you,\
    but she&#39;s already re-buried herself in the clothes,\
    apparently to await a new victim.//\
    &lt;&lt;osay&gt;&gt;Come back cutie, if you wanna have more fun!&lt;&lt;/osay&gt;&gt;\
    //she calls out after you as you walk out the door.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;dirtyLaundryEnd&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;&lt;set _validOpts to []&gt;&gt;
    &lt;&lt;if $allowContentPissplay and not hasVisited(&quot;A Slut and a Drunk&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt1&quot;&gt;
        [[Go to the bathroom ▶▶▶|A Slut and a Drunk]]
      &lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;1&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if not hasVisited(&quot;Groping in the Hall&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt2&quot;&gt;
        [[Head deeper into the party ▶▶▶|Groping in the Hall]]
      &lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;2&quot;)&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;endOpt3&quot;&gt;
        [[Push your way into the living room ▶▶▶|Wanna Drink]]
      &lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;3&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if _validOpts.length gt 1&gt;&gt;
      &lt;li id=&quot;endRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;for _num range _validOpts&gt;&gt;
            &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _num&gt;&gt;
            &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;/for&gt;&gt;
          &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _validOpts.random()&gt;&gt;
          &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set _rand to random(1,2)&gt;&gt;
  &lt;&lt;set $sissyScore++&gt;&gt;
  &lt;&lt;if _rand is 2&gt;&gt;
    &lt;&lt;set $slutScore++&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;done&gt;&gt;
  &lt;&lt;if _rand is 1&gt;&gt;
    &lt;&lt;toggleclass &quot;#1Finger&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;toggleclass &quot;#2Fingers&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;]&gt;&gt;
    &lt;&lt;toggleclass &quot;#plugged&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#plugged2&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;\</tw-passagedata><tw-passagedata pid="66" name="Groping in the Hall" tags="" position="3300,450" size="100,100">!Groping in the Hall
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set _rand to random(1,2)&gt;&gt;
  &lt;&lt;if _rand is 2&gt;&gt;
    &lt;&lt;set $alphaScore--&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
\
//You push your way through the crowd, trying to make your way down the hallway.\
  Someone start fondling your ass.\
  In the press of people, you can&#39;t even really turn around to figure out who it is,\
  so you just slap their hand away.//

//Unfortunately, that doesn&#39;t seem to deter your assailant,\
  and the hand returns only a moment later.\
  You try to turn and see who&#39;s feeling you up, but you can&#39;t tell and opt to just swat their\
  hand away again.//

//Undeterred, the hand returns again, this time groping you even more aggressively,\
  even pressing up between your asscheeks, searching for your rosebud through your clothes.\
  You slap the hand away again, but that only makes them more aggressive!//

//A second hand starts groping you now, and you can feel yourself pulled up against someone,\
  their growing erection pressing between your asscheeks as their hands grope at your chest,\
  playing with your nipples.\
  Still pressing themselves against you, they remove one hand from your breast and start moving\
  it down your abdomen, obviously intent on going for your crotch.\
  You grab at the hand and try to pull it away, but the person pulls you closer,\
  pinches your nipple, sensually bites your ear.//

//Despite yourself, you&#39;re starting to get a bit turned on and your $mcDick starts to get hard\
  in your &lt;&lt;if $inChastity&gt;&gt;cage&lt;&lt;else&gt;&gt;$mcUnderwear&lt;&lt;/if&gt;&gt;.\
  Your knees start to tremble as your assailant continues to grope and play with you.\
  Eventually, you let go of their hand as your knees start to tremble from the stimulation\
  and it makes its way to your crotch.//

&lt;img src=&quot;images/ep03/groping_in_the_hall_01.jpg&quot; class=&quot;tall_img&quot;&gt;\

//If your assailant is surprised to discover your &lt;&lt;if $inChastity&gt;&gt;locked up&lt;&lt;/if&gt;&gt; $mcDick,\
  they make no indication, only continuing to fondle your most private place while still\
  playing with your tits and nibbling at your ears and neck.\
  They keep playing with you like this for several minutes with you now putty in their hands.//

//&lt;&lt;if _rand is 2&gt;&gt;&lt;&lt;gc &quot;Alpha -1&quot;&gt;&gt;Suddenly, they stop fondling your $mcDick,\
  and instead go for your balls, squeezing them hard!&lt;&lt;/gc&gt;&gt;\
  You gasp in pain at the crushing sensation before, just like that, it&#39;s over.&lt;&lt;/if&gt;&gt;\
  Your assailant lets you go and even gives you a little push forward into the crowd,\
  enough to separate you two and get you moving back on your way.\
  You turn back, trying one last time to see who it was that accosted you, but to no avail.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;gropingInTheHallEnd&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;&lt;set _validOpts to []&gt;&gt;
    &lt;&lt;if not hasVisited(&quot;Dirty Laundry&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt1&quot;&gt;[[Duck out of the crowd ▶▶▶|Dirty Laundry]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;1&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if $allowContentPissplay and not hasVisited(&quot;A Slut and a Drunk&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt2&quot;&gt;[[Go to the bathroom ▶▶▶|A Slut and a Drunk]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;2&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;li id=&quot;endOpt3&quot;&gt;[[Push your way into the living room ▶▶▶|Wanna Drink]]&lt;/li&gt;
    &lt;&lt;set _validOpts.push(&quot;3&quot;)&gt;&gt;
    &lt;&lt;if _validOpts.length gt 1&gt;&gt;
      &lt;li id=&quot;endRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;for _num range _validOpts&gt;&gt;
            &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _num&gt;&gt;
            &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;/for&gt;&gt;
          &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _validOpts.random()&gt;&gt;
          &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="67" name="Wanna Drink" tags="Bottom" position="3450,450" size="100,100">!Wanna Drink?
&lt;img src=&quot;images/ep03/wanna_drink_mini-bar.jpg&quot;&gt;\

//As you push into the living room, the crowd clears a bit.\
  Aside from the people dancing, the main focal point of the room seems to be a mini-bar with several people milling around it.\
  A tall $malesMan appears to be handing out drinks.\
  As you step into the room, $malesHe eyes you and gives you a wink, quickly shooing off the rest of those milling about,\
  and waves you over.//

//Does $malesHe realize you&#39;re a guy?\
  If so, $malesHe doesn&#39;t seem to care.\
  You saunter over casually; you could use a drink.//

&lt;&lt;osay&gt;&gt;Hey there Sugarbum, wanna drink?&lt;&lt;/osay&gt;&gt; //$malesHe says, picking up a bottle of absinthe.//\
  &lt;&lt;osay&gt;&gt;I got a special drink here just for girls like you, but I&#39;m not giving it away for free,&lt;&lt;/osay&gt;&gt;\
  //$malesHe says, winking again.//\
  &lt;&lt;osay&gt;&gt;What do you say you wet your lips on my cock, then you get to taste this?&lt;&lt;/osay&gt;&gt; \
  //$malesHe asks, shaking the bottle at you.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;wannaDrinkChoose&quot;&gt;
  &lt;&lt;set _opt1Title=&quot;Alpha +1&quot;&gt;&gt;
  &lt;&lt;set _opt2Title=&quot;Slut +1&quot;&gt;&gt;
  &lt;&lt;set _opt3Title=&quot;Sissy +1&quot;&gt;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;wannaDrinkOpt1&quot; @title=&quot;_opt1Title&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Just swipe a beer@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#wannaDrinkChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#wannaDrinkEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#wannaDrinkChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;wannaDrinkOpt2&quot; @title=&quot;_opt2Title&quot;&gt;
      &lt;&lt;link &quot;@@color:red;Drop to your knees behind the bar@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#wannaDrinkChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#wannaDrinkEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#wannaDrinkChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;uUp 1&gt;&gt;
        &lt;&lt;set $timesSuckedDick++&gt;&gt;
        &lt;&lt;if $hasPerkCumdrinker&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;item&quot;] is &quot;Catgirl&quot;&gt;&gt;
      &lt;li id=&quot;wannaDrinkOpt3&quot; @title=&quot;_opt3Title&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Is that warm milk?@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#wannaDrinkChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#wannaDrinkEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#wannaDrinkChoice3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;sUp 1&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;li id=&quot;wannaDrinkOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#wannaDrinkOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;item&quot;] is &quot;Catgirl&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#wannaDrinkOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;wannaDrinkChoice1&quot; @title=&quot;_opt1Title&quot; class=&quot;hide&quot;&gt;\
  //You&#39;re not gonna blow some $malesDude just for a glass of absinthe.//\
    &lt;&lt;mcs&gt;&gt;&quot;Yeah, how &#39;bout no.&quot;&lt;&lt;/mcs&gt;&gt;\
    //You swipe a beer from the bar behind the $malesGuy and twist the cap off,\
    tossing it over your shoulder as you walk away.//
&lt;/div&gt;\
&lt;div id=&quot;wannaDrinkChoice2&quot; @title=&quot;_opt2Title&quot; class=&quot;hide&quot;&gt;\
  //You step forward, pressing your chest up against $malesHis sensually, and get right up in his ear.//\
    &lt;&lt;mcs&gt;&gt;&quot;I think I&#39;d like that drink,&quot;&lt;&lt;/mcs&gt;&gt;\
    //you whisper and push $malesHim backwards softly, guiding $malesHim behind the bar.\
    You take a quick glance around the room to make sure no one&#39;s looking your way before dropping to your knees, out of sight.//

  //$malesHeCap fumbles with his belt, trying desperately to free $malesHis cock as fast as possible.\
    You pull down $malesHis zipper just as $malesHe gets his belt and button undone,\
    then reach into $malesHis boxers and pull out $malesHis dick.\
    You lick your lips, then $malesHis cockhead before popping the whole thing in your mouth, taking it to the hilt.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/wanna_drink_bj_01.jpg&quot;&gt;\

  &lt;&lt;osay&gt;&gt;Oh fuck! I didn&#39;t think that would actually work.\
    Damn, you must be some slut!&lt;&lt;/osay&gt;&gt;\
    //You eye him angrily as you continue to suck $malesHis dick, pumping the shaft with one hand while bobbing your head up and down.\
    You can&#39;t tell if $malesHe&#39;s just backed up, or if your technique is really good,\
    but it can&#39;t have been more than a minute before $malesHe&#39;s ready to blow his load.\
    You feel $malesHis dick twitching in your mouth, getting ready to spurt.//

  &lt;&lt;if $hasPerkCumdrinker&gt;&gt;\
    //You&#39;re not about to let a salty treat go to waste and you redouble your efforts, sucking with all your might.//\
    &lt;&lt;osay&gt;&gt;Oh fuck baby,&lt;&lt;/osay&gt;&gt;//, $malesHe moans, right before unleashing the load right into your mouth.\
    &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;You keep sucking as $malesHe spurts, swallowing down each droplet of tasty goodness,\
    not letting up until you&#39;re sure you&#39;ve drained $malesHis disk dry.&lt;&lt;/sc&gt;&gt;//
  &lt;&lt;else&gt;&gt;\
    //Right before $malesHe bursts, you pull $malesHim out of your mouth and point $malesHis dick at the back of the bar,\
      continuing to stroke the whole time.\
      You might be slutty enough to blow a $malesGuy for a drink, but that doesn&#39;t mean you want $malesHim making a mess of your outfit.//

    //$malesHeCap spurts $malesHis load all over the back of the bar as you milk $malesHis dick dry.\
      $malesHeCap sputters and stammers out his appreciation, gripping the bar to avoid collapsing.\
      When you&#39;re done, you wipe your cum-covered hand on $malesHis pants and you mouth with the back of your arm.//
  &lt;&lt;/if&gt;&gt;\

  //$malesHeCap slumps down behind the bar,// &lt;&lt;osay&gt;&gt;Fuck... That was... wow.&lt;&lt;/osay&gt;&gt;\
    //You pop back up to your feet and grab the whole bottle of absinthe, unscrew it, and take a swig.\
    You give $malesHim one last look and a wink before you wade back into the party, the absinthe washing down the taste of cock.//
&lt;/div&gt;\
&lt;div id=&quot;wannaDrinkChoice3&quot; @title=&quot;_opt3Title&quot; class=&quot;hide&quot;&gt;\
  //You&#39;d swear you can feel the cat ears you&#39;re wearing twitch as you spot the glass of warm milk sitting on the bar
    with just the tiniest wisp of steam coming off it.\
    Without thinking twice, you grab the warm milk, holding it close to you with two hands, letting it warm you.//

  //The $malesMan stares at you, dumbfounded, as &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;you walk away, taking deep gulps of your drink and smiling.&lt;&lt;/sc&gt;&gt;//
&lt;/div&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;wannaDrinkEnd&quot; class=&quot;hide&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;endOpt1&quot;&gt;[[Head for the kitchen ▶▶▶|Fridge Raid]]&lt;/li&gt;
    &lt;li id=&quot;endOpt2&quot;&gt;[[Check out the dining room ▶▶▶|Dining Room]]&lt;/li&gt;
    &lt;li id=&quot;endRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;if random(1,2) is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#endOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#endOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;
&lt;&lt;done&gt;&gt;
&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="68" name="Fridge Raid" tags="" position="3450,600" size="100,100">!Fridge Raid
&lt;img src=&quot;images/ep03/fridge_raid_kitchen_01.jpg&quot;&gt;\

//There seems to be a large crowd in the kitchen; some sort of competition going on.\
  It looks like... Yeah, they&#39;re taking various food items and shoving them into their asses...//

//As you look on, wondering what you&#39;ve just walked into, the person that seems to be running the show waves you over.//\
  &lt;&lt;osay&gt;&gt;Don&#39;t be shy! Come on over&lt;&lt;/osay&gt;&gt;

//Hesitantly, you walk over.//\
  &lt;&lt;osay&gt;&gt;We just finished up a round, so you&#39;re just in time!\
    Here, I&#39;ll explain the rules and prizes.\
    OK, so the goal is to insert food items into your ass and see how wide you can stretch.\
    You can use as much lube as you need, and everybody that competes wins &lt;&lt;lgc &quot;$1&quot;&gt;&gt;a dollar&lt;&lt;/lgc&gt;&gt; for each centimeter of diameter they can stretch.\
    If you beat the current record, you win another &lt;&lt;lgc &quot;$10&quot;&gt;&gt;ten bucks,&lt;&lt;/lgc&gt;&gt; and set the new high score for someone else to beat.\
    &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;item&quot;] is &quot;Elf&quot;&gt;&gt;\
      Just for you, since you&#39;re dressed as a sexy elf, you&#39;ll earn &lt;&lt;lgc &quot;$2&quot;&gt;&gt;double&lt;&lt;/lgc&gt;&gt; for every cm you can stretch!\
    &lt;&lt;/if&gt;&gt;\
  &lt;&lt;/osay&gt;&gt;

&lt;&lt;osay&gt;&gt;So, what do you say? Wanna give it a shot?&lt;&lt;/osay&gt;&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;fridgeRaidChoose&quot;&gt;
  &lt;ul&gt;
    &lt;li id=&quot;fridgeRaidOpt1&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;lgc &#39;+$$$&#39;&gt;&gt;Yeah, I&#39;ll give it a shot&lt;&lt;/lgc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fridgeRaidChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fridgeRaidEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fridgeRaidChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _mcStretch to (($sissyScore * 0.05) + ($slutScore * 0.15) + ($alphaScore * -1.0 * 0.025)).toFixed(2)&gt;&gt;
        &lt;&lt;if $hasPerkMasochist&gt;&gt;
          &lt;&lt;set _mcStretch to _mcStretch + 1.0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#mcStretch&quot;&gt;&gt;_mcStretch&lt;&lt;/replace&gt;&gt;
        &lt;&lt;if _mcStretch gt 6.0&gt;&gt;
          &lt;&lt;set _cashGain to 10&gt;&gt;
          &lt;&lt;toggleclass &quot;#newRecord&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _cashGain to 0&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;item&quot;] is &quot;Elf&quot;&gt;&gt;
          &lt;&lt;set _cashGain to (_cashGain + (Math.round(_mcStretch)*2))&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;set _cashGain to _cashGain + Math.round(_mcStretch)&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;set $cash to $cash + _cashGain&gt;&gt;
        &lt;&lt;replace &quot;#cashGain&quot;&gt;&gt;_cashGain&lt;&lt;/replace&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fridgeRaidOpt2&quot;&gt;
      &lt;&lt;link &quot;No, thanks ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fridgeRaidChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fridgeRaidEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fridgeRaidChoice2&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fridgeRaidOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fridgeRaidOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#fridgeRaidOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#fridgeRaidOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;fridgeRaidChoice1&quot; class=&quot;hide&quot;&gt;
  &lt;&lt;mcs&gt;&gt;&quot;Yeah, what the hell.&quot;&lt;&lt;/mcs&gt;&gt;\
    //You figure you&#39;ve had a fair few things shoved up there recently, maybe it&#39;ll be good to earn you a few bucks.//

  //You walk over to the counter where everything is laid out.\
    You can see an assortment of fruits and veggies laid out, all of the phallic variety, along with several bottles of lube.\
    You slide your &lt;&lt;mcUnderwear&gt;&gt; down to get it out of the way, grab a bottle of lube, and start working it into your asshole.//

  //The crowd turns their attention to you and starts shouting words of encouragement as you size up which of the foods to start with.\
    They appear to be taking bets on how much you&#39;ll be able to fit, and if you&#39;ll beat the record.\
    You overhear one of them say,// &lt;&lt;osay&gt;&gt;Look at that sexy ass, I&#39;ll be he can fit loads up there!&lt;&lt;/osay&gt;&gt;\
    //Someone else shouts out,// &lt;&lt;osay&gt;&gt;You can do it! Go for the record!&lt;&lt;/osay&gt;&gt;\
    //You have to admit, the words of encouragement are nice.//

  //You finally select a reasonably sized carrot and line it up, pushing it in until it&#39;s buried in your ass,\
    giving you a small initial stretch; you&#39;re sure you can do more.\
    You grab another of the veggies and slide that one in as well.\
    The crowd claps and cheers as you shove it home and select another.//

  //Waves of cheers go up each time you slide a new food in, but eventually, no matter how much lube you use and how much you shove,\
    your poor ass just can&#39;t take any more.\
    You slump against the counter, groaning slightly as you struggle to hold everything in.//\
    &lt;&lt;mcs&gt;&gt;&quot;That&#39;s it! I&#39;m done; I can&#39;t fit anymore!&quot;&lt;&lt;/mcs&gt;&gt;

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/fridge_raid_stuffed_01.jpg&quot;&gt;\

  //The ringleader runs over with the measuring tape.//\
    &lt;&lt;osay&gt;&gt;You heard &#39;im folks! Time for the official measurement!&lt;&lt;/osay&gt;&gt;

  &lt;&lt;osay&gt;&gt;Okay, we have an official stretch of @@#mcStretch;_mcStretch@@ centimeters!\
    &lt;span id=&quot;newRecord&quot; class=&quot;hide&quot;&gt;That&#39;s a new record to beat folks!&lt;/span&gt;\
    Our lovely contestant has earned themselves &lt;&lt;lgc&gt;&gt;@@#cashGain;_cashGain@@ dollars!&lt;&lt;/lgc&gt;&gt;\
    Let&#39;s have a round of applause!\
    Come see me to settle your bets!\
  &lt;&lt;/osay&gt;&gt;

  //The crowd cheers and claps for you, some waving winning bet tickets, others just seemed to have enjoyed the show.\
    You finally let go of the food stuffing your ass and it all pops out at once, spilling onto the floor.\
    Tired, you slump to your knees, before regaining your composure.//

  //You take your time cleaning up while the ringleader settles all the bets, then walk over to get your prize money.//\
    &lt;&lt;osay&gt;&gt;Good show!&lt;&lt;/osay&gt;&gt; //he says, peeling off your take and handing it over.//\
    &lt;&lt;osay&gt;&gt;I hope you&#39;ll come play again the next time we do one of these!&lt;&lt;/osay&gt;&gt;

  //You nod and smile a little bit, puckering your asshole and wondering just a little bit how much more you might be able\
    to stretch by then, if things keep going at the current pace.\
    You wave at the crowd and the ringleader one last time, then turn to decide what to do next.//
&lt;/div&gt;\
&lt;div id=&quot;fridgeRaidChoice2&quot; class=&quot;hide&quot;&gt;
  &lt;&lt;mcs&gt;&gt;&quot;Thanks, but, I&#39;ll pass.&quot;&lt;&lt;/mcs&gt;&gt;\
    //You turn away from the group, deciding what to do next.//
&lt;/div&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;fridgeRaidEnd&quot; class=&quot;hide&quot;&gt;
  You:
  &lt;&lt;set _validOpts to []&gt;&gt;
  &lt;ul&gt;
    &lt;&lt;if not hasVisited(&quot;Enema Tournament&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt1&quot;&gt;[[See another game being played ▶▶▶|Enema Tournament]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;1&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if not hasVisited(&quot;Dining Room&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt2&quot;&gt;[[Check out the dining room ▶▶▶|Dining Room]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;2&quot;)&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;endOpt3&quot;&gt;[[Head back into the living room ▶▶▶|Couch Duet]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;3&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if _validOpts.length gt 1&gt;&gt;
      &lt;li id=&quot;endRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;for _num range _validOpts&gt;&gt;
            &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _num&gt;&gt;
            &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;/for&gt;&gt;
          &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _validOpts.random()&gt;&gt;
          &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="69" name="Dining Room" tags="Bottom" position="3600,450" size="100,100">!Dining Room
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $redBandsFucked to 0&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
\
&lt;img class=&quot;square_img&quot; src=&quot;images/ep03/dining_room_bkg_01.jpg&quot;&gt;\

//You head into the dining room, thinking $mgName might be in there.\
  As you&#39;re looking around, you suddenly feel strong arms grab you from\
  behind and push you forward towards the table.//

&lt;&lt;osay&gt;&gt;Oh baby, momma is hungry!&lt;&lt;/osay&gt;&gt; //the purple girl shouts,\
  pushing you forward until you&#39;re forced to catch yourself against the table.//\
  &lt;&lt;osay&gt;&gt;Dinner is served!&lt;&lt;/osay&gt;&gt; //she exclaims, pulling down your\
  &lt;&lt;mcPants&gt;&gt; and &lt;&lt;mcUnderwear&gt;&gt;, exposing your ass and pressing her cock between your asscheeks.//

//You&#39;re sure $mgName wouldn&#39;t like this, but she&#39;s nowhere to be seen.\
  Do you dare risk it? Are you cock-hungry enough to let some rando fuck you in the middle of a party?//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;diningRoomChoose&quot;&gt;
  &lt;&lt;set _opt1Title=&quot;Alpha +1&quot;&gt;&gt;
  &lt;&lt;set _opt2Title=&quot;Sissy +1&quot;&gt;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;diningRoomOpt1&quot; @title=&quot;_opt1Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;ac &#39;Alpha +1&#39;&gt;&gt;Push her off&lt;&lt;/ac&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#diningRoomChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#diningRoomEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
        &lt;&lt;if $alphaLevel gte 5&gt;&gt;
          &lt;&lt;toggleclass &quot;#diningRoomChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;ep03DiningRoomGetFucked&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;diningRoomOpt2&quot; @title=&quot;_opt2Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;sc &#39;Sissy +1&#39;&gt;&gt;Let her have her &#39;dinner&#39;&lt;&lt;/sc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#diningRoomChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#diningRoomEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;ep03DiningRoomGetFucked&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;diningRoomOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#diningRoomOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#diningRoomOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#diningRoomOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;diningRoomChoice1&quot; @title=&quot;_opt1Title&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;ac&gt;&gt;You push the the purple-haired shemale off you,&lt;&lt;/ac&gt;&gt; and pull your clothes back on.//\
    &lt;&lt;mcs&gt;&gt;&quot;Hey, fuck off!&quot;&lt;&lt;/mcs&gt;&gt; //you say, and push past her.//

  //She backs off, dejected, and pouts,// &lt;&lt;osay&gt;&gt;Party pooper.&lt;&lt;/osay&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;failedPush&quot; @title=&quot;_opt1Title&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;ac&gt;&gt;You attempt to push the purple-haired shemale off you,&lt;&lt;/ac&gt;&gt; but she&#39;s stronger than you are.\
    She roughly shoves you back down onto the table and slaps your ass,//\
    &lt;&lt;osay&gt;&gt;C&#39;mon, don&#39;t be like that! You&#39;re gonna love this!&lt;&lt;/osay&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;diningRoomChoice2&quot; @title=&quot;_opt2Title&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;]&gt;&gt;\
    //Her cock pushes against your asshole, but is stymied by the &lt;&lt;mcPlug&gt;&gt; you already have inserted.//\
      &lt;&lt;osay&gt;&gt;Oh baby, you&#39;re a kinky one! You sure you weren&#39;t looking for a fuck!?&lt;&lt;/osay&gt;&gt;\
      //Keeping one hand on your back, she pulls the toy out of your ass and tosses it onto the table next to you.//\
      &lt;&lt;osay&gt;&gt;Appetizer&#39;s done honey; time for the main course!&lt;&lt;/osay&gt;&gt;
  &lt;&lt;/if&gt;&gt;\

  //Purple-hair spits on your exposed asshole and presses her cockhead against it, slowly forcing you open.\
    &lt;&lt;sc&gt;&gt;She drives her whole shaft into you in one smooth stroke, never letting up the pressure.&lt;&lt;/sc&gt;&gt;\
    You&#39;re sure, if not for your recent forays into the world of anal pleasure, she&#39;d have split you in half.\
    She&#39;s definitely the largest you&#39;ve had so far.//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/dining_room_fucked_01.jpg&quot;&gt;\

  //You wince and grit your teeth as you&#39;re hilted,\
    and focus on relaxing your sphincter to accommodate Purple-hair&#39;s impressive member.\
    She stars moving, slowly fucking your ass before you&#39;ve had a chance to fully adjust to her size.//

  &lt;&lt;osay&gt;&gt;Oh! You&#39;re still nice and tight! Mommy like!&lt;&lt;/osay&gt;&gt; //she says, picking up the pace.\
    Several rapid thrusts later, the pain subsides and you&#39;re starting to actually feel good,\
    having finally adjusted to her enormous schlong.\
    She&#39;s hammering home, scraping past your prostate with each thrust, forcing your $mcDick to leak continuously.\
    Despite yourself, you let out a series of short, high-pitched moans every time she slams home.//

  &lt;&lt;osay&gt;&gt;Good girl! Momma&#39;s just about ready to serve up dessert!&lt;&lt;/osay&gt;&gt;\
    //You can feel her dick start to twitch, obviously on the verge of cumming.\
    It looks like she&#39;s got no intention of pulling out of your ass as she continues\
    to ram her meatrod into your battered ass at full force.//

  //Finally she cums, burying her cock deep in your bowels and unleashing a torrent of cum!//\
    &lt;&lt;osay&gt;&gt;Enjoy my dessert cream baby!&lt;&lt;/osay&gt;&gt; //she moans, continuing to pump you full of baby batter.//\
    &lt;span id=&quot;diningRoomNoSissygasm&quot;&gt;\
      //Unfortunately, you weren&#39;t able to cum, leaving you leaking and frustrated.//
    &lt;/span&gt;\
    &lt;span id=&quot;diningRoomSissygasm&quot; class=&quot;hide&quot;&gt;\
      //&lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;Her orgasm sets off your own sissygasm and you spray your\
        load all over the ground beneath the table!&lt;&lt;/sc&gt;&gt;\
        You let out one long final girly moan and collapse fully against the table, spent.
        Panting, you lay there for a moment in post-orgasmic bliss.\
        A dollop of drool escapes your lips and pools on the table as you lay there catching your breath.//
    &lt;/span&gt;\

  //Purple-hair pulls our of your ass and you instinctively clench to keep from leaking your &quot;dessert&quot;\
    all over yourself.//\
    &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;]&gt;&gt;\
      //Your well-endowed ass assailant shoves your &lt;&lt;mcPlug&gt;&gt; back into your butt.//\
        &lt;&lt;osay&gt;&gt;Can&#39;t have you leaking your meal all over the place!&lt;&lt;/osay&gt;&gt; //she says.//\
    &lt;&lt;/if&gt;&gt;\
    //Then she grabs a red wristband from somewhere and places it on your wrist.//\
    &lt;&lt;osay&gt;&gt;Keep that for later sweety!&lt;&lt;/osay&gt;&gt; //she says with a wink.//

  //Purple-hair leaves and you collect yourself, pulling your dishevelled costume back into place.\
    You stand up, unsure how to feel about the experience, but at least $mgName didn&#39;t catch you getting railed.//
&lt;/div&gt;
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;diningRoomEnd&quot; class=&quot;hide&quot;&gt;
  You:
  &lt;&lt;set _validOpts to []&gt;&gt;
  &lt;ul&gt;
    &lt;&lt;if not hasVisited(&quot;Fridge Raid&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt1&quot;&gt;[[Check out the commotion by the fridge ▶▶▶|Fridge Raid]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;1&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if not hasVisited(&quot;Enema Tournament&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt2&quot;&gt;[[See a game being played in the kitchen ▶▶▶|Enema Tournament]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;2&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;li id=&quot;endOpt3&quot;&gt;[[Head back into the living room ▶▶▶|Couch Duet]]&lt;/li&gt;
    &lt;&lt;set _validOpts.push(&quot;3&quot;)&gt;&gt;
    &lt;&lt;if _validOpts.length gt 1&gt;&gt;
      &lt;li id=&quot;endRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;for _num range _validOpts&gt;&gt;
            &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _num&gt;&gt;
            &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;/for&gt;&gt;
          &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _validOpts.random()&gt;&gt;
          &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="70" name="EP03 Dining Room Widgets" tags="widget" position="1225,850" size="100,100">&lt;&lt;widget &quot;ep03DiningRoomGetFucked&quot;&gt;&gt;
  &lt;&lt;toggleclass &quot;#failedPush&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;toggleclass &quot;#diningRoomChoice2&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;sUp 1&gt;&gt;
  &lt;&lt;set $redBandsFucked++&gt;&gt;
  &lt;&lt;set $timesAssFucked++&gt;&gt;
  &lt;&lt;set $timesCreampied++&gt;&gt;
  &lt;&lt;if $hasPerkSissygasm or (($sissyScore + $slutScore - $alphaScore) gte 55)&gt;&gt;
    &lt;&lt;if !$hasPerkSissygasm&gt;&gt;
      &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
      &lt;&lt;set $showPerkGainSissygasm to true&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;sissygasm&gt;&gt;
    &lt;&lt;toggleclass &quot;#diningRoomSissygasm&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#diningRoomNoSissygasm&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="71" name="Enema Tournament" tags="" position="3600,600" size="100,100">!Enema Tournament
\
//On this side of the kitchen, near a sink, another tournament is happening.\
  You see a girl with her hands tied up to some harnesses affixed to the ceiling and a tube going into her ass.\
  Her eyes bulging, she tries to hold in the enema, but she gives out as you look on.\
  The crowd cheer as the mess bursts out of her ass and spills into a waiting basin below!//

&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/enema_tournament_01.jpg&quot;&gt;\

//A couple people walk over and help her down from the restraints.\
  She smiles up at them weakly, obviously tired out from the challenge.//

//An announcer steps up to the crowd,//\
  &lt;&lt;osay&gt;&gt;...And that&#39;s her done folks!\
    The official total is 748mL, held for 6 whole minutes!\
    Come up here to collect your bets!&lt;&lt;/osay&gt;&gt;

//Seeing you looking on, the announcer waves you over.//\
  &lt;&lt;osay&gt;&gt;Alright, the rules are simple.\
    Take as much of an enema into your ass as you can and hold it.\
    For every minute you&#39;re able to hold it, you&#39;ll win &lt;&lt;lgc&gt;&gt;1 dollar.&lt;&lt;/lgc&gt;&gt;\
    If you can beat the record for volume, that&#39;s 1 litre right now, you&#39;ll win &lt;&lt;lgc&gt;&gt;10 bucks,&lt;&lt;/lgc&gt;&gt;\
    and an additional &lt;&lt;lgc&gt;&gt;5 dollars&lt;&lt;/lgc&gt;&gt; for every 250mL over the record you&#39;re able to hold.&lt;&lt;/osay&gt;&gt;

&lt;&lt;osay&gt;&gt;Lotta money on the table if you can manage it.\
  Wanna give it a go?&lt;&lt;/osay&gt;&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;enemaTournamentChoose&quot;&gt;
  &lt;ul&gt;
    &lt;li id=&quot;enemaTournamentOpt1&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;lgc &#39;+$$$&#39;&gt;&gt;Yeah, I think I can win!&lt;&lt;/lgc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#enemaTournamentChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#enemaTournamentEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#enemaTournamentChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _cashEarned to 0&gt;&gt;
        &lt;&lt;set _holdAmount to (($sissyScore * 18) + ($slutScore * 22) - ($alphaScore * 5))&gt;&gt;
        &lt;&lt;if hasVisited(&quot;Clean Up&quot;)&gt;&gt;
          &lt;&lt;set _holdAmount += 250&gt;&gt;
          &lt;&lt;toggleclass &quot;#priorExp&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if _holdAmount gt 1000&gt;&gt;
          &lt;&lt;set _cashEarned += 10&gt;&gt;
          &lt;&lt;toggleclass &quot;#newChamp&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;for _i to (_holdAmount - 1000); _i gt 250; _i -= 250&gt;&gt;
            &lt;&lt;set _cashEarned += 5&gt;&gt;
          &lt;&lt;/for&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;replace &quot;#holdAmount&quot;&gt;&gt;_holdAmount&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set _holdTime to Math.round(($alphaScore + 15)/3 + ($slutScore / 10) + ($sissyScore / 15) -3)&gt;&gt;
        &lt;&lt;if _holdTime lt 1&gt;&gt;
          &lt;&lt;set _holdTime to 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;set _cashEarned += _holdTime&gt;&gt;
        &lt;&lt;replace &quot;#holdTime&quot;&gt;&gt;_holdTime&lt;&lt;/replace&gt;&gt;
        &lt;&lt;replace &quot;#cashEarned&quot;&gt;&gt;$&lt;&lt;print _cashEarned&gt;&gt;&lt;&lt;/replace&gt;&gt;
        &lt;&lt;set $cash += _cashEarned&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;enemaTournamentOpt2&quot;&gt;
      &lt;&lt;link &quot;Umm... No, not doing that. ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#enemaTournamentChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#enemaTournamentEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#enemaTournamentChoice2&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;enemaTournamentOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#enemaTournamentOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#enemaTournamentOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#enemaTournamentOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;enemaTournamentChoice1&quot; class=&quot;hide&quot;&gt;
  //You nod at the announcer,// &lt;&lt;mcs&gt;&gt;&quot;Yeah, I&#39;m in.&quot;&lt;&lt;/mcs&gt;&gt;

  //The announcer grins and turns back to the crowd,// &lt;&lt;osay&gt;&gt;Looks like we have a new contestant!&lt;&lt;/osay&gt;&gt;

  //You step up to where the arm restraints are hanging from the ceiling and start to buckle yourself in.\
    A helper steps up and fastens the second one to your wrist for you, then moves behind you to get your enema set up.\
    You try to turn your head to keep her in view, but aren&#39;t able to with the restraints holding you in place.//\
    &lt;&lt;osay&gt;&gt;Just relax, we&#39;ll get you all set up,&lt;&lt;/osay&gt;&gt; //she says with\
    a hint of a smirk in her voice, and pulls off your &lt;&lt;mcPants&gt;&gt; and &lt;&lt;mcUnderwear&gt;&gt;.//
  \
  &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;]&gt;&gt;
    //You feel the assistant push on your &lt;&lt;mcPlug&gt;&gt;, grinding it against your prostate.//\
      &lt;&lt;osay&gt;&gt;Ooo! Looks like someone is already filled up! Let&#39;s just get this out of the way first...&lt;&lt;/osay&gt;&gt;\
      //She tugs the &lt;&lt;mcPlug&gt;&gt; out of your ass, a bit rougher than you&#39;d like.//
  &lt;&lt;/if&gt;&gt;\

  //The head of the enema nozzle presses against your sphincter,\
    the lubed tip being forced in by the less than gentle hand of the assistant.\
    It pops all the way in after just a moment of pushing;\
    you&#39;re really starting to get used to the feeling of things sliding into your ass.//

  //The assistant walks around to your front and leans in close.//\
    &lt;&lt;osay&gt;&gt;OK, you&#39;re hooked up. I&#39;m going to start pumping it into you.\
      When you can&#39;t take anymore, just say &#39;STOP&#39; loudly and I&#39;ll cut off the pump and pull it out.\
      Then you just have to hold the enema in as long you can.&lt;&lt;/osay&gt;&gt;\
    //You nod your head to indicate your understanding.\
    She gives you one last nod and a smirk before turning the pump on and moving back around behind you.//

  &lt;&lt;osay&gt;&gt;And we&#39;re off!&lt;&lt;/osay&gt;&gt; //the announcer shouts.//\
    &lt;&lt;osay&gt;&gt;Last call for bets up here! Can er... he? beat the record!?&lt;&lt;/osay&gt;&gt;\
    //The announcer falters a bit, apparently slightly confused as to your gender, dressed as you are.//

  //You don&#39;t really have the presence of mind to think about that now as the lukewarm enema is pumped into your ass,\
    rapidly filling you up.//\
    &lt;&lt;mcs&gt;&gt;&quot;Oh fuck!&quot;&lt;&lt;/mcs&gt;&gt; //you groan and clench down on the enema plug.\
    The fluid gushes into you for what feels like an eternity, getting more and more uncomfortable with each passing second.//\
    &lt;span id=&quot;priorExp&quot; class=&quot;hide&quot;&gt;\
      //Your prior enema experience earlier in the day seems to have helped;\
        you&#39;re able to hold more now than you thought you&#39;d be able to.//\
    &lt;/span&gt;

  //Eventually, you can&#39;t take it anymore and call out a pained,// &lt;&lt;mcs&gt;&gt;&quot;Stop!&quot;&lt;&lt;/mcs&gt;&gt;\
    //Immediately, the pump cuts off and you feel the assistant pull the enema plug out slowly,\
    giving you plenty of time to clench down and make sure to keep it in.\
    She slides a large basin underneath you and helps arrange everything below your waste so you\
    don&#39;t make a total mess of yourself when you inevitably can&#39;t hold it anymore.\
    You barely notice though, focused as you are on keeping the enema inside you.//

  &lt;&lt;osay&gt;&gt;Alright folks; he&#39;s called for a stop!&lt;&lt;/osay&gt;&gt; //the announcer calls out and leans over to look at the enema bag.//\
    &lt;&lt;osay&gt;&gt;Looks like he&#39;s taken a pretty good amount in there...\
    Betting in now closed! Let&#39;s see how long he can old it.&lt;&lt;/osay&gt;&gt;

  //You roll your eyes at the announcer as the crowd cheers you on, grit your teeth, and clench your rosebud.\
    Each minute that passes, another round of cheers go up until, finally, you can&#39;t hold it anymore.\
    With a final groan you push the enema out into the waiting basin.\
    A final cheer rises from the crowd as you evacuate yourself.//

  &lt;&lt;osay&gt;&gt;And that&#39;s it folks! We&#39;ve got a total time of @@#holdTime;X@@ minutes!\
    Total volume is @@#holdAmount;X@@mL!\
    &lt;span id=&quot;newChamp&quot; class=&quot;hide&quot;&gt;\
      That&#39;s more than the previous record; we&#39;ve got a new champ!\
    &lt;/span&gt;\
    That&#39;s going to be a total winnings of &lt;&lt;lgc&gt;&gt;@@#cashEarned;X@@&lt;&lt;/lgc&gt;&gt; for our contestant!\
    Come up here to settle your bets!&lt;&lt;/osay&gt;&gt;

  //The assistant comes around to help you down from the restraints and get cleaned up.\
    Once you&#39;re done, you head over to the announcer to collect your winnings.//\
    &lt;&lt;osay&gt;&gt;Good show,&lt;&lt;/osay&gt;&gt; //he says, holding out your winnings.//\
    &lt;&lt;osay&gt;&gt;Come back next time!&lt;&lt;/osay&gt;&gt;

  //You take and count the cash you won, wondering just what it was you sacrificed for a little money.\
    Your dignity maybe? Do you even still have that?\
    You shake your head to drive out the doubts; time for that later.\
    You should get back to trying to find where $mgName ran off to.//
&lt;/div&gt;\
\
&lt;div id=&quot;enemaTournamentChoice2&quot; class=&quot;hide&quot;&gt;
  &lt;&lt;mcs&gt;&gt;&quot;Umm... No, not doing that,&quot;&lt;&lt;/mcs&gt;&gt; //you respond, shaking your head.//\
    &lt;&lt;mcs&gt;&gt;&quot;I&#39;m just gonna go... do something else.&quot;&lt;&lt;/mcs&gt;&gt;

  //The announcer shrugs and turns away from you,// &lt;&lt;osay&gt;&gt;Your loss!\
    Come back if you change your mind.&lt;&lt;/osay&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;enemaTournamentEnd&quot; class=&quot;hide&quot;&gt;&lt;br&gt;
  You:
  &lt;&lt;set _validOpts to []&gt;&gt;
  &lt;ul&gt;
    &lt;&lt;if not hasVisited(&quot;Fridge Raid&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt1&quot;&gt;[[Check out the commotion next to the fridge ▶▶▶|Fridge Raid]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;1&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if not hasVisited(&quot;Dining Room&quot;)&gt;&gt;
      &lt;li id=&quot;endOpt2&quot;&gt;[[Check out the dining room ▶▶▶|Dining Room]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;2&quot;)&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;endOpt3&quot;&gt;[[Head back into the living room ▶▶▶|Couch Duet]]&lt;/li&gt;
      &lt;&lt;set _validOpts.push(&quot;3&quot;)&gt;&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if _validOpts.length gt 1&gt;&gt;
      &lt;li id=&quot;endRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;for _num range _validOpts&gt;&gt;
            &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _num&gt;&gt;
            &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;/for&gt;&gt;
          &lt;&lt;set _toggleMe to &quot;#endOpt&quot; + _validOpts.random()&gt;&gt;
          &lt;&lt;toggleclass _toggleMe &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#endRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\</tw-passagedata><tw-passagedata pid="72" name="Couch Duet" tags="Bottom" position="3750,450" size="100,100">!Couch Duet
\
&lt;img src=&quot;images/ep03/couch_duet_01.jpg&quot;&gt;\

//As you enter the living room, the cheers of the dining room and kitchen die down.\
  On the couch, two femboys are plowing each other with a double-ended dildo while sucking off a row of people.\
  You stare transfixed, impressed, for a moment as they bounce their asses against each other\
  while sucking off the $malesDudes in front of them.//

//The darker femboy gets a load blown on his face from the $malesGuy he&#39;s blowing and cums at the same time from\
  the double-dildo in his ass, spraying his load all over the couch.\
  He licks his lips and pushes the cum on his face into his mouth, swallowing it down before hopping up,\
  extricating the dildo from his ass.//

//He gives blondie a playful swat on his ass and says,// &lt;&lt;osay&gt;&gt;I&#39;m spent; that&#39;s me done. Have fun!&lt;&lt;/osay&gt;&gt;\
  //He saunters off into the crowd, receiving playful swats and gropes as he pushes his way through.//

//Blondie looks back, disappointed, but never stops jerking off the cock in front of him.\
  He scans the crowd for a sec, then his eyes light up when he spots you.//\
  &lt;&lt;osay&gt;&gt;Hey, wanna jump in!? Takes two to tango!&lt;&lt;/osay&gt;&gt;\
  //He smiles at you and shakes his ass, causing the double-dildo to shake about invitingly.//

//Quickly, you scan the crowd for any sign of $mgName.\
  She&#39;s nowhere to be seen; probably upstairs if you had to guess.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;couchDuetChoose&quot;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;couchDuetOpt1&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;sc &#39;Sissy +1&#39;&gt;&gt;Join blondie&lt;&lt;/sc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#couchDuetChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#couchDuetChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;sUp&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;couchDuetOpt2&quot;&gt;
      &lt;&lt;link &quot;Pass on the offer ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#couchDuetChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#couchDuetEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#couchDuetChoice2&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;couchDuetOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#couchDuetOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#couchDuetOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#couchDuetOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;couchDuetChoice1&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;mcs&gt;&gt;Fuck it,&lt;&lt;/mcs&gt;&gt; &lt;&lt;sc&gt;&gt;you decide, pulling off your bottoms and &lt;&lt;mcUnderwear&gt;&gt;\
    and hopping up onto the couch.&lt;&lt;/sc&gt;&gt;\
    Blondie squeaks excitedly and helps line the double-dildo up with your asshole as you lube up your end.\
    You\
    &lt;&lt;ifPlugged&gt;&gt;\
      pull your &lt;&lt;mcPlug&gt;&gt; out and\
    &lt;&lt;/ifPlugged&gt;&gt;\
    push backward, relaxing your rosebud as the double-dildo slides into your ass,\
    wiggling a bit to get it good and deep.//

  //Blondie pushes back on his side and soon the two of you are develop a rhythm, bouncing back and forth,\
    your asses slapping together each time you bury the toy in your ass.//

  &lt;img class=&quot;square_img&quot; src=&quot;images/ep03/couch_duet_02.gif&quot;&gt;\

  //Now seeing that you&#39;re situated and enjoying yourself, one of the $malesGuys\
    waiting steps up and presents $malesHis cock, bringing it right up to your face so close you can smell it.\
    You grab $malesHis dick and start jerking it as you continue to bounce back and forth,\
    your mind starting to go blank as the pleasure and eroticism of the situation overtakes you.//

  //You feel $malesHis dick begin to pulse in your hand;\
    you&#39;ve only got a second to make a decision on where you want $malesHim to spray his load.//
  \
  &lt;&lt;nobr&gt;&gt;&lt;ul id=&quot;firstLoadChoice&quot;&gt;
    &lt;&lt;if $hasPerkCumdrinker&gt;&gt;
      &lt;li&gt;
        &lt;&lt;link &quot;&lt;&lt;sc &#39;Sissy +1&#39;&gt;&gt;Lemme drink that sweet nectar!&lt;&lt;/sc&gt;&gt; ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#firstLoadSwallow&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#firstLoadChoice&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#secondGuyStart&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;suckedDick&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li&gt;
        &lt;&lt;link &quot;Open your mouth ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#firstLoadSwallow&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#firstLoadChoice&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#secondGuyStart&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;suckedDick&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;&lt;link &quot;Let $malesHim finish on your face ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#firstLoadFacial&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#firstLoadChoice&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#secondGuyStart&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;div id=&quot;firstLoadSwallow&quot; class=&quot;hide&quot;&gt;
    &lt;&lt;if $hasPerkCumdrinker&gt;&gt;\
      //&lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;There&#39;s no way you&#39;re going to let that tasty baby batter go to waste!&lt;&lt;/sc&gt;&gt;//\
    &lt;&lt;/if&gt;&gt;\
    //You decide to take the load into your mouth and open wide, putting the tip in just before $malesHe explodes.\
      You close your lips around $malesHis cockhead and suck, continuing to stroke the shaft the whole time,\
      keeping your pumping motion in time with your bouncing double-dildo fuck with Blondie.\
      $malesHisCap load fills your mouth and you swallow it down, practically on reflex.\
      &lt;&lt;if $hasPerkCumdrinker&gt;&gt;\
        You lament for a half a moment that you don&#39;t have more time to savor it before gulping it down.\
      &lt;&lt;/if&gt;&gt;//\
  &lt;/div&gt;\
  &lt;div id=&quot;firstLoadFacial&quot; class=&quot;hide&quot;&gt;
    //You close your eyes and mouth and redouble your efforts to jerk $malesHim off.\
      In only a few more masterful strokes, $malesHe busts $malesHis nut all over your face.\
      A second, then third, rope of cum spits forth form $malesHis one-eye&#39;d monster, covering you completely.\
      You&#39;re pretty sure you&#39;d be blind now if you hadn&#39;t closed your eyes.\
      You take a second to wipe your face off with your hand, then your hand off onto the couch.\
      You can still kinda see if you squint a bit.//
  &lt;/div&gt;\
  &lt;div id=&quot;secondGuyStart&quot; class=&quot;hide&quot;&gt;
    //You keep stroking until $malesHe starts to back away, spent.\
      The pounding in your rear makes it almost impossible to think clearly as you and Blondie keep up the pace,\
      neither one of you having cum yet, despite bouncing against each other for all you&#39;re worth.\
      You try to focus more on your own pleasure, but the crowd of horny people waiting for your &quot;services&quot;\
      produces another &quot;patron&quot; looking to relieve themselves.//
      \
      &lt;&lt;nobr&gt;&gt;&lt;ul id=&quot;secondLoadChoice&quot;&gt;
        &lt;&lt;if $hasPerkCumdrinker&gt;&gt;
          &lt;li&gt;
            &lt;&lt;link &quot;&lt;&lt;sc &#39;Sissy +1&#39;&gt;&gt;Moar cock juice!&lt;&lt;/sc&gt;&gt; ▶▶▶&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadSuck&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadPost&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadChoice&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;suckedDick&gt;&gt;
              &lt;&lt;drankCum&gt;&gt;
              &lt;&lt;set $timesDeepthroated++&gt;&gt;
              &lt;&lt;sissygasm&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/li&gt;
        &lt;&lt;else&gt;&gt;
          &lt;li&gt;
            &lt;&lt;link &quot;Suck $malesHim off ▶▶▶&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadSuck&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadPost&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadChoice&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;suckedDick&gt;&gt;
              &lt;&lt;drankCum&gt;&gt;
              &lt;&lt;set $timesDeepthroated++&gt;&gt;
              &lt;&lt;sissygasm&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;&lt;link &quot;Jerk $malesHim off ▶▶▶&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadJerk&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadChoice&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#secondLoadPost&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;sissygasm&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/li&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;/div&gt;\
  &lt;div id=&quot;secondLoadSuck&quot; class=&quot;hide&quot;&gt;
    //You open your mouth and start sucking $malesHis cock.\
      &lt;&lt;ifCumdrinker&gt;&gt;&lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;You can&#39;t wait to swallow down another salty load!&lt;&lt;/sc&gt;&gt;&lt;&lt;/ifCumdrinker&gt;&gt;\
      You start sucking vigorously, hands-free so you can hold yourself up with both hands.\
      $malesHeCap grabs the back of your head and starts forcefully fucking your face,\
      forcing you to deepthroat $malesHis cock.//

    //It doesn&#39;t take long for $malesHim to erupt in your mouth.\
      $malesHeCap thrusts forward and pulls your head toward $malesHim,not letting go as $malesHe buries\
      $malesHis sausage deep in your throat, forcing you to swallow down most of the load.\
      On the last spurt, $malesHe pulls out so just the cockhead remains in your mouth and strokes $malesHimself\
      to eek the last of it out.//
  &lt;/div&gt;\
  &lt;div id=&quot;secondLoadJerk&quot; class=&quot;hide&quot;&gt;
    //You grab $malesHis cock and start jerking this new $maleGuy off.\
      Your hands are slick with juices, making for an effective lubricant,\
      but you spit on $malesHis cockhead anyway.//

    //You work $malesHis shaft hard and fast as Blondie keeps up the tempo behind you.\
      Your eyes roll back in your head as you lose focus on the cock in front of you,\
      thinking instead about the dildo in your ass.\
      Your handjob starts to slow down and the $malesGuy in front of you notices.//

    //$malesHeCap grabs your hand with $malesHis own and starts using your hand to jerk $malesHimself.//\
      &lt;&lt;osay&gt;&gt;Hey, focus up slut!&lt;&lt;/osay&gt;&gt; //$malesHe chides, forcing you to stroke $malesHim faster.\
      You redouble your efforts, not wanting to piss off your partner.\
      It only takes another minute or so before $malesHe blows $malesHis load,\
      most of it hitting your chin and cheeks, with a small spurt hitting your neck.//
  &lt;/div&gt;\
  &lt;div id=&quot;secondLoadPost&quot; class=&quot;hide&quot;&gt;
    //Your eyes roll into the back of your head, cock-drunk.\
      Blondie picks up the pace, bouncing back against you with more fervor, giving you a new round of pleasure.\
      &lt;&lt;if $hasPerkSissygasm&gt;&gt;\
        &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;It&#39;s enough to send you over the edge, causing you to blow your own load onto the couch\
          without touching your $mcDick!&lt;&lt;/sc&gt;&gt;\
          You can&#39;t help but spurt all over the place, getting your sticky goo everywhere.\
      &lt;&lt;else&gt;&gt;\
        Unfortunately, it&#39;s not enough and only serves to make you even more frustrated and horny.\
      &lt;&lt;/if&gt;&gt;//

    //The second $malesGuy steps back and moves off to get cleaned up.\
      You&#39;re breathing heavy now and getting tired from the rough fucking and taking care of multiple people.\
      Maybe it&#39;s time to take a break...//

    &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;keepGoingChoice&quot;&gt;
      You:
      &lt;ul&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;&lt;&lt;uc &#39;Slut +1&#39;&gt;&gt;Keep going!&lt;&lt;/uc&gt;&gt; ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#keepGoingChoice&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#thirdGuyStart&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;suckedDick&gt;&gt;
            &lt;&lt;drankCum&gt;&gt;
            &lt;&lt;uUp 1&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;End it here ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#keepGoingChoice&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#postFuck&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#couchDuetEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;/div&gt;\
  &lt;div id=&quot;thirdGuyStart&quot; class=&quot;hide&quot;&gt;\
    //&lt;&lt;uc &quot;Slut +1&quot;&gt;&gt;You decide to keep going; you&#39;re having too much fun to stop now!&lt;&lt;/uc&gt;&gt;\
      &lt;&lt;if ! $hasPerkSissygasm&gt;&gt;\
        Besides, you still haven&#39;t cum yet.\
      &lt;&lt;else&gt;&gt;\
        You&#39;re pretty sure if you keep going, you might even be able to cum again;\
        Blondie doesn&#39;t seem to be slowing down at all!\
      &lt;&lt;/if&gt;&gt;//

    //The next $malesGuy steps up, cock out and at the ready.\
      This $malesGuy doesn&#39;t wait for you to decide how you&#39;re going to finish $malesHim off;\
      $malesHe just steps up and starts slapping $malesHis cock against your cheek while stroking $malesHimself.//

    //You turn your head to look up at $malesHim, just to see $malesHim smirking down at you.//\
      &lt;&lt;mcs&gt;&gt;&quot;Wha...?&quot;&lt;&lt;/mcs&gt;&gt; //you start to say, but are cut off by $malesHim shoving $malesHis\
      dick into your mouth.\
      $malesHeCap start fucking your mouth, apparently taking great pleasure at your surprise and confusion.//

    //Fortunately, $malesHe&#39;s something of a quick shot and doesn&#39;t take long for $malesHim to cum in your mouth,\
      spraying $malesHis salty load all over your tongue.\
      As Blondie keeps pounding away at you from behind, the $malesGuy at your front pulls out and grabs your chin,\
      forcing your mouth open.//\
      &lt;&lt;osay&gt;&gt;Don&#39;t swallow yet! Let me see it.&lt;&lt;/osay&gt;&gt;

    //You open your mouth and stick out your tongue, showing $malesHim the load in your mouth.//\
      &lt;&lt;osay&gt;&gt;Good girl,&lt;&lt;/osay&gt;&gt; //he says and pats your cheek.\
      A particularly hard thrust from Blondie forces you to gulp the cum down.\
      &lt;&lt;ifCumdrinker&gt;&gt;&lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;Yum!&lt;&lt;/sc&gt;&gt;&lt;&lt;/ifCumdrinker&gt;&gt;\
      $malesHe walks off, smirking and satisfied.//

    &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;keepGoing2Choice&quot;&gt;
      //You&#39;re really starting to get tired now; you&#39;re not sure how much longer you can keep this up...//&lt;br&gt;
      &lt;br&gt;
      You:
      &lt;ul&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;&lt;&lt;uc &#39;Slut +1&#39;&gt;&gt;Power through!&lt;&lt;/uc&gt;&gt; ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#keepGoing2Choice&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cumFilledSlut&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;uUp 1&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;Roll off the couch; you&#39;re done ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#keepGoing2Choice&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#postFuck&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#couchDuetEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;/div&gt;\
&lt;/div&gt;\
&lt;div id=&quot;cumFilledSlut&quot; class=&quot;hide&quot;&gt;\
  //You shake your head and redouble your efforts to fuck yourself on the double-dildo you&#39;re sharing with Blondie.\
    &lt;&lt;uc &quot;Slut +1&quot;&gt;&gt;You&#39;ve got one more in you and dammit, you&#39;re going to fucking get yours too!&lt;&lt;/uc&gt;&gt;\
    You throw your head back and moan as a particularly good thrusts from Blondie hits you.\
    You push back again harder to show your appreciation, eliciting a squeak from your butt-buddy.//

  //Precum is dripping out of you like a faucet.\
    A girl in a slutty cheerleader outfit steps up and plays with you a little bit,\
    before putting her hand up to her mouth and licking it clean.//

  &lt;&lt;osay&gt;&gt;Think you could use that tongue on me?&lt;&lt;/osay&gt;&gt; //she says, sliding into position in front of you.\
    She places her ass on the arm of the couch and lifts her skirt up, revealing her dripping pussy.//\
    &lt;&lt;osay&gt;&gt;Come give me a taste!&lt;&lt;/osay&gt;&gt;

  //She guides your head down to her pussy.\
    Seeing no other choice, you start licking and sucking at her clit.\
    You immediately notice the unmistakable taste of cum mixed in with her juices;\
    she&#39;s got a load in her from some dude already.//

  &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;cleanHerOutChoice&quot;&gt;
    You:
    &lt;ul&gt;
      &lt;li&gt;
        &lt;&lt;link &quot;&lt;&lt;sc &#39;Sissy +2&#39;&gt;&gt;Clean the load out of her&lt;&lt;/sc&gt;&gt; ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanHerOutChoice&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cleanHerOut&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#cumFilledSlutFinish&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#postFuck&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#couchDuetEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
          &lt;&lt;sUp 1&gt;&gt;
          &lt;&lt;if ! $hasPerkSissygasm&gt;&gt;
            &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
            &lt;&lt;set $showPerkGainSissygasm to true&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;&lt;if ! $hasPerkCumdrinker&gt;&gt;
        &lt;li&gt;
          &lt;&lt;link &quot;&lt;&lt;sc &#39;Sissy +1&#39;&gt;&gt;Just make her cum&lt;&lt;/sc&gt;&gt; ▶▶▶&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cleanHerOutChoice&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#justLickHer&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#cumFilledSlutFinish&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#postFuck&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#couchDuetEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;if ! $hasPerkSissygasm&gt;&gt;
              &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
              &lt;&lt;set $showPerkGainSissygasm to true&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/li&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;/ul&gt;
  &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;/div&gt;\
&lt;div id=&quot;cleanHerOut&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;You decide that load belongs in your mouth,\
    not in this slut, and set about licking it out of her.&lt;&lt;/sc&gt;&gt;\
    She catches onto what you&#39;re up to immediately,// &lt;&lt;osay&gt;&gt;Oh, cum-hungry are we?&lt;&lt;/osay&gt;&gt;

  //She shifts position slightly, allowing you to get your tongue in deeper\
    and pressing your nose against her clit.\
    You plunge your tongue in repeatedly, curling it up to scoop the cum out\
    of her as she starts grinding her puss against your face.//

  //You get several large dollops of tasty jizz from her cunt and swallow them down.\
    She throws her head back and moans, her orgasm building with each lick and thrust of your tongue.\
    &lt;&lt;ifCumdrinker&gt;&gt;\
      &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;You&#39;re enamoured with the taste and just can&#39;t get enough!&lt;&lt;/sc&gt;&gt;\
    &lt;&lt;/ifCumdrinker&gt;&gt;\
    You&#39;re pretty sure you&#39;ve eaten all the cum you&#39;re going to get out of her and turn\
    your attention back to her clit to finish making her cum.//
&lt;/div&gt;\
&lt;div id=&quot;justLickHer&quot; class=&quot;hide&quot;&gt;\
  //You decide you&#39;d rather not eat some dude&#39;s stale load and just focus on making her cum.\
    You might not be the most well-endowed, but you&#39;ve always prided yourself on your skill with your tongue.\
    You know just where to lick and suck to bring a girl to a rapid climax and you set about doing so with vigor.//
&lt;/div&gt;\
&lt;div id=&quot;cumFilledSlutFinish&quot; class=&quot;hide&quot;&gt;
  //Appreciative of your efforts, she grinds her cunt against your face even harder,\
    lift her ass up off the couch and arching her back as her orgasm builds.\
    You keep it up, focusing your attention on hers clit, tribbing it with your tongue for all you&#39;re worth,
    and humming to add some vibrations.//

  //Seemingly emboldened by the cheerleader&#39;s moans, Blondie also picks put the pace and starts bouncing\
    back against you with renewed effort.\
    He shifts position, causing the double-ended dildo to start ramming against your prostate more directly\
    with each thrust.//

  //The cheerleader screams one last time, loud enough that you&#39;re sure people in the next room can hear it\
    over the music and general din of the living room.\
    She explodes with a gushing orgasm right in your face, squirting all over your face.\
    At the same time, your own orgasm arrives and you &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;cum from your ass,\
    spraying your load all over the couch cushions in front of you.&lt;&lt;/sc&gt;&gt;//
&lt;/div&gt;\
&lt;div id=&quot;postFuck&quot; class=&quot;hide&quot;&gt;\
  //Exhausted and sore, you collapse onto the couch, the double-ended dildo popping out of your ass.\
    You roll off the couch and onto the floor, staring up at the ceiling, catching your breath.//

  //A helpful hand reaches down to help you up.\
    You take it gratefully and use your combined efforts to get back onto your feet.\
    The hand belongs to a rather attractive looking girl in a witch costume.\
    She hands you a bottle of water and a warm, damp towel to clean yourself up with.//

  &lt;&lt;osay&gt;&gt;Have fun? Sure looks like you did!&lt;&lt;/osay&gt;&gt; //she says, smiling.//\
    &lt;&lt;osay&gt;&gt;I know I had fun watching you!&lt;&lt;/osay&gt;&gt;\
    //Just then you notice that there&#39;s a veritable flood of juices trickling down her legs from her crotch,\
    giving proof to her compliment.//

  //She smiles at you and raises her skirt up for you to see, no panties and she&#39;s gushing wet.//\
    &lt;&lt;osay&gt;&gt;God, that was hot! I&#39;d love to spend some time with you when you&#39;re free...\
    and recuperated that is!&lt;&lt;/osay&gt;&gt; //You&#39;re pretty sure $mgName wouldn&#39;t be a fan of that idea.//

  &lt;&lt;mcs&gt;&gt;&quot;Um, yeah. Maybe another time,&quot;&lt;&lt;/mcs&gt;&gt; //you mumble.\
    You look back at the couch to see Blondie still going strong.\
    Someone&#39;s pulled the double-dildo out of his ass and he&#39;s now got a $malesDude fucking him from behind instead,\
    making a spit-roast with the other $malesGuy Blondie is sucking off.\
    You&#39;re not sure how he&#39;s able to keep going like that...//

  //You bend down to collect your &lt;&lt;mcPants&gt;&gt; and &lt;&lt;mcUnderwear&gt;&gt;.//\
    &lt;&lt;ifPlugged&gt;&gt;//You feel someone shove something into your ass as you&#39;re bent over, exposed.\
      It takes you only a moment to realize that the friendly witch has replaced your &lt;&lt;mcPlug &quot;.&quot;&gt;&gt;//\
      &lt;&lt;osay&gt;&gt;Can&#39;t forget that!&lt;&lt;/osay&gt;&gt;\
    &lt;&lt;/ifPlugged&gt;&gt;\
    //The cute witch give you a playful swat on your ass as you pull on your clothes.\
    You give her one last smile before heading off into the crowd, drinking your water.//
&lt;/div&gt;\
&lt;div id=&quot;couchDuetChoice2&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;mcs&gt;&gt;&quot;Uh, no thanks. I&#39;m good,&quot;&lt;&lt;/mcs&gt;&gt; //you blush, embarrassed at being called out.\
    You cover your face and back away into to the crowd, receiving a dejected look from blondie.\
    A second later, that dejected look is covered with cum as the $malesDude\
    blondie was stroking busts on his face.\
    You turn away from the scene and look for something else to do.//
&lt;/div&gt;\
&lt;div id=&quot;couchDuetEnd&quot; class=&quot;hide&quot;&gt;
  You:
* [[Check out the cheering from over by the TV ▶▶▶|Mortal Kombat]]
&lt;/div&gt;\</tw-passagedata><tw-passagedata pid="73" name="Mortal Kombat" tags="Bottom" position="3750,600" size="100,100">!Mortal Kombat
\
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/mortal_kombat_01.jpg&quot;&gt;\

//In the corner of the room, in front of the TV set, sits a small pink-haired girl.//\
  &lt;&lt;osay&gt;&gt;Yeah! Another one bites the dust!&lt;&lt;/osay&gt;&gt; //she shouts triumphantly.\
  You can see a fighting game you&#39;re familiar with on the screen where\
  she&#39;s soundly defeated her opponent.//

//He stands up and walks off, obviously dejected at the loss.//\
  &lt;&lt;osay&gt;&gt;So who&#39;s next?&lt;&lt;/osay&gt;&gt; //she says, scanning the crowd before her eyes land on you.//\
  &lt;&lt;osay&gt;&gt;Wanna play cutie? There&#39;s a prize in it for you if you win,&lt;&lt;/osay&gt;&gt;\
  //she smirks at you and winks.//

//The crowd all looks at you expectantly.\
  You sit down next to her.//\
  &lt;&lt;mcs&gt;&gt;&quot;OK, what&#39;s the prize?&quot;&lt;&lt;/mcs&gt;&gt;

//She laughs, throwing her head back.//\
  &lt;&lt;osay&gt;&gt;Thought you might be interested,&lt;&lt;/osay&gt;&gt; //she says, smirking again and\
    leaning in to whisper into your ear seductively.\
    She reaches down between your legs and starts to rub your crotch.//\
  &lt;&lt;if $inChastity&gt;&gt;\
    //Her eyes go wide for a second when she feels your cage instead of a hard cock,\
      her smirk turning into a wicked smile.//\
    &lt;&lt;osay&gt;&gt;Here&#39;s the deal, we play a full match.\
      You win, and I&#39;ll make you cum in that cute little cage of yours,\
      right into my mouth. I&#39;m sure you&#39;re //dying// for some relief.&lt;&lt;/osay&gt;&gt;\
  &lt;&lt;else&gt;&gt;\
    //Your $mcDick perks up, starting to rise to attention.//\
    &lt;&lt;osay&gt;&gt;You win, and I&#39;ll let you fuck me, however you want to.\
      Mouth, ass, vag; whatever.&lt;&lt;/osay&gt;&gt;\
  &lt;&lt;/if&gt;&gt;

  //She pauses a moment to let that sink in before continuing,//\
    &lt;&lt;osay&gt;&gt;But if I win, then I get to plow your cute little ass with my strap-on.\
      I bet I can make you cum just from railing your sexy tush,\
      so you ask me, you&#39;re getting a good deal either way!&lt;&lt;/osay&gt;&gt;

&lt;&lt;osay&gt;&gt;So,&lt;&lt;/osay&gt;&gt; //she holds a controller out to you,//\
  &lt;&lt;osay&gt;&gt;wanna play?&lt;&lt;/osay&gt;&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;mortalKombatChoose&quot;&gt;
  &lt;ul&gt;
    &lt;li id=&quot;mortalKombatOpt1&quot;&gt;
      &lt;&lt;link &quot;Play ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mortalKombatChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#play&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;if ($alphaLevel + $slutLevel) gte 6&gt;&gt;
          &lt;&lt;toggleclass &quot;#winPre&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;aUp 1&gt;&gt;
          &lt;&lt;if $inChastity&gt;&gt;
            &lt;&lt;toggleclass &quot;#winChastity&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#mortalKombatEnd&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#postSex&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;ifCumdrinker&gt;&gt;
              &lt;&lt;drankCum&gt;&gt;
              &lt;&lt;toggleclass &quot;#winChastityCumdrinker&quot; &quot;hide&quot;&gt;&gt;
              &lt;&lt;toggleclass &quot;#winChastityNoCumdrinker&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;/ifCumdrinker&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#win&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#lose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#postSex&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;sUp 1&gt;&gt;
          &lt;&lt;aUp -1&gt;&gt;
          &lt;&lt;if $hasPerkSissygasm or (($sissyScore + $slutScore - $alphaScore) gte 55)&gt;&gt;
            &lt;&lt;if !$hasPerkSissygasm&gt;&gt;
              &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
              &lt;&lt;set $showPerkGainSissygasm to true&gt;&gt;
            &lt;&lt;/if&gt;&gt;
            &lt;&lt;sissygasm&gt;&gt;
            &lt;&lt;drankCum&gt;&gt;
            &lt;&lt;toggleclass &quot;#loseSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#loseNoSissygasm&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;mortalKombatOpt2&quot;&gt;
      &lt;&lt;link &quot;Leave ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mortalKombatChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mortalKombatEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mortalKombatChoice2&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;mortalKombatOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#mortalKombatOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;play&quot; class=&quot;hide&quot;&gt;
  &lt;&lt;mcs&gt;&gt;&quot;You&#39;re on,&quot;&lt;&lt;/mcs&gt;&gt; //you say,//\
  &lt;&lt;if $alphaScore gte 3&gt;&gt;\
    //confident in your skills.//\
  &lt;&lt;else&gt;&gt;\
    //somewhat unsure of yourself.//\
  &lt;&lt;/if&gt;&gt;

  //She smiles back at you.//\
    &lt;&lt;osay&gt;&gt;I knew I had the right idea about you!&lt;&lt;/osay&gt;&gt;\
    // From the pillow behind her, she produces two dildos and a bottle of lube.//\
    &lt;&lt;osay&gt;&gt;We&#39;re going to ride these while we play!&lt;&lt;/osay&gt;&gt;

  //You look at her skeptically.\
    She rolls her eyes, holding out the dildo,// &lt;&lt;osay&gt;&gt;C&#39;mon; too late to back out now!&lt;&lt;/osay&gt;&gt;

  //You glare at her, before grabbing the dildo, suctioning it to the floor and lubing up.//\
    &lt;&lt;ifPlugged&gt;&gt;\
      //You pull out your &lt;&lt;mcPlug&gt;&gt; and set it to the side before moving into position.//\
    &lt;&lt;/ifPlugged&gt;&gt;\
    //The toy slides deep into your boihole as you lower yourself onto it.\
    Looking over to the side, you can see your opponent has assumed the same position,\
    burying her dildo in her tight pink cunt.//

  //Gamer-chick looks at you, handing you your controller.//\
    &lt;&lt;osay&gt;&gt;Ready?&lt;&lt;/osay&gt;&gt;\
    //You nod back in affirmation and turn to the character select screen.//

  //As soon as you finish selecting your character, someone in the crowd presses a button,\
    and the dildo you&#39;re riding on begins to move, causing you to yelp in surprise!\
    Gamer-chick was apparently ready for it though.//\
    &lt;&lt;osay&gt;&gt;Mmm... That&#39;s nice! No fun if we&#39;re just sitting on them!&lt;&lt;/osay&gt;&gt;\
    //she says, winking at you.//

  //The match starts and the dildo pistons in and out of your ass, distracting you the whole\
    time you&#39;re playing.\
    It&#39;s insanely hard to focus while being railed in the ass by a toy, but you fight through it,\
    tying to bring home a win so you can claim your prize.//

  //Your opponent takes the first round, laying out series rapid attacks, showing off some real skill.\
    Distracted as you are, you&#39;re unable to keep up and she soundly beats you.//

  //The next round countdown starts and you look over at your opponent.\
    She&#39;s looking a little flustered, clearly enjoying her ride.\
    You turn back to the screen and redouble your efforts,\
    finding your own toy less distracting now that you&#39;ve had a minute to get used to it.\
    Gamer-chick comes at you with a similar pattern of combos again, but you&#39;ve got her number this time.\
    You block and duck most of them, taking hardly any damage before turning the tide,\
    pushing her back with your own combo attack.//

  //Next to you, she lets out a little moan, and involuntarily squints her eyes,\
    the controller going slack in her hand; you&#39;ve got her now.\
    You hit her with another salvo while she&#39;s distracted, keeping up the pressure and forcing a rapid KO!//

  &lt;&lt;osay&gt;&gt;Fuck!&lt;&lt;/osay&gt;&gt; //she exclaims, then turns to glare at a guy in the crowd,\
    the one controlling her dildo.\
    He gives her a shit-eating grin before she turns back to the screen for the final round.//

  //Gamer-chick comes back with a vengeance, gritting her teeth in determination.\
    She varies up her attack pattern significantly from before, getting in a few quick hits as you\
    struggle to adapt, blocking and dodging for all you&#39;re worth.//
&lt;/div&gt;\
&lt;div id=&quot;winPre&quot; class=&quot;hide&quot;&gt;
  //&lt;&lt;ac &quot;Alpha +1&quot;&gt;&gt;Your skill (and ability to handle distractions) comes through,\
    and you&#39;re able to reverse the tide, sending your opponent back with a rapid series of attacks.&lt;&lt;/ac&gt;&gt;\
    She recovers and fights back, attempting to block you, but you&#39;ve got the upper hand now.\
    Another quick combo and you&#39;ve cinched the win!//

  &lt;&lt;mcs&gt;&gt;&quot;Boo ya!&quot;&lt;&lt;/mcs&gt;&gt; //You jump up and fist-pump the air, then stare down at the controller for\
    a second, trying to remember the fatality combos.\
    You punch one in and watch as your character tears your opponent limb-from-limb,\
    before turning to smile down at Gamer-chick.//

  &lt;&lt;osay&gt;&gt;Fuck. Well, a deal&#39;s a deal. Let&#39;s go.&lt;&lt;/osay&gt;&gt;\
    &lt;&lt;ifPlugged&gt;&gt;You bend down and grab your &lt;&lt;mcPlug&gt;&gt; quickly as she stares up at you.&lt;&lt;/ifPlugged&gt;&gt;\
    //She stands up and leads you into another room, closing the door behind you before\
    flopping down on the bed.\
    She pats the bed beside her, inviting you to come over.//\
    &lt;&lt;osay&gt;&gt;C&#39;mon, let&#39;s do this. I haven&#39;t got all day,&lt;&lt;/osay&gt;&gt; //she smirks.//
&lt;/div&gt;\
&lt;div id=&quot;win&quot; class=&quot;hide&quot;&gt;
  //You climb up onto the bed next to her, ready to take your prize.\
    You pull off the lower portion of your costume and your &lt;&lt;mcUnderwear&gt;&gt; and toss them to the side.\
    You rock hard and raring to go; despite all the recent attention you&#39;ve had, you haven&#39;t exactly\
    been on the &quot;giving&quot; side for much of it lately.//

  &lt;&lt;osay&gt;&gt;So, how we doing this?&lt;&lt;/osay&gt;&gt; //Gamer-chick asks, acting almost bored.//

  &lt;&lt;nobr&gt;&gt;&lt;div id=&quot;mortalKombatWinChoose&quot;&gt;
    You:
    &lt;ul&gt;
      &lt;li id=&quot;mortalKombatWinOpt1&quot;&gt;
        &lt;&lt;link &quot;Get a blowjob ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatWinChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#winBJ&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#postSex&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $blowjobsReceived++&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;mortalKombatWinOpt2&quot;&gt;
        &lt;&lt;link &quot;Fuck her pussy ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatWinChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#winPussy&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#postSex&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $pussiesFucked++&gt;&gt;
          &lt;&lt;set $pussiesCreampied++&gt;&gt;
          &lt;&lt;set _rand to random(1,25)&gt;&gt;
          &lt;&lt;if _rand is 25&gt;&gt;
            &lt;&lt;set $girlsImpregnated.push(&quot;gamer-chick&quot;)&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;mortalKombatWinOpt3&quot;&gt;
        &lt;&lt;link &quot;Fuck her ass ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatWinChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#winAnal&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#postSex&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set $assesFucked++&gt;&gt;
          &lt;&lt;set $assesCreampied++&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;mortalKombatWinOptRand&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#mortalKombatWinOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#mortalKombatWinOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#mortalKombatWinOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#mortalKombatWinOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#mortalKombatWinOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#mortalKombatWinOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#mortalKombatWinOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
  \
  &lt;div id=&quot;winBJ&quot; class=&quot;hide&quot;&gt;\
    //You decide to settle for a blowjob and tell her so.\
      She rolls her eyes at you,// &lt;&lt;osay&gt;&gt;Trying to shut me up?&lt;&lt;/osay&gt;&gt;\
      //Nevertheless, she makes for your crotch and pulls out your already hardening $mcDick.//

    //Once her lips touch your cock, it&#39;s obvious that she&#39;s a pro at this.\
      She sucks with a ferocity like you never expected, bobbing her head up and down,\
      taking you in her mouth all the way to the base.\
      Within seconds, it&#39;s all you can do not to blow your load and you hold out against her initial assault.//

    //She looks up at you, as if surprised that you haven&#39;t blown your load yet.\
      She gives you one last, long, hard suck as she pulls her lips off your cock,\
      flicking the tip with her tongue as she does so.\
      Her hand takes the place of her mouth and she strokes you vigorously, never giving you a moments rest.//

    //On her other hand, she starts licking her first two fingers, getting them sloppy and covered with saliva.\
      Before you even fully grasp what she&#39;s up to, she&#39;s already slipped that hand between your legs,\
      and those saliva-covered fingers are probing for your pre-lubed asshole.\
      In only a moment, they&#39;ve located your puckered ring, just as Gamer-chick returns to sucking your dick\
      for all she&#39;s worth.//

    //Her blowjob is as relentless as when she first started and she hasn&#39;t let up with her hand at all.\
      The fingers she&#39;s slipped into you find your prostate in no time and start rubbing hard as she sucks you off.\
      With powerful suction and her fingers pleasuring you from behind, you erupt into her mouth with explosive force,\
      blasting the back of her throat with your thick ropes of cum.\
      She continues sucking until you&#39;re completely spent, then swallows down your load without a second thought.//

    &lt;&lt;osay&gt;&gt;There&#39;s your prize. Good?&lt;&lt;/osay&gt;&gt;

    //It&#39;s all you can do to nod as you collapse in post-orgasmic ecstasy.\
      Just now you notice a cadre of her fans crowded in the doorway; apparently the show was as much for them\
      as it was about getting you off.//
  &lt;/div&gt;\
  &lt;div id=&quot;winPussy&quot; class=&quot;hide&quot;&gt;\
    &lt;&lt;mcs&gt;&gt;&quot;Climb on top and ride me,&quot;&lt;&lt;/mcs&gt;&gt; //you tell her.\
      She mounts you immediately and slides your hard cock into her pussy.//

    //She&#39;s still wet and ready from the dildo earlier and takes you all the way in with one thrust.\
      Despite riding the dildo earlier, she&#39;s still tight and squeezes down on you with significant force.\
      She doesn&#39;t give you a moment even to get used to her pussy before she starts riding you hard.//

    //She bounces up and down on your cock like she&#39;s going all out on a stallion.\
      With each thrust, she squeezes down on your cock like she&#39;s trying to wring the life out of it.\
      You&#39;re barely able to keep up with her riding you and it&#39;s only a couple of minutes before\
      she&#39;s got you on the edge of blowing your load.//

    //The look on your face must give it away because she slows down for half a second,\
      then reaches down and grabs you by the sides of your head.//\
      &lt;&lt;osay&gt;&gt;Not yet!&lt;&lt;/osay&gt;&gt; //she pants,// &lt;&lt;osay&gt;&gt;I&#39;m so... Close...&lt;&lt;/osay&gt;&gt;

    //You&#39;re both panting hard, but you hold yourself back from coming just yet and redouble your\
      efforts to match her rhythm and please your partner before you blow your own load.\
      It pays off almost immediately as her whole body starts to shudder and she spasms while riding you.//

    //Her own movements slow to a stop as she shudders and moans in the grip of her orgasm.\
      It only takes a few more thrusts of your own before you cum as well,\
      blasting your baby-batter deep into her, letting lose several thick ropes of cum.\
      It occurs to you only now that you probably should have worn a condom.//

    //You both lie there panting for a moment before she rolls off of you.\
      A round of cheers erupt from the doorway; apparently her fan-club watched the whole thing.\
      Ignoring you now, she gets up off the bed, and makes her way to the door,\
      giving you only a quick wink as she heads back out, no doubt to pwn more noobs.//
  &lt;/div&gt;\
  &lt;div id=&quot;winAnal&quot; class=&quot;hide&quot;&gt;\
    &lt;&lt;mcs&gt;&gt;&quot;You were going to fuck my ass, so let me fuck yours,&quot;&lt;&lt;/mcs&gt;&gt; //you tell her.

    //She shrugs,// &lt;&lt;osay&gt;&gt;Fair&#39;s fair, I guess,&lt;&lt;/osay&gt;&gt; //and reaches to grab some lube from the side table.\
      She squirts some directly onto your waiting dick and rubs it all over with her one hand before straddling\
      you reverse-cowgirl and lubing up her asshole directly.//

    //She slowly slides her ass down on top of your dick, guiding you in with one hand.//\
      &lt;&lt;osay&gt;&gt;Oh fuck, it&#39;s been a bit since I&#39;ve taken anything back there.&lt;&lt;/osay&gt;&gt;\
      Nevertheless, she takes your cock all the way to the base with ease,\
      then lets out a deep breath before she starts moving.//

    //You can see her pink anus swallowing your cock with each bounce she makes,\
      and it&#39;s not long before she&#39;s riding you full force.\
      She bounces up, pulling your cock out almost all the way, to where just the very tip of your head is\
      still inside her ass before she plunges back down, burying your cock in her ass up to the hilt.//

    //You grab her hips and she continues like that for several moments, riding you long and deep.\
      Soon enough, she starts changing up the pace, not pulling out quite as much, but going much, much faster.\
      She starts letting out little moans every time your cock is buried fully in her ass,\
      and it&#39;s obvious she&#39;s on the verge of cumming.//

    //You take the opportunity to shift position, pushing her onto her side and giving you greater leverage\
      as you take over controlling the pace.\
      You keep fucking her hard and deep, giving her your cock deep into her ass.\
      One of her hands has made its way between her legs and she&#39;s playing with her clit as\
      she builds closer and closer to an orgasm.//

    //It doesn&#39;t take her long to cum full force with your cock buried in her ass.//\
      &lt;&lt;osay&gt;&gt;FUCK!&lt;&lt;/osay&gt;&gt; //she screams out as she cums, her sphincter tightening around your dick.\
      A few more quick thrusts is all it takes or you to cum as well,\
      unleashing your full load right into her ass.//

    //You give her a few more hard thrusts to empty your balls of cum and fill her up with it instead\
      before pulling out.\
      A little bit of your semen drips out of her asshole and runs down her bare cheek as you pull yourself out.//

    //You glance around the room for something to clean yourself up with only to notice the crowd\
      of her fans that are gathered at the door, giving you both thumbs up.\
      She recovers and rolls out of the bed, making a bee-line for the door like you&#39;re not even there.//
  &lt;/div&gt;\
&lt;/div&gt;\
&lt;div id=&quot;winChastity&quot; class=&quot;hide&quot;&gt;
  //You climb up onto the bed beside her, somewhat unsure of yourself, locked up as you are.//\
    &lt;&lt;mcs&gt;&gt;&quot;So how are you going to...?&quot;&lt;&lt;/mcs&gt;&gt; //you trail off.//

  &lt;&lt;osay&gt;&gt;Make you cum? Oh honey, just lay back and enjoy!&lt;&lt;/osay&gt;&gt;

  //You follow her instructions, laying back on the bed, your legs spread slightly.\
    You pull your &lt;&lt;mcUnderwear&gt;&gt; aside, exposing your locked up $mcDick and still lubricated asshole.\
    Gamer-chick moves to climb on top of you and grabs a big wand-style vibrator and bottle of lube\
    from the side-table.\
    She drops the wand next to her on the bed, then lubes up her fingers,\
    and starts pressing first one, then two digits into your boihole.\
    They slide in easily, still loosened up as you are from the &quot;gaming&quot; dildo earlier.//

  &lt;&lt;mcs&gt;&gt;&quot;Um, I&#39;m not sure if I can-&quot;&lt;&lt;/mcs&gt;&gt;

  &lt;&lt;osay&gt;&gt;Shh!&lt;&lt;/osay&gt;&gt; //she cuts you off,// &lt;&lt;osay&gt;&gt;Don&#39;t worry, I got this, just relax.&lt;&lt;/osay&gt;&gt;\
    //She lowers her head down and grabs your $mcDick with her free hand,\
    tugging on you a bit as she maneuvers your locked up member into her mouth.//

  //She licks and sucks all around the cage, covering every little bit of exposed flesh with her tongue.\
    Slowly, she starts moving her fingers in and out of your ass, teasing your prostate as she does so.\
    She keeps rubbing and pressing on your fun button as she continues to lick and suck all around your cage.//

  //You get as hard as you can in your confinement, your $mcDick straining against its prison.\
    Despite yourself, the mixture of pleasure and pain elicits a small whimper from you.\
    You grip the bedsheets on either side of you, arching your back as you do so.//

  //Gamer-chick stops licking and sucking for a moment as she reaches over to grab the wand.\
    She powers it up with one hand, continuing to finger you with her other.\
    She moves around and positions the wand against your cage,\
    sending harsh vibrations through the cage into your $mcDick.//

  //She picks up the pace with her other hand, finger-banging you harder and faster as the vibrations\
    bring you new waves of pleasure.\
    The mix of stimulation from both ends excites you, and the pain is now gone, replaced by a\
    combination of building pleasure and pressure in your balls.//

  &lt;&lt;osay&gt;&gt;See? I told you I&#39;d take care of it. C&#39;mon, now cum for me, right in my mouth,\
    just like I promised!&lt;&lt;/osay&gt;&gt;\
  //She lowers her head again, taking just the tip of your cage into her mouth and sucking,\
    flicking just the tip of your $mcDick with her tongue.//

  //It doesn&#39;t take long before the waves of pleasure build to a crescendo, the combination of\
    vibrations, prostate stimulation, and Gamer-chick&#39;s tongue all building on one another to send\
    you over the edge.\
    You cum, hard, right into Gamer-chick&#39;s mouth, just as she said you would.\
    In a brief moment of clarity, it occurs to you that&#39;s she&#39;s good to her word,\
    which is more than you can say for a lot of people.//

  //Your spurts come out with a force like you&#39;ve rarely felt before, the confines of the cage serving\
    to increase the already substantial pressure from cumming.\
    If not for Gamer-chick&#39;s mouth, you might have hit the ceiling overhead with the force of your ejaculation.//

  //Gamer-chick pulls the vibrator away and pulls her fingers out of your abused asspusssy.\
    You lay there panting for a moment, trying to catch your breath.\
    She crawls up beside you and flops down wordlessly before grabbing the back of your\
    head and pulling you in for a deep kiss.\
    Too late to stop it, you realize her mouth is full of your spunk, as she pushes it into\
    your mouth with her tongue.//

  &lt;div id=&quot;winChastityCumdrinker&quot; class=&quot;hide&quot;&gt;\
    //&lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;You kiss her back deeply, searching with your tongue for all the cum in \
      her mouth so you can suck it into yours and swallow it down.&lt;&lt;/sc&gt;&gt;\
      You continue kissing like that, tasting your own baby batter the whole time until eventually\
      she pulls away and gets up to leave.//
  &lt;/div&gt;\
  &lt;div id=&quot;winChastityNoCumdrinker&quot;&gt;\
    //You push her off you and spit your cum out into the wastebasket beside the bed.//\
      &lt;&lt;osay&gt;&gt;Tsk. What a waste,&lt;&lt;/osay&gt;&gt; //she says, getting up to leave.//
  &lt;/div&gt;\

  //You look after her as she saunters out of the room, only to realize at some point her fan club\
    had opened the door and were probably watching you the whole time.\
    They let out a fresh round of cheers as she heads out, one of them handing her back her\
    controller again.//
&lt;/div&gt;\
&lt;div id=&quot;lose&quot; class=&quot;hide&quot;&gt;
  //Her sustained attack is too much though and you slip up as you&#39;re caught off-guard when someone changes\
    the fucking pattern of your dildo just as she starts her next barrage of attacks.\
    Your sissy button takes a few decisive hits, practically in-time with with your character on the screen.\
    You go down hard.//

  &lt;&lt;osay&gt;&gt;Fatality!&lt;&lt;/osay&gt;&gt; //Gamer girl jumps up, pumping her fists into the air, leaving the\
    still-pumping dildo suctioned to the ground.//

  //She rounds on you.//\
    &lt;&lt;osay&gt;&gt;God damn! I&#39;m horny as fuck after that and I know JUST what I&#39;m going to do with you!&lt;&lt;/osay&gt;&gt;\
    //she says, wickedly.//

  &lt;&lt;osay&gt;&gt;C&#39;mon,&lt;&lt;/osay&gt;&gt; //she grabs your hand, pulling you off your own still-thrusting dildo and\
    dragging you into another room.\
    &lt;&lt;ifPlugged&gt;&gt;You manage to grab your &lt;&lt;mcPlug&gt;&gt; from where it&#39;s sitting as you&#39;re pulled up.&lt;&lt;/ifPlugged&gt;&gt;\
    She pushes you back on the bed as she grabs a double-sided strap-on from the side table.//

  &lt;&lt;osay&gt;&gt;On your back, raise your ass up in the air.&lt;&lt;/osay&gt;&gt;\
    //You lay back on the bed and prop your ass up on your hands, raising your hips up in the air.//\
    &lt;&lt;osay&gt;&gt;Higher,&lt;&lt;/osay&gt;&gt; //she says, and pushes your legs further up over your torso.\
    You&#39;re now looking at your $mcDick dangling over your face.//

  //You&#39;ve barely assumed the position when you feel a squirt of lube on your already stretched-out asshole,\
    immediately followed by the head of her face cock pressing into you.\
    Gamer-chick stands over you in the piledriver position, adjusting her own position before jamming\
    the rest of her fake cock into your ass!//

  //You grunt at being filled so fully, so suddenly, and a dribble of precum starts to bead up on the head\
    of your $mcDick.\
    &lt;&lt;gc &quot;Alpha -1&quot;&gt;&gt;You realize that if you cum or drip right now,\
    it&#39;s going to go all over your face and there&#39;s nothing you can do about it!&lt;&lt;/gc&gt;&gt;//

  //&lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;Gamer-chick starts pounding away at you like that,\
    utterly dominating as she bounces up and down,\
    fucking both of you with her double-ended weapon of choice.&lt;&lt;/sc&gt;&gt;//\
    &lt;&lt;osay&gt;&gt;Yeah bitch! Take it!&lt;&lt;/osay&gt;&gt; //she shouts.\
    To your horror, you realize she&#39;s left the door open and there&#39;s a group of onlookers,\
    probably her fans from around the console, ogling you both from the door way and cheering you on.//

  //It hardly matters at this point, you realize; they all saw you riding the dildo earlier.\
    A hard thrust of Gamer-chick&#39;s fuckstick against your prostate blanks out your mind and\
    causes you to leak some more, the bead of precum on the head of your $mcDick building up\
    to dangerous levels.//

  //Waves of pleasure mixed with pain overwhelm you and you all but lose your ability to think.\
    Gamer-chick pounds away mercilessly, focusing solely on her own pleasure as she rails into you,\
    her tits bouncing up and down beautifully as her own end of the double-dildo slides in and out\
    of her dripping wet pussy.//\
    &lt;&lt;osay&gt;&gt;Yes! Yes! YES!&lt;&lt;/osay&gt;&gt; //she exclaims, obviously nearing orgasm.\
    You can feel yourself getting close as well, your own orgasm building.//

  &lt;div id=&quot;loseSissygasm&quot; class=&quot;hide&quot;&gt;\
    //You throw your head back as the pleasure crests and you let out a girly moan!\
      Your $mcDick starts twitching hard, and right before you cum, Gamer-chick grabs it and points\
      it right at your open mouth.\
      &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;She rams down hard again, sending you over the edge!&lt;&lt;/sc&gt;&gt;\
      Cum spurts out of your $mcDick, most of it going right into your open mouth,\
      the rest landing elsewhere on your face.//

    //Gamer-chick shudders, still cumming from her own orgasm as she continues to hold your $mcDick\
      pointed at your face.\
      Your second, third, and forth spurts also hit home, each landing mostly in your mouth and on\
      your tongue.//

    //Still standing over you, Gamer-chick reaches down and and wipes the cum that hit your cheeks\
      into your mouth before shoving her fingers in.//\
      &lt;&lt;osay&gt;&gt;Suck and swallow bitch-boi,&lt;&lt;/osay&gt;&gt; //she smiles down at you, grinding her strap-on\
      against your prostate, forcing even more cum to leak out onto you.//

    //You gulp down your own load, unable to resit even if you wanted to.\
      &lt;&lt;ifCumdrinker&gt;&gt;\
        &lt;&lt;sc &quot;Sissy +1&quot;&gt;&gt;You lick around her fingers, savoring the salty taste;\
        goddamn you love cum!&lt;&lt;/sc&gt;&gt;\
      &lt;&lt;/ifCumdrinker&gt;&gt;\
      Satisfied, she eventually pulls her fingers out of your mouth before lightly slapping\
      your face with them, leaving a wet patch of saliva there.//\
      &lt;&lt;osay&gt;&gt;Good bitch.&lt;&lt;/osay&gt;&gt;
  &lt;/div&gt;\
  &lt;div id=&quot;loseNoSissygasm&quot; class=&quot;hide&quot;&gt;\
  &lt;/div&gt;\

  //She climbs off of you and you flop down onto the bed, cramping a bit from the awkward position.\
    Gamer-chick takes only a second to compose herself as you lie there.\
    Her fans in the doorway cheer, and she throws her hands up, fist-pumping the air.//\
    &lt;&lt;osay&gt;&gt;I win again!&lt;&lt;/osay&gt;&gt; //she exclaims, and saunters out of the room, followed by her fan club.//
&lt;/div&gt;\
&lt;div id=&quot;postSex&quot; class=&quot;hide&quot;&gt;
  //You wonder idly for a moment if she&#39;s a famous streamer or something before getting up and\
    cleaning yourself up.\
    &lt;&lt;ifPlugged&gt;&gt;You grab your &lt;&lt;mcPlug&gt;&gt; from where you left it and reseat your toy in place.&lt;&lt;/ifPlugged&gt;&gt;\
    You should probably get back to finding $mgName.//
&lt;/div&gt;\
&lt;div id=&quot;mortalKombatChoice2&quot; class=&quot;hide&quot;&gt;
  //You shake your head, saying,// &lt;&lt;mcs&gt;&gt;&quot;No thanks,&quot;&lt;&lt;/mcs&gt;&gt; //as you get up to leave.//

  //The cute gamer girl pouts for a split second before rolling her eyes and turning back to the game.//\
    &lt;&lt;osay&gt;&gt;Fine. Whatever.&lt;&lt;/osay&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;mortalKombatEnd&quot; class=&quot;hide&quot;&gt;
  You:
* [[Head upstairs ▶▶▶|Entrance Fee]]
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Couch Duet]]
  [[Entrance Fee]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="74" name="Entrance Fee" tags="" position="3750,750" size="100,100">!Entrance Fee
\
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/entrance_fee_01.jpg&quot;&gt;\

//As you climb the stairs, a huge guy jumps out in front of you.\
  &lt;&lt;osay&gt;&gt;Yo. Girls have to pay to pass up here. Only true sluts and studs allowed.&lt;&lt;/osay&gt;&gt;

&lt;&lt;mcs&gt;&gt;&quot;I am a guy though,&quot;&lt;&lt;/mcs&gt;&gt; //you reply, realizing that you don&#39;t exactly\
  look like a &#39;stud&#39; at the moment.//

&lt;&lt;osay&gt;&gt;Not dressed like that you&#39;re not,&lt;&lt;/osay&gt;&gt; //he retorts.\
  &lt;&lt;osay&gt;&gt;I&#39;ll tell you what though, if you&#39;re a stud, you can arm wrestle me.\
  If you win, you pass. If not, there&#39;s three condoms on that table for you to drink.&lt;&lt;/osay&gt;&gt;\
  //He pauses for a moment,// &lt;&lt;osay&gt;&gt;Or you could just drink one now and be on your way,&lt;&lt;/osay&gt;&gt;

//You&#39;re sure that $mgName is up here and you&#39;re pretty sure she&#39;ll be ticked off if you don&#39;t\
  catch up to her. Only way out is ahead.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;entranceFeeChoose&quot;&gt;
  &lt;&lt;set _opt1Title=&quot;Alpha +1&quot;&gt;&gt;
  &lt;&lt;set _opt2Title=&quot;Sissy +1, Slut +1&quot;&gt;&gt;
  &lt;&lt;set _opt3Title=&quot;Sissy +2, Slut +1&quot;&gt;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;entranceFeeOpt1&quot; @title=&quot;_opt1Title&quot;&gt;
      &lt;&lt;link &quot;@@color:cyan;Arm wrestle him@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#entranceFeeChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#entranceFeeEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#armWrestle&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;aUp 1&gt;&gt;
        &lt;&lt;if $alphaLevel gte 8&gt;&gt;
          &lt;&lt;toggleclass &quot;#armWrestleWin&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#armWrestleLose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
          &lt;&lt;set $timesDrankCum to $timesDrankCum +2&gt;&gt;
          &lt;&lt;sUp 1&gt;&gt;
          &lt;&lt;uUp 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;entranceFeeOpt2&quot; @title=&quot;_opt2Title&quot;&gt;
      &lt;&lt;link &quot;@@color:magenta;Drink cum@@ @@color:red;from a condom@@ ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#entranceFeeChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#entranceFeeEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#entranceFeeChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;drankCum&gt;&gt;
        &lt;&lt;sUp 1&gt;&gt;
        &lt;&lt;uUp 1&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $hasPerkCumdrinker&gt;&gt;
      &lt;li id=&quot;entranceFeeOpt3&quot; @title=&quot;_opt3Title&quot;&gt;
        &lt;&lt;link &quot;@@color:magenta;Cumdrinker-@@ @@color:red;Drink all three@@ @@color:magenta;condoms@@ ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#entranceFeeChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#entranceFeeEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#entranceFeeChoice3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;drankCum&gt;&gt;
          &lt;&lt;set $timesDrankCum to $timesDrankCum +2&gt;&gt;
          &lt;&lt;sUp 1&gt;&gt;
          &lt;&lt;uUp 1&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;entranceFeeOptRand1&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#entranceFeeOptRand1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;entranceFeeOptRand2&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#entranceFeeOptRand2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#entranceFeeOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;armWrestle&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;ac &quot;Alpha +1&quot;&gt;&gt;You decide you&#39;re not just going to drink some random guy&#39;s\
    cum if you don&#39;t have to.&lt;&lt;/ac&gt;&gt;\
    Besides, this dude doesn&#39;t look //that// strong.//\
    &lt;&lt;mcs&gt;&gt;&quot;OK, you&#39;re on.&quot;&lt;&lt;/mcs&gt;&gt;

  //The guy shrugs and sits down on his side of the table that seems to have been set up just for this purpose.\
    You take your place opposite him and grip his offered hand, grasping it around the thumb.//

  &lt;&lt;osay&gt;&gt;On three. 3... 2... 1... GO!&lt;&lt;/osay&gt;&gt;

  //You both start straining against one another, each trying to pin the other&#39;s hand.//\
  &lt;span id=&quot;armWrestleWin&quot; class=&quot;hide&quot;&gt;\
    //Turns out this guy isn&#39;t as strong as he looks, or you&#39;re way stronger than you look.\
      Either way, it takes a solid two minutes to pin him, but he goes down,\
      grunting and straining the whole way.//

    &lt;&lt;osay&gt;&gt;Alright,&lt;&lt;/osay&gt;&gt; //he says, rubbing his wrist.//\
      &lt;&lt;osay&gt;&gt;You win. You can pass.&lt;&lt;/osay&gt;&gt;

    //You get up and start down the hall, debating where to go now.//
  &lt;/span&gt;\
  &lt;span id=&quot;armWrestleLose&quot; class=&quot;hide&quot;&gt;\
    //You immediately regret your decision to arm wrestle.\
      You&#39;re way outmatched here and he beats you soundly after only about 10 seconds of struggling.//

    //You&#39;re still sitting there rubbing your wrist when he stands over you, the three full condoms in hand.//\
      &lt;&lt;osay&gt;&gt;Open wide,&lt;&lt;/osay&gt;&gt; //he says, pulling your chin open and dumping one condom after another into\
      your mouth.//

    &lt;img src=&quot;images/ep03/entrance_fee_cum_drink_01.jpg&quot;&gt;\

    &lt;&lt;osay&gt;&gt;Now swallow, slut, and you can get out of here.&lt;&lt;/osay&gt;&gt;

    //&lt;&lt;sc &quot;Sissy +1, Slut +1&quot;&gt;&gt;You can&#39;t do anything else but obey at this point,&lt;&lt;/sc&gt;&gt;\
      &lt;&lt;uc &quot;Sissy +1, Slut +1&quot;&gt;&gt;and you swallow down the loads of cum covering your tongue and throat.&lt;&lt;/uc&gt;&gt;\
      The salty taste lingers in your mouth as get up and walk past the stair guard,\
      not looking him in the eye.//
  &lt;/span&gt;\
&lt;/div&gt;\
&lt;div id=&quot;entranceFeeChoice2&quot; @title=&quot;_opt2Title&quot; class=&quot;hide&quot;&gt;\
  //You decide not to to risk it. Besides, drinking cum isn&#39;t so bad, right?//

  &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/entrance_fee_cum_drink_02.jpg&quot;&gt;\

  //&lt;&lt;sc &quot;Sissy +1, Slut +1&quot;&gt;&gt;You pick up one of the condoms and &lt;&lt;/sc&gt;&gt;\
    &lt;&lt;uc &quot;Sissy +1, Slut +1&quot;&gt;&gt;drain it into your mouth, swallowing it down.&lt;&lt;/uc&gt;&gt;\
    The guy gives you a quick nod and steps out of your way.//
&lt;/div&gt;\
&lt;div id=&quot;entranceFeeChoice3&quot; @title=&quot;_opt2Title&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;sc &quot;Sissy +2, Slut +1&quot;&gt;&gt;There&#39;s no way you&#39;re going to pass up a chance to drink\
    all the cum you can get!&lt;&lt;/sc&gt;&gt;\
    &lt;&lt;uc &quot;Sissy +2, Slut +1&quot;&gt;&gt;You grab up all three condoms from the table and drain them\
    into your mouth one right after another.&lt;&lt;/uc&gt;&gt;//

    &lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/entrance_fee_cum_drink_02.jpg&quot;&gt;\

  //You take a moment to savor the flavor, admiring not just the initial saltiness,\
    but also the additional complex flavors involved.\
    You almost forget that the stair guard is still there until he speaks up.//

  &lt;&lt;osay&gt;&gt;OK, yeah, you&#39;re a true cumslut. Go on ahead,&lt;&lt;/osay&gt;&gt; //he smiles as you.//

  //Slightly embarrassed now, you push a bit of cum that leaked out of the corner of\
    your mouth back in, then lick your finger clean before swallowing the whole load in your mouth.\
    You step past him, still licking your lips.//
&lt;/div&gt;\
&lt;div id=&quot;entranceFeeEnd&quot; class=&quot;hide&quot;&gt;
  You:
  &lt;&lt;nobr&gt;&gt;&lt;ul&gt;
    &lt;li id=&quot;endOpt1&quot;&gt; &lt;&lt;link &quot;Check out the game in the hall ▶▶▶&quot; &quot;Guessing Game&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;
    &lt;li id=&quot;endOpt2&quot;&gt; &lt;&lt;link &quot;Head for the bathroom to wash up ▶▶▶&quot; &quot;Wet Accident&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;
    &lt;li id=&quot;endOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOptRand&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,2)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#endOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#endOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Guessing Game]]
  [[Wet Accident]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="75" name="Guessing Game" tags="" position="3600,750" size="100,100">!Guessing Game
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set _guessingAccuracy to ($sissyScore + $slutScore - $alphaScore)&gt;&gt;
  &lt;&lt;set _guesses to 0&gt;&gt;
  &lt;&lt;set _guessWins to 0&gt;&gt;
  &lt;&lt;set _guessFails to 0&gt;&gt;
  &lt;&lt;set _guessResultsText to &#39;&#39;&gt;&gt;
  &lt;&lt;set _guessFail to false&gt;&gt;
  &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;item&quot;] is &quot;Elf&quot;&gt;&gt;
    &lt;&lt;set _guessingAccuracy += 10&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $guessingGameRecord to $guessingGameRecord || 4&gt;&gt;
  &lt;&lt;set _previousRecord to $guessingGameRecord - 1&gt;&gt;

&lt;&lt;/silently&gt;&gt;\
\
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/guessing_game_01.jpg&quot;&gt;\

//In the middle of the hallway, you see a bunch of girls lined up near the wall,\
  all blindfolded, impaling themselves on a series of sex toys.\
  One of them walks up to you and explains that it&#39;s a guessing game.\
  While blindfolded, you choose a toy at random and either suck or sit on it.\
  You have to guess either its length or diameter correctly just swallowing or inserting it.//\
  &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;item&quot;] is &quot;Elf&quot;&gt;&gt;\
    &lt;&lt;osay&gt;&gt;Also, girls in elf costumes get a bonus to their guesses,\
    because we love sexy elves!&lt;&lt;/osay&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  //If you can beat the current record (_previousRecord correct guesses), you&#39;ll win a cash prize!//

&lt;center&gt;&lt;&lt;yc&gt;&gt;(( Your accuracy is determined by &lt;&lt;sc &quot;&quot;&gt;&gt;SissyScore&lt;&lt;/sc&gt;&gt; + \
  &lt;&lt;uc &quot;&quot;&gt;&gt;SlutScore&lt;&lt;/uc&gt;&gt; - &lt;&lt;ac &quot;&quot;&gt;&gt;AlphaScore.&lt;&lt;/ac&gt;&gt;\
  &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;item&quot;] is &quot;Elf&quot;&gt;&gt;\
    If you&#39;re wearing an Elf costume, you also get +10 to your accuracy score.\
  &lt;&lt;/if&gt;&gt;\
  A random die roll (1d100) determines your guess. If you roll under your accuracy score,\
  then you&#39;ve guessed correctly.\
  If you decide to play, you&#39;ll get 6 attempts; you need to get $guessingGameRecord out of 6 &quot;guesses&quot; right\
  in order to win. ))&lt;&lt;/yc&gt;&gt;&lt;/center&gt;\

&lt;&lt;osay&gt;&gt;So, you interested?&lt;&lt;/osay&gt;&gt;

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;guessingGameChoose&quot;&gt;
  You respond:
  &lt;ul&gt;
    &lt;li id=&quot;guessingGameOpt1&quot;&gt;
      &lt;&lt;link &quot;I&#39;m in ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessingGameChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessingGameChoice1&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;guessingGameOpt2&quot;&gt;
      &lt;&lt;link &quot;No thanks ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessingGameChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessingGameEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessingGameChoice2&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;guessingGameOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessingGameOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#guessingGameOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#guessingGameOpt1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;guessingGameChoice1&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;mcs&gt;&gt;&quot;Sure, I&#39;ll play,&quot;&lt;&lt;/mcs&gt;&gt; //you say.\
    You&#39;re light on cash right now, so you need to jump on any chance to earn some.\
    At least that&#39;s what you tell yourself.//

  //You take the offered blindfold and put it on, then get into position.//\

    &lt;ul id=&quot;firstGuess&quot;&gt;&lt;li&gt;&lt;&lt;link &quot;Take your first guess ▶▶▶&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#guessResultsDiv&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#firstGuess&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;guessingGameGuess&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;/li&gt;&lt;/ul&gt;\

  &lt;div id=&quot;guessResultsDiv&quot; class=&quot;hide&quot;&gt;\
    @@#guessResults;_guessResultsText@@\
    \
    &lt;&lt;nobr&gt;&gt;&lt;ul id=&quot;guessAgain&quot;&gt;&lt;li&gt;&lt;&lt;link &quot;Guess again ▶▶▶&quot;&gt;&gt;
      &lt;&lt;guessingGameGuess&gt;&gt;
      &lt;&lt;if (_guesses gte 6) or (_guessFails gte (5 - $guessingGameRecord))&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessAgain&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#guessingGameEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;if _guessWins gte $guessingGameRecord&gt;&gt;
          &lt;&lt;toggleclass &quot;#wonGame&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;replace &quot;#guessWins&quot;&gt;&gt;_guessWins&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $cash to $cash +10&gt;&gt;
          &lt;&lt;set $guessingGameRecord to (_guessWins + 1)&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#lostGame&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;if _guesses lt 6&gt;&gt;
            &lt;&lt;toggleclass &quot;#gaveUp&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/link&gt;&gt;&lt;/li&gt;&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\
  &lt;/div&gt;\

  &lt;span id=&quot;wonGame&quot; class=&quot;hide&quot;&gt;\
    //You won the game, setting a new record with &lt;&lt;yc&gt;&gt;@@#guessWins;_guessWins@@&lt;&lt;/yc&gt;&gt;\
      correct guesses!\
      You take off your blindfold to the cheers of the other girls in the hallway,\
      collecting high-fives and adulations from the other sluts.//

    &lt;&lt;osay&gt;&gt;You go slut!&lt;&lt;/osay&gt;&gt; //says one.//\
      &lt;&lt;osay&gt;&gt;Yeah girl, stretch those holes!&lt;&lt;/osay&gt;&gt; //cheers another.//

    //The organizer gives you a smile and holds out &lt;&lt;lgc&gt;&gt;$10.&lt;&lt;/lgc&gt;&gt;//\
      &lt;&lt;osay&gt;&gt;Here you go; you earned it!&lt;&lt;/osay&gt;&gt;

    //You pocket the money, then turn to leave, collecting a couple more high fives as\
      you move down the hallway.\
      &lt;&lt;mcs&gt;&gt;Weird,&lt;&lt;/mcs&gt;&gt; you think to yourself, &lt;&lt;mcs&gt;&gt;girls don&#39;t usually high-five\
      this much do they?&lt;&lt;/mcs&gt;&gt;\
      It occurs to you that some of these &quot;girls&quot; are probably &quot;gurls&quot; like you.//

    //You shake your head to clear the thought from your mind, and turn to deciding what to do next.//
  &lt;/span&gt;\
  &lt;span id=&quot;gaveUp&quot; class=&quot;hide&quot;&gt;\
    //You decide to stop there, giving up, knowing there&#39;s now way you can win now.//\
  &lt;/span&gt;\
  &lt;span id=&quot;lostGame&quot; class=&quot;hide&quot;&gt;\
    //You tear the blindfold off, annoyed at your loss.//

    &lt;&lt;osay&gt;&gt;Better luck next time&lt;&lt;/osay&gt;&gt; //the organizer says,\
      holding out a hand to take your blindfold.\
      You hand it over and then start to move off down the hallway,\
      trying to figure out what to do now.//
  &lt;/span&gt;\
&lt;/div&gt;\
&lt;div id=&quot;guessingGameChoice2&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;mcs&gt;&gt;&quot;Yeah, no thanks,&quot;&lt;&lt;/mcs&gt;&gt; //you say, deciding not to play.//

  //The girl that explained the rules just shrugs and turns away.//\
    &lt;&lt;osay&gt;&gt;Your loss.&lt;&lt;/osay&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;guessingGameEnd&quot; class=&quot;hide&quot;&gt;
  //You still haven&#39;t found $mgName yet.\
    Considering what you&#39;ve already experienced, you can&#39;t even guess what she&#39;s up to...//

  You:
  &lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  &lt;li id=&quot;endOpts1&quot;&gt;&lt;&lt;link &quot;Check out the bedroom ▶▶▶&quot; &quot;Party Maniac&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;li id=&quot;endOpts2&quot;&gt;
    &lt;&lt;if not hasVisited(&quot;Wet Accident&quot;)&gt;&gt;
      &lt;&lt;link &quot;Head for the bathroom to wash up ▶▶▶&quot; &quot;Wet Accident&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;link &quot;Head down the hall ▶▶▶&quot; &quot;Hi, I&#39;m Andrea&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/li&gt;
  &lt;li id=&quot;endOptsRand&quot;&gt;
    &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
      &lt;&lt;toggleclass &quot;#endOptsRand&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;set _rand to random(1,2)&gt;&gt;
      &lt;&lt;set _disableEndOpt to &quot;#endOpts&quot;+_rand&gt;&gt;
      &lt;&lt;toggleclass _disableEndOpt &quot;hide&quot;&gt;&gt;
    &lt;&lt;/link&gt;&gt;
  &lt;/li&gt;
  &lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
[[Wet Accident]]
[[Party Maniac]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="76" name="EP03 Guessing Game Widgets" tags="widget" position="750,1050" size="100,100">&lt;&lt;widget &quot;guessingGameGuess&quot;&gt;&gt;
  &lt;&lt;set _guesses++&gt;&gt;
  &lt;&lt;if _guesses gt 1&gt;&gt;
    &lt;&lt;set _guessResultsText to _guessResultsText + &quot;&lt;br&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set _guessResultsText to _guessResultsText + &quot;//You can feel someone move in front of you, offering you a toy. //&quot;&gt;&gt;
  &lt;&lt;set _coin to random(1,2)&gt;&gt;
  &lt;&lt;if _coin is 1&gt;&gt;
    &lt;&lt;set _guessResultsText to _guessResultsText +
    &quot;//You decide to suck on it, trying to figure out the size. The girl holds it up to your mouth, not letting you put your hands on it, and you lick and suck on the toy, swirling it around in your mouth, hoping that&#39;ll help you guess just how big it is.//&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _guessResultsText to _guessResultsText +
    &quot;//You feel like you&#39;re getting good at telling just how big an object you&#39;ve got shoved up your ass is so you opt to measure it there. You motion for the dildo to be placed on the ground and you squat down on it, teasing it in and out of your hole a few times before making your guess.//&lt;br&gt;&lt;br&gt;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set _rand to random(1,100)&gt;&gt;
  &lt;&lt;if _rand lte _guessingAccuracy&gt;&gt;
    &lt;&lt;set _guessResultsText to _guessResultsText + &quot;&lt;center&gt;&lt;&lt;sc &#39;&#39;&gt;&gt;Success! You were able to accurately guess the size!&lt;&lt;/sc&gt;&gt;&lt;/center&gt;&quot;&gt;&gt;
    &lt;&lt;set _guessWins++&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set _guessResultsText to _guessResultsText + &quot;&lt;center&gt;&lt;&lt;uc &#39;&#39;&gt;&gt;Fail! Your guess was too far off; looks like you need more practice!&lt;&lt;/uc&gt;&gt;&lt;/center&gt;&quot;&gt;&gt;
    &lt;&lt;set _guessFails++&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;replace &quot;#guessResults&quot;&gt;&gt;_guessResultsText&lt;&lt;/replace&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="77" name="Party Maniac" tags="" position="3450,750" size="100,100">!Party Maniac
&lt;img src=&quot;images/ep03/party_maniac_01.jpg&quot;&gt;\

//In the corder of the hall in front of the bedroom door stands a guy,\
visibly drunk.//

&lt;&lt;osay&gt;&gt;Whoohoo! Enjoying yourself!&lt;&lt;/osay&gt;&gt;\
  //He doesn&#39;t wait for you to answer.//\
  &lt;&lt;osay&gt;&gt;Now, see, the REAL party is behind this door here and &#39;&#39;I&#39;m&#39;&#39; the one\
  who decides who gets in, and who&#39;s stuck out here.\
  So, you want in?&lt;&lt;/osay&gt;&gt;

//He eyes you up and down.//\
  &lt;&lt;osay&gt;&gt;It&#39;ll cost ya! I want your panties!&lt;&lt;/osay&gt;&gt;\
  //He pauses a quick beat before continuing.//\
  &lt;&lt;osay&gt;&gt;If you don&#39;t want in to the REAL party, before you go,\
  I&#39;m gettin&#39; kinda lonely just watchin&#39; the door here, so either have a drink with me,\
  or gimme a kiss. Don&#39;t be uptight!&lt;&lt;/osay&gt;&gt;\
  //He smirks at you, awaiting your answer.//

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;partyManiacChoose&quot;&gt;
  &lt;center&gt;&lt;&lt;yc &#39;&#39;&gt;&gt;((NOTE: It&#39;s possible to visit this scene multiple times,
  however you&#39;ll only receive stat changes the first time.))&lt;&lt;/yc&gt;&gt;&lt;/center&gt;&lt;br&gt;

  &lt;&lt;set _opt1Title=&quot;Slut +1&quot;&gt;&gt;
  &lt;&lt;set _opt2Title=&quot;Alpha +1&quot;&gt;&gt;
  &lt;&lt;set _opt3Title=&quot;Lose your panties!&quot;&gt;&gt;
  &lt;&lt;set _opt4Title=&quot;Alpha move! Available because your AlphaLevel &gt;= 5. Alpha +2&quot;&gt;&gt;
  You:
  &lt;ul&gt;
    &lt;li id=&quot;partyManiacOpt1&quot; @title=&quot;_opt1Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;uc _opt1Title&gt;&gt;Kiss him so you can leave&lt;&lt;/uc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;if $ep03PartyManiacVisited != true&gt;&gt;
          &lt;&lt;uUp 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;partyManiacOpt2&quot; @title=&quot;_opt2Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;ac _opt2Title&gt;&gt;Have a drink with him so you can leave&lt;&lt;/ac&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;if $ep03PartyManiacVisited != true&gt;&gt;
          &lt;&lt;aUp 1&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;partyManiacOpt3&quot; @title=&quot;_opt3Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;yc _opt3Title&gt;&gt;Give up your &lt;&lt;mcUnderwear&gt;&gt; to get into the bedroom&lt;&lt;/yc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#partyManiacChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;removeItem &quot;underwear&quot;&gt;&gt;
        &lt;&lt;set $ep03LostPanties to true&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;&lt;if $alphaLevel gte 5&gt;&gt;
      &lt;li id=&quot;partyManiacOpt4&quot; @title=&quot;_opt3Title&quot;&gt;
        &lt;&lt;link &quot;&lt;&lt;ac _opt4Title&gt;&gt;Push past him and leave&lt;&lt;/ac&gt;&gt; ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#partyManiacChoose&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#partyManiacEnd&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#partyManiacChoice4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;if $ep03PartyManiacVisited != true&gt;&gt;
            &lt;&lt;aUp 2&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
      &lt;li id=&quot;partyManiacOptRand1&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#partyManiacOptRand1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,4)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt3&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt3&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 3&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt4&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li id=&quot;partyManiacOptRand2&quot;&gt;
        &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#partyManiacOptRand2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;set _rand to random(1,3)&gt;&gt;
          &lt;&lt;if _rand is 1&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt2&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;elseif _rand is 2&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt3&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;else&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt1&quot; &quot;hide&quot;&gt;&gt;
            &lt;&lt;toggleclass &quot;#partyManiacOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;partyManiacChoice1&quot; @title=&quot;_opt1Title&quot; class=&quot;hide&quot;&gt;\
  //You decide to just kiss him and go.\
    &lt;&lt;uc &#39;&#39;&gt;&gt;You pucker up for a kiss and lean in.\
    He roughly grabs the back of your neck and pulls you in,\
    drunkenly slobbering all over you as he kisses you and shoves his tongue into your mouth.&lt;&lt;/uc&gt;&gt;//

  //He tastes of stale beer and cigarettes and you&#39;re forced to stand here,\
    making out with the drunken fool for what feels like several minutes\
    before he finally lets you go.//\
    &lt;&lt;osay&gt;&gt;Hawt!&lt;&lt;/osay&gt;&gt; //he says when he finally releases you.\
    He gives you a slap on your ass as you walk away.//
&lt;/div&gt;\
&lt;div id=&quot;partyManiacChoice2&quot; @title=&quot;_opt2Title&quot; class=&quot;hide&quot;&gt;\
  &lt;&lt;mcs&gt;&gt;&quot;Gimme a beer,&quot;&lt;&lt;/mcs&gt;&gt; //you say.//

  //The maniac blinks and looks at you as if for the first time.//\
    &lt;&lt;osay&gt;&gt;Alright, uh, dude,&lt;&lt;/osay&gt;&gt; //he says, handing you an unopened beer.\
    &lt;&lt;ac &#39;&#39;&gt;&gt;The two of you stand there and bullshit for a few minutes while\
    you drink your beer.&lt;&lt;/ac&gt;&gt;//

  //As you turn to leave, he slaps you on the back, saying,//\
  &lt;&lt;osay&gt;&gt;Yer alright man! Come hang again!&lt;&lt;/osay&gt;&gt;
&lt;/div&gt;\
&lt;div id=&quot;partyManiacChoice3&quot; class=&quot;hide&quot;&gt;\
  //You&#39;re sure that $mgName has to be in that bedroom; you&#39;ve looked basically everywhere else.\
    You take off your &lt;&lt;mcUnderwear&gt;&gt; and hand them over.//\
    &lt;&lt;yc&gt;&gt;((You have lost your &lt;&lt;mcUnderwear&gt;&gt;!))&lt;&lt;/yc&gt;&gt;

  //The maniac&#39;s smile widens as he pockets your &lt;&lt;mcUnderwear&gt;&gt;.//\
    &lt;&lt;osay&gt;&gt;Won&#39;t be needing these in there anyway.&lt;&lt;/osay&gt;&gt;\
    //He gives you a wink before opening the door to let you through.//

  You:
  &lt;ul&gt;&lt;li&gt;[[Go in ▶▶▶|There She Is]]&lt;/li&gt;&lt;/ul&gt;
&lt;/div&gt;\
&lt;div id=&quot;partyManiacChoice4&quot; @title=&quot;_opt4Title&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;ac &#39;&#39;&gt;&gt;You&#39;ve had enough of this bullshit and push past him.&lt;&lt;/ac&gt;&gt;\
    He might be able to keep you out of the bedroom, but he can&#39;t keep you here in the hallway.//

  &lt;&lt;osay&gt;&gt;Lame!&lt;&lt;/osay&gt;&gt; //he yells at your back as you walk away.//
&lt;/div&gt;\
&lt;div id=&quot;partyManiacEnd&quot; class=&quot;hide&quot;&gt;
  You:
  &lt;&lt;nobr&gt;&gt;&lt;ul&gt;
    &lt;li id=&quot;endOpt1&quot;&gt;
      &lt;&lt;link &quot;Check out the game in the hall ▶▶▶&quot; &quot;Guessing Game&quot;&gt;&gt;
        &lt;&lt;set $ep03PartyManiacVisited to true&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;endOpt2&quot;&gt;
      &lt;&lt;link &quot;Head down the hall towards the bathroom ▶▶▶&quot; &quot;Hi, I&#39;m Andrea&quot;&gt;&gt;
        &lt;&lt;set $ep03PartyManiacVisited to true&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;endOptsRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOptsRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;set _disableEndOpt to &quot;#endOpts&quot;+_rand&gt;&gt;
        &lt;&lt;toggleclass _disableEndOpt &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Guessing Game]]
  [[Hi, I&#39;m Andrea]]
  [[There She Is]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="78" name="Wet Accident" tags="" position="3750,900" size="100,100">!Wet Accident
\
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/wet_accident_01.jpg&quot;&gt;\

//You walk into the bathroom to freshen up, but as you turn on the sink,\
  it detaches and starts spraying water everywhere.\
  You&#39;re immediately soaked from head to toe.//

//You fumble blindly to find the auxiliary shutoff and eventually you&#39;re\
  able to stop the torrent of water.//

//&lt;&lt;mcs&gt;&gt;Maybe I&#39;ll win a wet t-shirt contest like this,&lt;&lt;/mcs&gt;&gt;\
  you think to yourself.\
  &lt;&lt;mcs&gt;&gt;Maybe not; no boobs,&lt;&lt;/mcs&gt;&gt; you think, looking down at your chest.\
  &lt;&lt;mcs&gt;&gt;Is that something I want?&lt;&lt;/mcs&gt;&gt; you start to wonder,\
  before shaking the thought from your head.\
  You&#39;ll have to think about that later...//

//As you&#39;re standing there musing, suddenly, there&#39;s a pounding at the door.//\

* [[What now? ▶▶▶|Toilet Play]]</tw-passagedata><tw-passagedata pid="79" name="Toilet Play" tags="" position="3600,900" size="100,100">&lt;&lt;silently&gt;&gt;
  &lt;&lt;if ndef $redBandsFucked&gt;&gt;
    &lt;&lt;set $redBandsFucked to 0&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
!Toilet Play
\
//As you walk over to check the door, a large shemale bursts in.//

&lt;&lt;osay&gt;&gt;Fuck! That pill was NOT ecstasy!\
  That fucker gave me viagra! I&#39;m gonna kill that asshole!&lt;&lt;/osay&gt;&gt;

//She stops suddenly, seeing you standing there soaking wet, looking particularly vulnerable.//

&lt;&lt;osay&gt;&gt;Well lookie here! how about you help a girl out, huh?&lt;&lt;/osay&gt;&gt;\
  //she says, reaching back to lock the bathroom door behind her with one hand,\
  and pulling her massive erection from her pants with the other.//

&lt;&lt;osay&gt;&gt;Looks like it&#39;s my lucky day; you&#39;re gonna help me deal with this!&lt;&lt;/osay&gt;&gt;\

&lt;&lt;nobr&gt;&gt;&lt;div id=&quot;toiletPlayChoose&quot;&gt;
  &lt;&lt;set _opt1Title=&quot;Slut +1&quot;&gt;&gt;
  &lt;&lt;set _opt2Title=&quot;Slut +2&quot;&gt;&gt;
  &lt;&lt;set _opt3Title=&quot;Slut +3&quot;&gt;&gt;
  &lt;&lt;set _opt4Title=&quot;Alpha -1&quot;&gt;&gt;
  &lt;br&gt;You:
  &lt;ul&gt;
    &lt;li id=&quot;toiletPlayOpt1&quot; @title=&quot;_opt1Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;uc _opt1Title&gt;&gt;Bend over the toilet&lt;&lt;/uc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#pre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoice1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fucked&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;creampied&gt;&gt;
        &lt;&lt;uUp 1&gt;&gt;
        &lt;&lt;set $redBandsFucked++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;toiletPlayOpt2&quot; @title=&quot;_opt2Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;uc _opt2Title&gt;&gt;Lay on your back on the toilet&lt;&lt;/uc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#pre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoice2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fucked&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;creampied&gt;&gt;
        &lt;&lt;uUp 2&gt;&gt;
        &lt;&lt;set $redBandsFucked++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;toiletPlayOpt3&quot; @title=&quot;_opt3Title&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;uc _opt3Title&gt;&gt;Let her &#39;man-handle&#39; you&lt;&lt;/uc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#pre&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoice3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#fucked&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;creampied&gt;&gt;
        &lt;&lt;uUp 3&gt;&gt;
        &lt;&lt;set $redBandsFucked++&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;toiletPlayOpt4&quot;&gt;
      &lt;&lt;link &quot;&lt;&lt;gc _opt4Title&gt;&gt;Flee!&lt;&lt;/gc&gt;&gt; ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoose&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayEnd&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayChoice4&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set $alphaScore--&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;toiletPlayOptRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#toiletPlayOptRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,4)&gt;&gt;
        &lt;&lt;if _rand is 1&gt;&gt;
          &lt;&lt;toggleclass &quot;#toiletPlayOpt2&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#toiletPlayOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;elseif _rand is 2&gt;&gt;
          &lt;&lt;toggleclass &quot;#toiletPlayOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#toiletPlayOpt3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;else&gt;&gt;
          &lt;&lt;toggleclass &quot;#toiletPlayOpt1&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#toiletPlayOpt2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;div id=&quot;pre&quot; class=&quot;hide&quot;&gt;
  &lt;img src=&quot;images/ep03/toilet_play_01.jpg&quot;&gt;\
&lt;/div&gt;
&lt;div id=&quot;toiletPlayChoice1&quot; @title=&quot;_opt1Title&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;uc _opt1Title&gt;&gt;Seeing no other choice, you turn around and bend over the toilet.&lt;&lt;/uc&gt;&gt;\
    You pull your &lt;&lt;mcPants&gt;&gt; down, exposing your &lt;&lt;ifPlugged&gt;&gt;already stuffed&lt;&lt;/ifPlugged&gt;&gt; asshole.\
  //

  //&lt;&lt;ifPlugged&gt;&gt;She steps up behind you and you can feel her roughly grab your &lt;&lt;mcPlug&gt;&gt;\
    and pull it from your ass.&lt;&lt;/ifPlugged&gt;&gt;\
    You can feel her line up her cock with your waiting hole and the cold splash of lube as she pours\
    it directly on your rosebud.\
    The lube has barely landed before she&#39;s pressing into you,\
    forcing herself deep into your ass with her first thrust.\
  //
&lt;/div&gt;\
&lt;div id=&quot;toiletPlayChoice2&quot; @title=&quot;_opt2Title&quot; class=&quot;hide&quot;&gt;\
  //You glance over at the door, figuring you&#39;ve probably got a fair bit of privacy here\
    and decide to just go with it.\
    &lt;&lt;uc _opt2Title&gt;&gt;You lay back on the closed toilet lid and pull of your &lt;&lt;mcPants&gt;&gt;\
    and &lt;&lt;mcUnderwear&gt;&gt;, exposing your asshole.&lt;&lt;/uc&gt;&gt;\
    &lt;&lt;ifPlugged&gt;&gt;You pull the &lt;&lt;mcPlug&gt;&gt; from your ass and set it off to the side.&lt;&lt;/ifPlugged&gt;&gt;\
    She steps up to you and squirts a small dollop of lube on your rosebud as she lines herself up\
    and slams her cock deep into your ass.\
  //
&lt;/div&gt;\
&lt;div id=&quot;toiletPlayChoice3&quot; @title=&quot;_opt3Title&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;uc _opt3Title&gt;&gt; You give here a coy look, raising one eyebrow and licking your\
    lips seductively.&lt;&lt;/uc&gt;&gt;//\
    &lt;&lt;mcs&gt;&gt;&quot;Come over here and take me then,&quot;&lt;&lt;/mcs&gt;&gt; //you say.\
    Her eyes go wide with lust and she steps up to you, grabbing you in a forceful kiss.\
    She shoves her tongue down your throat and grabs your ass, squeezing full-force.\
  //

  //The kiss lasts only a moment before she pulls away, grabs you by the shoulders,\
    and spins you around.\
    She shoves your head down and forward, stripping you of your &lt;&lt;mcPants&gt;&gt; and \
    &lt;&lt;mcUnderwear&gt;&gt; in one smooth move.\
    The sudden movement forces you to lose your balance, and you stumble forward as your\
    &lt;&lt;mcPants&gt;&gt; are stripped from you.\
    You catch yourself with your head in the toilet, your nose just an inch or so above the water.\
  //

  //She either doesn&#39;t notice, or doesn&#39;t care.\
    &lt;&lt;ifPlugged&gt;&gt;She roughly pulls the &lt;&lt;mcPlug&gt;&gt; from your ass\
    and tosses it off to the side.&lt;&lt;/ifPlugged&gt;&gt;\
    A glob of spit connects with your rosebud a moment before the head of her cock\
    starts pressing into you.\
    You wince as she slams the rest of it home, giving you the full length in one smooth thrust.\
  //
&lt;/div&gt;\
&lt;div id=&quot;fucked&quot; class=&quot;hide&quot;&gt;
  //It&#39;s immediately obvious that she&#39;s only interested in getting herself off and she gives your\
    poor battered asshole no consideration as she starts pounding away with all her might.\
    She shows your ass no mercy, slamming in full force, then pulling out until just the tip remains\
    before slamming the full length back in again.\
  //

  //This might be the roughest fucking you&#39;ve had since you started on this journey.\
    The mix of pain and pleasure form the rough fucking throws your mind into a mess,\
    leaving you thoroughly unable to think clearly or form any coherent words as you&#39;re being ravaged.\
    You don&#39;t even realize how loud you&#39;re moaning with each thrust for nearly\
    a minute as she pounds away at you.\
  //

  //Before you can even really start to build up to a climax, she&#39;s already done!\
    She buries her cock deep in your ass and erupts, spewing her load deep in your ass!\
    She gives a couple more half-thrusts as her eyes roll back in her head,\
    he cock spewing a second, third, then fourth glob of baby-batter into your rectum.\
  //

  //She stumbles backward, almost as if in a daze.\
    //&lt;&lt;ifPlugged&gt;&gt;//She bends down to where your &lt;&lt;mcPlug&gt;&gt; landed, picks it up, then roughly\
    shoves it back into your gaping fuckhole.//\
    &lt;&lt;osay&gt;&gt;That&#39;ll keep my cum from leaking out, you little creampuff!&lt;&lt;/osay&gt;&gt;&lt;&lt;/ifPlugged&gt;&gt;\
    //She gives you one last nod before stepping out of the room, leaving you to clean yourself up.\
  //

  //You extricate yourself from the toilet then take your time cleaning up.\
    The rough but short fucking left you hornier than before,\
    but you figure you should get out of here before she comes back;\
    she was still hard when she left..\
  //
&lt;/div&gt;\
&lt;div id=&quot;toiletPlayChoice4&quot; @title=&quot;_opt4Title&quot; class=&quot;hide&quot;&gt;\
  //&lt;&lt;gc _opt4Title&gt;&gt;You decide to run instead of staying and being ravaged\
    by the horny shemale!&lt;&lt;/gc&gt;&gt;\
    You shove past her, ducking her arm and throw yourself at the door,\
    grabbing and twisting the handle while pulling all at the same time.\
    If not for your immediate situation, you might have been impressed with your own dexterity.\
    As it is, you&#39;re grateful to find yourself back out in the hallway.//

  //Still in the bathroom, you can hear your would-be assailant yell out in frustration,\
    but she elects not to chase you.\
    The sound of furious masturbation commences.
  //
&lt;/div&gt;\
&lt;div id=&quot;toiletPlayEnd&quot; class=&quot;hide&quot;&gt;
  You:
  &lt;&lt;nobr&gt;&gt;&lt;ul&gt;
    &lt;li id=&quot;endOpt1&quot;&gt;
      &lt;&lt;link &quot;Check out the game in the hall ▶▶▶&quot; &quot;Guessing Game&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;endOpt2&quot;&gt;
        &lt;&lt;link &quot;Head down the hall towards the bedroom ▶▶▶&quot; &quot;Hi, I&#39;m Andrea&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
    &lt;li id=&quot;endOptsRand&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOptsRand&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;set _disableEndOpt to &quot;#endOpts&quot;+_rand&gt;&gt;
        &lt;&lt;toggleclass _disableEndOpt &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;
&lt;/div&gt;\
\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Hi, I&#39;m Andrea]]
  [[Guessing Game]]
  [[Party Maniac]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="80" name="Hi, I&#39;m Andrea" tags="" position="3450,900" size="100,100">!Hi, I&#39;m Andrea
\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;if $metAndrea != true&gt;&gt;
    &lt;&lt;aUp 2&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;
\
&lt;img class=&quot;tall_img&quot; src=&quot;images/ep03/hi_im_andrea_01.jpg&quot;&gt;\

//In the middle of the hall stands a tall voluptuous girl with white hair dressed as 2B.\
She seems a bit shy, but when she notices you, she greets you.//

&lt;&lt;asay&gt;&gt;Hi there, I&#39;m Andrea. Enjoying the party?&lt;&lt;/asay&gt;&gt;

//You introduce yourself,// &lt;&lt;mcs&gt;&gt;&quot;Uh, yeah, I guess. I&#39;m $name.&quot;&lt;&lt;/mcs&gt;&gt;

//The two of you chat for a while before she says she has to go.//\
  &lt;&lt;asay&gt;&gt;I&#39;m glad we&#39;ve met. I&#39;m sure we&#39;ll meet again soon though. See ya!&lt;&lt;/asay&gt;&gt;

//As she walks away, you have a feeling you&#39;ll be seeing her around a lot, though you&#39;re not sure why.\
  &lt;&lt;ac &#39;Alpha +2&#39;&gt;&gt;In any case, the attention of such a girl, even for a few moments,\
  boosted your confidence!&lt;&lt;/ac&gt;&gt;//
\
&lt;&lt;if $metAndrea is true&gt;&gt;
  &lt;&lt;yc &#39;&#39;&gt;&gt;(( NOTE: It&#39;s possible to see this scene multiple times but you&#39;ll only gain bonuses\
    from it the first time! ))&lt;&lt;/yc&gt;&gt;
&lt;&lt;/if&gt;&gt;\

You:
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  &lt;li id=&quot;endOpts1&quot;&gt;&lt;&lt;link &quot;Check out the bedroom ▶▶▶&quot; &quot;Party Maniac&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;li id=&quot;endOpts2&quot;&gt;&lt;&lt;link &quot;Head back downstairs (ends the party) ▶▶▶&quot; &quot;Judges&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;
  &lt;&lt;if not hasVisited(&quot;Wet Accident&quot;)&gt;&gt;
    &lt;li id=&quot;endOpts3&quot;&gt;&lt;&lt;link &quot;Head for the bathroom to wash up ▶▶▶&quot; &quot;Wet Accident&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/li&gt;
    &lt;li id=&quot;endOptsRand1&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOptsRand1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOpts1&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOpts2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOpts3&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,3)&gt;&gt;
        &lt;&lt;set _enableEndOpt to &quot;#endOpts&quot;+_rand&gt;&gt;
        &lt;&lt;toggleclass _enableEndOpt &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;&lt;else&gt;&gt;
    &lt;li id=&quot;endOptsRand2&quot;&gt;
      &lt;&lt;link &quot;Random ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#endOptsRand2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;set _rand to random(1,2)&gt;&gt;
        &lt;&lt;set _disableEndOpt to &quot;#endOpts&quot;+_rand&gt;&gt;
        &lt;&lt;toggleclass _disableEndOpt &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;&lt;/if&gt;&gt;

&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Party Maniac]]
  [[Wet Accident]]
  [[Judges]]

  &lt;&lt;set $metAndrea to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="81" name="There She Is" tags="Bottom" position="3300,750" size="100,100">&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $ep03FoundHer to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
\
!End of current content
\
This is the end of the current content for Episode 3 (v0.3.2).\
  You can save your game here and pick back up when the next release it out.

Thanks for playing! Check back for future updates!

If you can, [[please consider supporting the author|Support]]!
&lt;&lt;silently&gt;&gt;
[[Join the Fun]]
[[Knot Knot]]
[[Enjoy the View]]
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="82" name="Join the Fun" tags="Bottom" position="3150,750" size="100,100">1x
[[Enjoy the View]]
[[Knot Knot]]
[[Pool Party]]</tw-passagedata><tw-passagedata pid="83" name="Knot Knot" tags="Bottom" position="3300,900" size="100,100">1x
[[Join the Fun]]
[[Enjoy the View]]
[[Pool Party]]
[[Party Clean Up]]</tw-passagedata><tw-passagedata pid="84" name="Enjoy the View" tags="Bottom" position="3150,900" size="100,100">1x
[[Pool Party]]
[[Knot Knot]]
[[Party Clean Up]]</tw-passagedata><tw-passagedata pid="85" name="Pool Party" tags="Bottom" position="3150,1050" size="100,100">1x
[[Join the Fun]]
[[Enjoy the View]]
[[Knot Knot]]
[[Party Clean Up]]</tw-passagedata><tw-passagedata pid="86" name="Party Clean Up" tags="Bottom" position="3300,1050" size="100,100">1x
[[Judges]]</tw-passagedata><tw-passagedata pid="87" name="Judges" tags="" position="3450,1050" size="100,100">!End of current content
\
This is the end of the current content for Episode 3 (v0.3.2).\
  You can save your game here and pick back up when the next release it out.

Thanks for playing! Check back for future updates!

If you can, [[please consider supporting the author|Support]]!
&lt;&lt;silently&gt;&gt;
[[Time to Rest]] (Didn&#39;t find her)
[[Pile Up]] (Found her)
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="88" name="Time to Rest" tags="" position="3600,1050" size="100,100">[[EP3 End Card]]</tw-passagedata><tw-passagedata pid="89" name="Pile Up" tags="" position="3750,1050" size="100,100">[[EP3 End Card]]</tw-passagedata><tw-passagedata pid="90" name="EP3 End Card" tags="" position="3675,1200" size="100,100">!Episode 3 End
&#39;&#39;End of Episode 3 - &quot;Costume Party&quot;&#39;&#39;

Thanks for playing! Check back for future updates!

If you can, [[please consider supporting the author|Support]]!

&lt;&lt;silently&gt;&gt;
  /* TODO: Handle $ep03LostPanties from Party Maniac */
  &lt;&lt;unset $ep03FoundHer&gt;&gt;
  &lt;&lt;unset $redBandsFucked&gt;&gt;
  &lt;&lt;unset $guessingGameRecord&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="91" name="Game Over - Went to the Police" tags="" position="950,0" size="100,100">!Game Over - Went to the Police
&lt;&lt;set $mcStatus to &quot;Witness protection!&quot;&gt;&gt;\
&lt;img src=&quot;images/game_over/police_lights_car.jpg&quot; alt=&quot;A police car at night with its lights on.&quot;&gt;

//You&#39;ve rejected this side of yourself and try to move on and pick back up your life and dignity.\
This is the end of your journey into the feminine, at least for now...//
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  /* &lt;span title=&quot;Start over, this time already locked in chastity without your key! Alpha=-10, Sissy=5&quot;&gt;*/&lt;li&gt;
    &lt;&lt;link &quot;@@color:magenta;Start again with a little boost... ▶▶▶@@&quot; &quot;Chastity Prologue&quot;&gt;&gt;
      &lt;&lt;script&gt;&gt;
        Engine.restart();
        Engine.play(&quot;StoryInit&quot;, true);
      &lt;&lt;/script&gt;&gt;
      &lt;&lt;chastityStart&gt;&gt;
    &lt;&lt;/link&gt;&gt;
  &lt;/li&gt;/*&lt;/span&gt;*/
&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;
&lt;&lt;silently&gt;&gt;
  &lt;&lt;toggleclass &quot;#menu-item-restart&quot; &quot;hide&quot;&gt;&gt;
  /* Hidden Links */
  [[Chastity Prologue]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="92" name="Game Over - She Hates You" tags="" position="825,0" size="100,100">! Game Over - $mgName Hates You
&lt;img src=&quot;images/game_over/girl_angry_close_up_01.jpg&quot; alt=&quot;Enraged blue-haired girl.&quot;&gt;

//$mgNames had enough. You&#39;re obviously not interested in pursuing a relationship with her and she&#39;s done with you. Have fun with the rest of your life.//

Try again?:
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  /*&lt;span title=&quot;Start over, this time already locked in chastity without your key! Alpha=-10, Sissy=5&quot;&gt;*/&lt;li&gt;
    &lt;&lt;link &quot;@@color:magenta;Start again with a little boost... ▶▶▶@@&quot; &quot;Chastity Prologue&quot;&gt;&gt;
      &lt;&lt;script&gt;&gt;
        Engine.restart();
        Engine.play(&quot;StoryInit&quot;, true);
      &lt;&lt;/script&gt;&gt;
      &lt;&lt;chastityStart&gt;&gt;
    &lt;&lt;/link&gt;&gt;
  &lt;/li&gt;/*&lt;/span&gt;*/
&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;
&lt;&lt;silently&gt;&gt;
  &lt;&lt;toggleclass &quot;#menu-item-restart&quot; &quot;hide&quot;&gt;&gt;
  /* Hidden Links */
  [[Chastity Prologue]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="93" name="PassageDone" tags="Config" position="50,725" size="100,100">/* Used for post-passage-display tasks, like redoing dynamic changes (happens after the rendering and display of each passage). Generates no output. */

/* ==== START: Clothes and Items Display Handling ==== */
&lt;&lt;if passage() is &quot;Inspect Self&quot;&gt;&gt;
  &lt;&lt;if $dildoInflatableOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crDildoInflatable&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
     &lt;&lt;if $vibeBulletOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crVibeBullet&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if passage() is &quot;Dressing Room&quot;&gt;&gt;
  /* Clothing Owned */
  &lt;&lt;if $boxersOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBoxers&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $boyshortsOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBoyshorts&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $pantiesClassicOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPantiesClassic&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $pantiesCheekyOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPantiesCheeky&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $pantiesBikiniOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPantiesBikini&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $socksOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crSocks&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $kneehighsOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crKneehighs&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $pantyhoseOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPantyhose&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $pantsOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPants&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $shortShortsOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crShortShorts&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $skirtLongOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crSkirtLong&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $buttondownMOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crButtondownM&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $tshirtFOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crTshirtF&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $tshirtMOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crTshirtM&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $hoodieOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crHoodie&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $hoodieOversizedOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crHoodieOversized&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  /* Accessories Owned */
  &lt;&lt;if $bodyHarnessOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBodyHarness&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $collarRingedOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crCollarRing&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $collarShockOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crCollarShock&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $collarSpikedOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crCollarSpiked&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $nippleClampsOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crNippleClamps&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  /* Clothing Worn */
  &lt;&lt;set _clothingTypes to [&quot;underwear&quot;, &quot;hosiery&quot;, &quot;fullBody&quot;, &quot;lowerBody&quot;, &quot;upperBody&quot;, &quot;accessoryNeck&quot;, &quot;accessoryBody&quot;,
    &quot;accessoryNips&quot;, &quot;accessoryStrapon&quot;, &quot;cockToy&quot;, &quot;insertable&quot;, &quot;costume&quot;]&gt;&gt;
  &lt;&lt;for _i to 0; _i lt _clothingTypes.length; _i++&gt;&gt;
    &lt;&lt;if def $itemsWorn[_clothingTypes[_i]] and
      $itemsWorn[_clothingTypes[_i]][&quot;worn&quot;] and
      $itemsWorn[_clothingTypes[_i]][&quot;item&quot;] isnot &quot;&quot;&gt;&gt;
      &lt;&lt;set _underwearSectionID to &quot;#cr&quot; + $itemsWorn[_clothingTypes[_i]][&quot;item&quot;]&gt;&gt;
      &lt;&lt;toggleclass _underwearSectionID &quot;hide&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;

  /* Cock Toys Owned */
  &lt;&lt;if $chastityCageOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crChastityCage&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $chastityCageSmallOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crChastityCageSmall&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $cockRingOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crCockRing&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $straponOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crStrapon&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  /* Costumes Owned */
  &lt;&lt;set _costumesList to [&quot;Catgirl&quot;, &quot;Demon&quot;, &quot;Elf&quot;, &quot;Schoolgirl&quot;]&gt;&gt;
  &lt;&lt;for _i to 0; _i lt _costumesList.length; _i++&gt;&gt;
    &lt;&lt;if $costumesOwned[_costumesList[_i]]&gt;&gt;
      &lt;&lt;set _costumeID to &quot;#cr&quot; + _costumesList[_i]&gt;&gt;
      &lt;&lt;toggleclass _costumeID &quot;hide&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if passage() is &quot;Inspect Self&quot; or passage() is &quot;Dressing Room&quot;&gt;&gt;
  /* Clothing Worn */
  &lt;&lt;set _clothingTypes to [&quot;underwear&quot;, &quot;hosiery&quot;, &quot;fullBody&quot;, &quot;lowerBody&quot;, &quot;upperBody&quot;, &quot;accessoryNeck&quot;, &quot;accessoryBody&quot;,
    &quot;accessoryNips&quot;, &quot;accessoryStrapon&quot;, &quot;cockToy&quot;, &quot;insertable&quot;, &quot;costume&quot;]&gt;&gt;
  &lt;&lt;for _i to 0; _i lt _clothingTypes.length; _i++&gt;&gt;
    &lt;&lt;if def $itemsWorn[_clothingTypes[_i]] and
      $itemsWorn[_clothingTypes[_i]][&quot;worn&quot;] and
      $itemsWorn[_clothingTypes[_i]][&quot;item&quot;] isnot &quot;&quot;&gt;&gt;
      &lt;&lt;set _underwearSectionID to &quot;#cr&quot; + $itemsWorn[_clothingTypes[_i]][&quot;item&quot;] + &quot;Worn&quot;&gt;&gt;
      &lt;&lt;toggleclass _underwearSectionID &quot;hide&quot;&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;

  /* Insertables Worn */
  &lt;&lt;if $beadsSmallWorn is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsSmall&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsSmallWorn&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $beadsMediumWorn is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsMedium&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsMediumWorn&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $beadsLargeWorn is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsLarge&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsLargeWorn&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $plugSmallWorn is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugSmall&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugSmallWorn&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $plugMediumWorn is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugMedium&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugMediumWorn&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $plugLargeWorn is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugLarge&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugLargeWorn&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $plugHugeWorn is true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugHuge&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugHugeWorn&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  /* Insertables Owned */
  &lt;&lt;if $plugSmallOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugSmall&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $plugMediumOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugMedium&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $plugLargeOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugLarge&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $plugHugeOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crPlugHuge&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if passage() is &quot;Inspect Self&quot; or passage() is &quot;Alone Time&quot; or passage() is &quot;Dressing Room&quot;&gt;&gt;
  /* Insertables Owned */
  &lt;&lt;if $beadsSmallOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsSmall&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $beadsMediumOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsMedium&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $beadsLargeOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crBeadsLarge&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if passage() is &quot;Inspect Self&quot; or passage() is &quot;Alone Time&quot;&gt;&gt;
  /* Dildos and Vibes Owned */
  &lt;&lt;if $vibeSmallOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crVibeSmall&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $vibeMediumOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crVibeMedium&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $vibeLargeOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crVibeLarge&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $dildoSmallOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crDildoSmall&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $dildoMediumOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crDildoMedium&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $dildoLargeOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crDildoLarge&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $dildoHugeOwned isnot true&gt;&gt;
    &lt;&lt;toggleclass &quot;#crDildoHuge&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* ==== END: Clothes and Items Display Handling ==== */

/* ==== START: Clothes Shop Handling ==== */
&lt;&lt;if passage() is &quot;Clothes Shop&quot;&gt;&gt;
  &lt;&lt;if $episode isnot 2 or $hideShopInstructions is true&gt;&gt;\
    &lt;&lt;toggleclass &quot;#shopInstructions&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#shopInstructionsHider&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* ==== END: Clothes Shop Handling ==== */

/* START Level Up Notifications */
&lt;&lt;if $sissyLevelUp is true&gt;&gt;
  &lt;&lt;set $sissyLevelUp to false&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $slutLevelUp is true&gt;&gt;
  &lt;&lt;set $slutLevelUp to false&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $alphaLevelUp is true&gt;&gt;
  &lt;&lt;set $alphaLevelUp to false&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $alphaLevelDown is true&gt;&gt;
  &lt;&lt;set $alphaLevelDown to false&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* END Level Up Notifications */

/* START - Update sidebar after page load */
&lt;&lt;timed 1s&gt;&gt;
  &lt;&lt;updateSidebar&gt;&gt;
&lt;&lt;/timed&gt;&gt;
/* END - Update sidebar after page load */</tw-passagedata><tw-passagedata pid="94" name="PassageFooter" tags="AllPages" position="175,725" size="100,100"></tw-passagedata><tw-passagedata pid="95" name="PassageHeader" tags="AllPages" position="175,600" size="100,100">&lt;&lt;nobr&gt;&gt;
  /* START Level Up Notifications */
  &lt;&lt;if $sissyLevelUp is true&gt;&gt;
    ⏫ @@color:magenta;Sissy Level Up! Sissy lvl: $sissyLevel@@ ⏫
    &lt;&lt;set $sissyLevelUp to false&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $slutLevelUp is true&gt;&gt;
    ⏫ @@color:red;Slut Level Up! Slut lvl: $slutLevel@@ ⏫
    &lt;&lt;set $slutLevelUp to false&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $alphaLevelUp is true&gt;&gt;
    ⏫ @@color:cyan;Alpha Level Up! Alpha lvl: $alphaLevel@@ ⏫
    &lt;&lt;set $alphaLevelUp to false&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;if $alphaLevelDown is true&gt;&gt;
    🔻 @@color:gold;Lost an Alpha Level! Alpha lvl: $alphaLevel@@ 🔻
    &lt;&lt;set $alphaLevelDown to false&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  /* END Level Up Notifications */

  /* ==== START: Perk Gain Display */
  /* -- Start: Baby Daddy Perk */
  &lt;&lt;if $showPerkGainBabyDaddy is true&gt;&gt;
    &lt;&lt;set $showPerkGainBabyDaddy to false&gt;&gt;
    &lt;&lt;set $perkBabyDaddyDisplayed to true&gt;&gt;
    &lt;span title=&quot;&quot;&gt;You gained the @@color:cyan;BabyDaddy@@ perk!&lt;/span&gt;
  &lt;&lt;/if&gt;&gt;
  /* -- End: BabyDaddy Perk */

  /* -- Start: Cheating Whore Perk */
  &lt;&lt;if $showPerkGainCheatingWhore is true&gt;&gt;
    &lt;&lt;set $showPerkGainCheatingWhore to false&gt;&gt;
    &lt;&lt;set $perkCheatingWhoreDisplayed to true&gt;&gt;
    &lt;span title=&quot;&quot;&gt;You gained the @@color:magenta;Cheating Whore@@ perk!&lt;/span&gt;
  &lt;&lt;/if&gt;&gt;
  /* -- End: CheatingWhore Perk */

  /* -- Start: Cumdrinker Perk */
  &lt;&lt;if $showPerkGainCumdrinker is true&gt;&gt;
    &lt;&lt;set $showPerkGainCumdrinker to false&gt;&gt;
    &lt;&lt;set $perkCumdrinkerDisplayed to true&gt;&gt;
    &lt;span title=&quot;&quot;&gt;You gained the @@color:magenta;Cumdrinker@@ perk!&lt;/span&gt;
  &lt;&lt;/if&gt;&gt;
  /* -- End: Cumdrinker Perk */

  /* -- Start: Sissygasm Perk */
  &lt;&lt;if $showPerkGainSissygasm is true&gt;&gt;
    &lt;&lt;set $showPerkGainSissygasm to false&gt;&gt;
    &lt;&lt;set $perkSissygasmDisplayed to true&gt;&gt;
    &lt;span title=&quot;You cum more easily from anal sex and gain bonus sissy points when you do.&quot;&gt;You gained the @@color:magenta;Sissygasm@@ perk!&lt;/span&gt;
  &lt;&lt;/if&gt;&gt;
  /* -- End: Sissygasm Perk */

  /* -- Start: Masochist Perk */
  &lt;&lt;if $showPerkGainMasochist is true&gt;&gt;
    &lt;&lt;set $showPerkGainMasochist to false&gt;&gt;
    &lt;&lt;set $perkDisplayedMasochist to true&gt;&gt;
    &lt;span title=&quot;You cum more easily from painful acts and gain bonus Slut points when you do.&quot;&gt;You gained the @@color:orange;Masochist@@ perk!&lt;/span&gt;
  &lt;&lt;/if&gt;&gt;
  /* -- End: Masochist Perk */
  /* ==== END: Perk Gain Display */

  &lt;&lt;if $itemPurchased isnot &quot;&quot;&gt;&gt;
    @@color:limegreen;Item purchased!@@: $itemPurchased
    &lt;&lt;set $itemPurchased to &quot;&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;

&lt;&lt;/nobr&gt;&gt;\
&lt;hr&gt;</tw-passagedata><tw-passagedata pid="96" name="PassageReady" tags="Config" position="50,600" size="100,100">/* START - Save Compatibility Tweaks */
&lt;&lt;set $girlsImpregnated = $girlsImpregnated || []&gt;&gt;

&lt;&lt;if $cleanItUpChoice is 3&gt;&gt;
  &lt;&lt;set $ep1RefusedToSuck to true&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if ndef $timesSissygasm&gt;&gt;
  &lt;&lt;set $timesSissygasm to 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if ndef $mcSex&gt;&gt;
  &lt;&lt;set $mcSex to $mcGender&gt;&gt;
  &lt;&lt;unset $mcGender&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if ndef $costumesOwned&gt;&gt;
  &lt;&lt;set $costumesOwned to {
    &quot;any&quot;: false,
    &quot;Catgirl&quot;: false,
    &quot;Demon&quot;: false,
    &quot;Elf&quot;: false,
    &quot;Schoolgirl&quot;: false
  }&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if ndef $itemsWorn&gt;&gt;
  &lt;&lt;set $itemsWorn to {
    &quot;underwear&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;hosiery&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;fullBody&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;lowerBody&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;upperBody&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;accessoryNeck&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;accessoryBody&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;accessoryNips&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;accessoryStrapon&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;costume&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;cockToy&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
    &quot;insertable&quot;: {
      &quot;item&quot;: &quot;&quot;,
      &quot;common&quot;: &quot;&quot;,
      &quot;worn&quot;: false,
    },
  }&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Underwear */
&lt;&lt;if $boxersWorn&gt;&gt;
  &lt;&lt;wearItem &quot;underwear&quot; &quot;Boxers&quot; &quot;boxers&quot;&gt;&gt;
  &lt;&lt;unset $boxersWorn&gt;&gt;
&lt;&lt;elseif $boyshortsWorn&gt;&gt;
  &lt;&lt;wearItem &quot;underwear&quot; &quot;Boyshorts&quot; &quot;boyshorts&quot;&gt;&gt;
  &lt;&lt;unset $boyshortsWorn&gt;&gt;
&lt;&lt;elseif $pantiesClassicWorn&gt;&gt;
  &lt;&lt;wearItem &quot;underwear&quot; &quot;PantiesClassic&quot; &quot;panties&quot;&gt;&gt;
  &lt;&lt;unset $pantiesClassicWorn&gt;&gt;
&lt;&lt;elseif $pantiesCheekyWorn&gt;&gt;
  &lt;&lt;wearItem &quot;underwear&quot; &quot;PantiesCheeky&quot; &quot;panties&quot;&gt;&gt;
  &lt;&lt;unset $pantiesCheekyWorn&gt;&gt;
&lt;&lt;elseif $pantiesBikiniWorn&gt;&gt;
  &lt;&lt;wearItem &quot;underwear&quot; &quot;PantiesBikini&quot; &quot;panties&quot;&gt;&gt;
  &lt;&lt;unset $pantiesBikiniWorn&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Hosiery */
&lt;&lt;if $pantyhoseWorn&gt;&gt;
  &lt;&lt;wearItem &quot;hosiery&quot; &quot;Pantyhose&quot; &quot;pantyhose&quot;&gt;&gt;
  &lt;&lt;unset $pantyhoseWorn&gt;&gt;
&lt;&lt;elseif $kneehighsWorn&gt;&gt;
  &lt;&lt;wearItem &quot;hosiery&quot; &quot;Kneehighs&quot; &quot;kneehighs&quot;&gt;&gt;
  &lt;&lt;unset $kneehighsWorn&gt;&gt;
&lt;&lt;elseif $socksWorn&gt;&gt;
  &lt;&lt;wearItem &quot;hosiery&quot; &quot;Socks&quot; &quot;socks&quot;&gt;&gt;
  &lt;&lt;unset $socksWorn&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Lower Body */
&lt;&lt;if $shortShortsWorn&gt;&gt;
  &lt;&lt;wearItem &quot;lowerBody&quot; &quot;ShortShorts&quot; &quot;shorts&quot;&gt;&gt;
  &lt;&lt;unset $shortShortsWorn&gt;&gt;
&lt;&lt;elseif $skirtLongWorn&gt;&gt;
  &lt;&lt;wearItem &quot;lowerBody&quot; &quot;SkirtLong&quot; &quot;skirt&quot;&gt;&gt;
  &lt;&lt;unset $skirtLongWorn&gt;&gt;
&lt;&lt;elseif $pantsWorn&gt;&gt;
  &lt;&lt;wearItem &quot;lowerBody&quot; &quot;Pants&quot; &quot;pants&quot;&gt;&gt;
  &lt;&lt;unset $pantsWorn&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Upper Body */
&lt;&lt;if $hoodieWorn&gt;&gt;
  &lt;&lt;wearItem &quot;upperBody&quot; &quot;Hoodie&quot; &quot;hoodie&quot;&gt;&gt;
  &lt;&lt;unset $hoodieWorn&gt;&gt;
&lt;&lt;elseif $hoodieOversizedWorn&gt;&gt;
  &lt;&lt;wearItem &quot;upperBody&quot; &quot;HoodieOversized&quot; &quot;hoodie&quot;&gt;&gt;
  &lt;&lt;unset $hoodieOversizedWorn&gt;&gt;
&lt;&lt;elseif $buttondownMWorn&gt;&gt;
  &lt;&lt;wearItem &quot;upperBody&quot; &quot;ButtondownM&quot; &quot;shirt&quot;&gt;&gt;
  &lt;&lt;unset $buttondownMWorn&gt;&gt;
&lt;&lt;elseif $tshirtFWorn&gt;&gt;
  &lt;&lt;wearItem &quot;upperBody&quot; &quot;TshirtF&quot; &quot;shirt&quot;&gt;&gt;
  &lt;&lt;unset $tshirtFWorn&gt;&gt;
&lt;&lt;elseif $tshirtMWorn&gt;&gt;
  &lt;&lt;wearItem &quot;upperBody&quot; &quot;TshirtM&quot; &quot;shirt&quot;&gt;&gt;
  &lt;&lt;unset $tshirtMWorn&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Cock Toys */
&lt;&lt;if $chastityCageWorn&gt;&gt;
  &lt;&lt;unset $chastityCageWorn&gt;&gt;
  &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCage&quot; &quot;cock cage&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $chastityCageSmallWorn&gt;&gt;
  &lt;&lt;unset $chastityCageSmallWorn&gt;&gt;
  &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCageSmall&quot; &quot;cock cage&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* END - Save Compatibility Tweaks */

/* Main Girl Settings */
&lt;&lt;if $mgTrans is true&gt;&gt;
  &lt;&lt;set $mgName to &quot;⚧️ Mina&quot;&gt;&gt;
  &lt;&lt;set $mgDick to &quot;dick&quot;&gt;&gt;
  &lt;&lt;set $mgsMyDick to &quot;my dick&quot;&gt;&gt;
  &lt;&lt;set $mgCock to &quot;cock&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set $mgName to &quot;♀️ Lea&quot;&gt;&gt;
  &lt;&lt;set $mgDick to &quot;strap-on&quot;&gt;&gt;
  &lt;&lt;set $mgMyDick to &quot;strap-on&quot;&gt;&gt;
  &lt;&lt;set $mgCock to &quot;fake cock&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;set $mgNames to $mgName + &quot;&#39;s&quot;&gt;&gt;

/* ==== START: Speech text colors ==== */
/* Main Girl */
&lt;&lt;if ndef $mgSpeechColor&gt;&gt;
  &lt;&lt;set $mgSpeechColor to &quot;deepskyblue&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* Main Character */
&lt;&lt;if ndef $mcSpeechColor&gt;&gt;
  &lt;&lt;set $mcSpeechColor to &quot;coral&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* Andrea */
&lt;&lt;if ndef $andreaSpeechColor&gt;&gt;
  &lt;&lt;set $andreaSpeechColor to &quot;lemonchiffon&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* Others */
&lt;&lt;if ndef $othersSpeechColor&gt;&gt;
  &lt;&lt;set $othersSpeechColor to &quot;aquamarine&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* ==== END: Speech text colors ==== */

/* Handle cash var from older vers not existing */
&lt;&lt;if ndef $cash&gt;&gt;
  &lt;&lt;set $cash to 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* MC Chastity Handling */
&lt;&lt;if [&quot;ChastityCage&quot;, &quot;ChastityCageSmall&quot;].contains($itemsWorn[&quot;cockToy&quot;][&quot;item&quot;])&gt;&gt;
  &lt;&lt;if $inChastity isnot true&gt;&gt;
    &lt;&lt;set $inChastity to true&gt;&gt;
    &lt;&lt;set $sissyScore to $sissyScore +5&gt;&gt;
    &lt;&lt;set $alphaGainMod to $alphaGainMod -1&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $mcDick to &quot;sissy clitty&quot;&gt;&gt;
  &lt;&lt;if $chastityCageOwned isnot true and $chastityCageSmallOwned isnot true&gt;&gt;
    &lt;&lt;set $chastityCageOwned to true&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set $inChastity to false&gt;&gt;
  &lt;&lt;set $mcDick to &quot;dick&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;


/* Male/Futa Setting Stuff */
&lt;&lt;if $maleChars&gt;&gt;
  &lt;&lt;set $malesHe to &quot;he&quot;&gt;&gt;
  &lt;&lt;set $malesHeCap to &quot;He&quot;&gt;&gt;
  &lt;&lt;set $malesHes to &quot;he&#39;s&quot;&gt;&gt;
  &lt;&lt;set $malesHesCap to &quot;He&#39;s&quot;&gt;&gt;
  &lt;&lt;set $malesHis to &quot;his&quot;&gt;&gt;
  &lt;&lt;set $malesHisCap to &quot;His&quot;&gt;&gt;
  &lt;&lt;set $malesHim to &quot;him&quot;&gt;&gt;
  &lt;&lt;set $malesHimself to &quot;himself&quot;&gt;&gt;
  &lt;&lt;set $malesMan to &quot;man&quot;&gt;&gt;
  &lt;&lt;set $malesMen to &quot;men&quot;&gt;&gt;
  &lt;&lt;set $malesGuy to &quot;guy&quot;&gt;&gt;
  &lt;&lt;set $malesGuys to &quot;guys&quot;&gt;&gt;
  &lt;&lt;set $malesDude to &quot;dude&quot;&gt;&gt;
  &lt;&lt;set $malesDudes to &quot;dudes&quot;&gt;&gt;
&lt;&lt;else&gt;&gt;
  &lt;&lt;set $malesHe to &quot;she&quot;&gt;&gt;
  &lt;&lt;set $malesHeCap to &quot;She&quot;&gt;&gt;
  &lt;&lt;set $malesHes to &quot;she&#39;s&quot;&gt;&gt;
  &lt;&lt;set $malesHesCap to &quot;She&#39;s&quot;&gt;&gt;
  &lt;&lt;set $malesHis to &quot;her&quot;&gt;&gt;
  &lt;&lt;set $malesHisCap to &quot;Her&quot;&gt;&gt;
  &lt;&lt;set $malesHim to &quot;her&quot;&gt;&gt;
  &lt;&lt;set $malesHimself to &quot;herself&quot;&gt;&gt;
  &lt;&lt;set $malesMan to &quot;woman&quot;&gt;&gt;
  &lt;&lt;set $malesMen to &quot;women&quot;&gt;&gt;
  &lt;&lt;set $malesGuy to &quot;girl&quot;&gt;&gt;
  &lt;&lt;set $malesGuys to &quot;girls&quot;&gt;&gt;
  &lt;&lt;set $malesDude to &quot;chick&quot;&gt;&gt;
  &lt;&lt;set $malesDudes to &quot;chicks&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* MainGirl relationship stuff */
&lt;&lt;if $mgAffection gte 4&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Soulmates&quot;&gt;&gt;
  &lt;&lt;set $mgAffection to 4&gt;&gt;
  &lt;&lt;set $mgStatusSpan to &quot;She simply adores you!&quot;&gt;&gt;
&lt;&lt;elseif $mgAffection eq 3&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Living Together&quot;&gt;&gt;
  &lt;&lt;if $mgTrans is true&gt;&gt;
    &lt;&lt;set $mgStatusSpan to &quot;She is very aroused by you.&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $mgStatusSpan to &quot;She lets you fuck with other men or dickgirls; not femboys or women.&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;elseif $mgAffection eq 2&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;In Relationship&quot;&gt;&gt;
  &lt;&lt;if $mgTrans is true&gt;&gt;
    &lt;&lt;set $mgStatusSpan to &quot;Neither of you has to wear a condom during sex.&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $mgStatusSpan to &quot;During sex, she will put a cum-filled condom on her strap-on.&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;elseif $mgAffection eq 1&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Friends&quot;&gt;&gt;
  &lt;&lt;set $mgStatusSpan to &quot;&quot;&gt;&gt;
&lt;&lt;elseif $mgAffection eq 0&gt;&gt;
  &lt;&lt;if $mgStatus isnot &quot;Hookup&quot;&gt;&gt;
    &lt;&lt;set $mgStatus to &quot;Acquaintance&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $mgStatusSpan to &quot;You&#39;re familiar with one another.&quot;&gt;&gt;
&lt;&lt;elseif $mgAffection eq -1&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Tense&quot;&gt;&gt;
  &lt;&lt;set $mgStatusSpan to &quot;&quot;&gt;&gt;
&lt;&lt;elseif $mgAffection eq -2&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Complicated&quot;&gt;&gt;
  &lt;&lt;set $mgStatusSpan to &quot;&quot;&gt;&gt;
&lt;&lt;elseif $mgAffection eq -3&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Fighting&quot;&gt;&gt;
  &lt;&lt;set $mgStatusSpan to &quot;&quot;&gt;&gt;
&lt;&lt;elseif $mgAffection &lt;= -4&gt;&gt;
  &lt;&lt;set $mgStatus to &quot;Enemy&quot;&gt;&gt;
  &lt;&lt;set $mgStatusSpan to &quot;GAME OVER&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Day of the Week Handling */
&lt;&lt;if $dayOfWeekCounter gte 7&gt;&gt;
  &lt;&lt;set $dayOfWeekCounter to 0&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;set $dayOfWeek = $daysOfTheWeek[$dayOfWeekCounter]&gt;&gt;

/* Handle Unset Descriptions */
&lt;&lt;if ndef $sissyDesc&gt;&gt;
  &lt;&lt;set $sissyLevel to 0&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if ndef $slutDesc&gt;&gt;
  &lt;&lt;set $slutLevel to 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Sissy Level Up Checks */
&lt;&lt;if $sissyScore gte 200 and $sissyLevel isnot 9&gt;&gt;
  &lt;&lt;set $sissyLevel to 9&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Babe&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 8 and $sissyScore gte 150&gt;&gt;
  &lt;&lt;set $sissyLevel to 8&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Girl&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 150&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 7 and $sissyScore gte 130&gt;&gt;
  &lt;&lt;set $sissyLevel to 7&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Dickgirl&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 130&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 6 and $sissyScore gte 110&gt;&gt;
  &lt;&lt;set $sissyLevel to 6&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Shemale&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 110&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 5 and $sissyScore gte 90&gt;&gt;
  &lt;&lt;set $sissyLevel to 5&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Trap&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 90&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 4 and $sissyScore gte 70&gt;&gt;
  &lt;&lt;set $sissyLevel to 4&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Femboy&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 70&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 3 and $sissyScore gte 50&gt;&gt;
  &lt;&lt;set $sissyLevel to 3&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Androgynous&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 50&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 2 and $sissyScore gte 30&gt;&gt;
  &lt;&lt;set $sissyLevel to 2&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Crossdresser&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 30&gt;&gt;
&lt;&lt;elseif $sissyLevel lt 1 and $sissyScore gte 10&gt;&gt;
  &lt;&lt;set $sissyLevel to 1&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Twink&quot;&gt;&gt;
  &lt;&lt;set $sissyLevelUp to true&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 10&gt;&gt;
&lt;&lt;elseif $sissyScore lt 10&gt;&gt;
  &lt;&lt;set $sissyLevel to 0&gt;&gt;
  &lt;&lt;set $sissyDesc to &quot;Guy&quot;&gt;&gt;
  &lt;&lt;set $sissyLastLvl to 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Slut Level Up Checks */
&lt;&lt;if $slutScore gte 200 and $slutLevel isnot 9&gt;&gt;
  &lt;&lt;set $slutLevel to 9&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Cum Dump&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
&lt;&lt;elseif $slutLevel lt 8 and $slutScore gte 150&gt;&gt;
  &lt;&lt;set $slutLevel to 8&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Nympho&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 150&gt;&gt;
&lt;&lt;elseif $slutLevel lt 7 and $slutScore gte 130&gt;&gt;
  &lt;&lt;set $slutLevel to 7&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Cum Slut&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 130&gt;&gt;
&lt;&lt;elseif $slutLevel lt 6 and $slutScore gte 110&gt;&gt;
  &lt;&lt;set $slutLevel to 6&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Whore&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 110&gt;&gt;
&lt;&lt;elseif $slutLevel lt 5 and $slutScore gte 90&gt;&gt;
  &lt;&lt;set $slutLevel to 5&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Bitch&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 90&gt;&gt;
&lt;&lt;elseif $slutLevel lt 4 and $slutScore gte 70&gt;&gt;
  &lt;&lt;set $slutLevel to 4&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Tramp&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 70&gt;&gt;
&lt;&lt;elseif $slutLevel lt 3 and $slutScore gte 50&gt;&gt;
  &lt;&lt;set $slutLevel to 3&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Skank&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 50&gt;&gt;
&lt;&lt;elseif $slutLevel lt 2 and $slutScore gte 30&gt;&gt;
  &lt;&lt;set $slutLevel to 2&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Cheeky&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 30&gt;&gt;
&lt;&lt;elseif $slutLevel lt 1 and $slutScore gte 10&gt;&gt;
  &lt;&lt;set $slutLevel to 1&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Tease&quot;&gt;&gt;
  &lt;&lt;set $slutLevelUp to true&gt;&gt;
  &lt;&lt;set $slutLastLvl to 10&gt;&gt;
&lt;&lt;elseif $slutScore lt 10&gt;&gt;
  &lt;&lt;set $slutLevel to 0&gt;&gt;
  &lt;&lt;set $slutDesc to &quot;Prude&quot;&gt;&gt;
  &lt;&lt;set $slutLastLvl to 0&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* Alpha Level Checks */
&lt;&lt;if [&quot;Appetizer&quot;, &quot;EP1 End Card&quot;, &quot;Train Appetizer&quot;, &quot;Sperm Bank&quot;, &quot;Bed Tumble&quot;, &quot;EP2 End Card&quot;,
  &quot;Choose a Costume&quot;, &quot;Entrance Fee&quot;, &quot;EP3 End Card&quot;
  ].contains(passage())&gt;&gt;
  &lt;&lt;if $alphaScore gt $alphaLevel and $alphaLevel lt $alphaMaxScore&gt;&gt;
    &lt;&lt;set $alphaLevelUp to true&gt;&gt;
    &lt;&lt;set $alphaLevel++&gt;&gt;
  &lt;&lt;elseif $alphaScore lt $alphaLevel and $alphaLevel gt $alphaMinScore&gt;&gt;
    &lt;&lt;set $alphaLevelDown to true&gt;&gt;
    &lt;&lt;set $alphaLevel--&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

/* ==== START: Perks Checking ==== */
/* -- Start: Baby Daddy Perk */
&lt;&lt;if $hasImpregnated is true and $perkBabyDaddyDisplayed isnot true&gt;&gt;
  &lt;&lt;set $hasPerks to true&gt;&gt;
  &lt;&lt;set $hasPerkBabyDaddy to true&gt;&gt;
  &lt;&lt;set $showPerkGainBabyDaddy to true&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* -- End: BabyDaddy Perk */

/* -- Start: Cheating Whore Perk */
&lt;&lt;if $gotCaughtCheating is true and $perkCheatingWhoreDisplayed isnot true&gt;&gt;
  &lt;&lt;set $hasPerks to true&gt;&gt;
  &lt;&lt;set $hasPerkCheatingWhore to true&gt;&gt;
  &lt;&lt;set $showPerkGainCheatingWhore to true&gt;&gt;
  &lt;&lt;set $epGainedCheatingWhore to $episode&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* -- End: CheatingWhore Perk */

/* -- Start: Cumdrinker Perk */
&lt;&lt;if $timesDrankCum gte 18 and $perkCumdrinkerDisplayed isnot true&gt;&gt;
  &lt;&lt;set $hasPerks to true&gt;&gt;
  &lt;&lt;set $hasPerkCumdrinker to true&gt;&gt;
  &lt;&lt;set $showPerkGainCumdrinker to true&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* -- End: Cumdrinker Perk */

/* -- Start: Sissygasm Perk */
&lt;&lt;if $hasCumFromAnal is true and $perkSissygasmDisplayed isnot true&gt;&gt;
  &lt;&lt;set $hasPerks to true&gt;&gt;
  &lt;&lt;set $hasPerkSissygasm to true&gt;&gt;
  &lt;&lt;set $showPerkGainSissygasm to true&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* -- End: Sissygasm Perk */

/* -- Start: Masochist Perk */
&lt;&lt;if $masoActs gte 5 and $perkDisplayedMasochist isnot true&gt;&gt;
  &lt;&lt;set $hasPerks to true&gt;&gt;
  &lt;&lt;set $hasPerkMasochist to true&gt;&gt;
  &lt;&lt;set $showPerkGainMasochist to true&gt;&gt;
&lt;&lt;/if&gt;&gt;
/* -- End: Masochist Perk */
/* ==== END: Perks Checking ==== */</tw-passagedata><tw-passagedata pid="97" name="Debug Menu" tags="Menu" position="50,350" size="100,100">!Debug Menu
&lt;&lt;silently&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
!!Developer Debug Menu - Use at Your Own Risk!
&lt;&lt;nobr&gt;&gt;
&lt;table width=&quot;50%&quot;&gt;
  &lt;tr&gt;
    &lt;td&gt;Main Girl:&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$mgTrans&quot; true autocheck&gt;&gt; Trans&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$mgTrans&quot; false autocheck&gt;&gt; Bio-Female&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;MG Happy?&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$mgHappy&quot; true autocheck&gt;&gt; Yes&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$mgHappy&quot; true autocheck&gt;&gt; No&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Chastity Cage Worn?&lt;/td&gt;
    &lt;td&gt;@@#chasityCageWornDebug;$itemsWorn[&quot;cockToy&quot;][&quot;item&quot;]@@&lt;/td&gt;
    &lt;td&gt;
      &lt;span id=&quot;debugChastityCageWornTrue&quot; class=&quot;hide&quot;&gt;
        &lt;&lt;link &quot;Remove ▶▶▶&quot;&gt;&gt;
          &lt;&lt;removeItem &quot;cockToy&quot;&gt;&gt;
          &lt;&lt;replace &quot;#chasityCageWornDebug&quot;&gt;&gt;$itemsWorn[&quot;cockToy&quot;][&quot;item&quot;]&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $inChastity to false&gt;&gt;
          &lt;&lt;set $sissyScore to $sissyScore -5&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $alphaGainMod to $alphaGainMod +1&gt;&gt;
          &lt;&lt;replace &quot;#debugAlphaGainMod&quot;&gt;&gt;$alphaGainMod&lt;&lt;/replace&gt;&gt;
          &lt;&lt;removeItem &quot;accessoryStrapon&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornTrue&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornNA&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/span&gt;
      &lt;span id=&quot;debugChastityCageWornFalse&quot; class=&quot;hide&quot;&gt;
        &lt;&lt;link &quot;Wear ▶▶▶&quot;&gt;&gt;
          &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCage&quot; &quot;cock cage&quot;&gt;&gt;
          &lt;&lt;set $inChastity to true&gt;&gt;
          &lt;&lt;set $sissyScore to $sissyScore +5&gt;&gt;
          &lt;&lt;set $alphaGainMod to $alphaGainMod -1&gt;&gt;
          &lt;&lt;replace &quot;#debugAlphaGainMod&quot;&gt;&gt;$alphaGainMod&lt;&lt;/replace&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornTrue&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornNA&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/span&gt;
      &lt;span id=&quot;debugChastityCageWornNA&quot; class=&quot;hide&quot;&gt;
        N/A
      &lt;/span&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;td&gt;Chastity Cage, Small Worn?&lt;/td&gt;
    &lt;td&gt;@@#chasityCageSmallWornDebug;$itemsWorn[&quot;cockToy&quot;][&quot;item&quot;]@@&lt;/td&gt;
    &lt;td&gt;
      &lt;span id=&quot;debugChastityCageSmallWornTrue&quot; class=&quot;hide&quot;&gt;
        &lt;&lt;link &quot;Remove ▶▶▶&quot;&gt;&gt;
          &lt;&lt;removeItem &quot;cockToy&quot;&gt;&gt;
          &lt;&lt;replace &quot;#chasityCageSmallWornDebug&quot;&gt;&gt;$itemsWorn[&quot;cockToy&quot;][&quot;item&quot;]&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $inChastity to false&gt;&gt;
          &lt;&lt;set $sissyScore to $sissyScore -5&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $alphaGainMod to $alphaGainMod +1&gt;&gt;
          &lt;&lt;replace &quot;#debugAlphaGainMod&quot;&gt;&gt;$alphaGainMod&lt;&lt;/replace&gt;&gt;
          &lt;&lt;removeItem &quot;accessoryStrapon&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornTrue&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornNA&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/span&gt;
      &lt;span id=&quot;debugChastityCageSmallWornFalse&quot; class=&quot;hide&quot;&gt;
        &lt;&lt;link &quot;Wear ▶▶▶&quot;&gt;&gt;
          &lt;&lt;set $chastityCageSmallWorn to true&gt;&gt;
          &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCageSmall&quot; &quot;cock cage&quot;&gt;&gt;
          &lt;&lt;set $inChastity to true&gt;&gt;
          &lt;&lt;set $sissyScore to $sissyScore +5&gt;&gt;
          &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
          &lt;&lt;set $alphaGainMod to $alphaGainMod -1&gt;&gt;
          &lt;&lt;replace &quot;#debugAlphaGainMod&quot;&gt;&gt;$alphaGainMod&lt;&lt;/replace&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornTrue&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornFalse&quot; &quot;hide&quot;&gt;&gt;
          &lt;&lt;toggleclass &quot;#debugChastityCageWornNA&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;/link&gt;&gt;
      &lt;/span&gt;
      &lt;span id=&quot;debugChastityCageSmallWornNA&quot; class=&quot;hide&quot;&gt;
        N/A
      &lt;/span&gt;
    &lt;/td&gt;
  &lt;tr&gt;
    &lt;td&gt;Cage Key Owned?&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$cageKeyOwned&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$cageKeyOwned&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Show debug messages:&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$showDebugMsgs&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$showDebugMsgs&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;alphaGainMod:&lt;/td&gt;
    &lt;td&gt;@@#debugAlphaGainMod;$alphaGainMod@@&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;&lt;/nobr&gt;&gt;\
\
!!!Set values manually:
&lt;&lt;nobr&gt;&gt;
&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:limegreen;Cash@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$cash&quot; $cash&gt;&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:cyan;Alpha Score@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$alphaScore&quot; $alphaScore&gt;&gt;&lt;/td&gt;
    &lt;td&gt;@@color:cyan;Alpha Level@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$alphaLevel&quot; $alphaLevel&gt;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:magenta;Sissy Score@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$sissyScore&quot; $sissyScore&gt;&gt;&lt;/td&gt;
    &lt;td&gt;@@color:magenta;Sissy Level@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$sissyLevel&quot; $sissyLevel&gt;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:red;Slut Score@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$slutScore&quot; $slutScore&gt;&gt;&lt;/td&gt;
    &lt;td&gt;@@color:red;Slut Level@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$slutLevel&quot; $slutLevel&gt;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:deepskyblue;Main girl affection@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$mgAffection&quot; $mgAffection&gt;&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:orange;Masochistic acts performed@@:&lt;/td&gt;
    &lt;td&gt;&lt;&lt;numberbox &quot;$masoActs&quot; $masoActs&gt;&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;&lt;/nobr&gt;&gt;\
\
!!!Perks
&lt;&lt;nobr&gt;&gt;
&lt;table width=&quot;50%&quot;&gt;
  &lt;tr&gt;
    &lt;th&gt;Has Perk&lt;/th&gt;
    &lt;th&gt;True&lt;/th&gt;
    &lt;th&gt;False&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:cyan;&#39;&#39;Baby Daddy&#39;&#39;@@ 👶&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkBabyDaddy&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkBabyDaddy&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:red;&#39;&#39;Cheating Whore&#39;&#39;@@ ❤️‍🩹&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkCheatingWhore&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkCheatingWhore&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:magenta;&#39;&#39;Cumdrinker&#39;&#39;@@ 🥛&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkCumdrinker&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkCumdrinker&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:red;&#39;&#39;Masochist&#39;&#39;@@ 🔗&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkMasochist&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkMasochist&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:magenta;&#39;&#39;Pregnant&#39;&#39;@@ 🤰&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkPregnant&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkPregnant&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:magenta;&#39;&#39;Sissygasm&#39;&#39;@@ &lt;span style=&quot;color: transparent; text-shadow: 0 0 0 white&quot;&gt; 💦&lt;/span&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkSissygasm&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkSissygasm&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;@@color:magenta;&#39;&#39;Tomboy&#39;&#39;@@ 🧑🏻&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkTomboy&quot; true autocheck&gt;&gt; True&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$hasPerkTomboy&quot; false autocheck&gt;&gt; False&lt;/label&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;&lt;/nobr&gt;&gt;\
\
!!!Jump to:
&lt;&lt;nobr&gt;&gt;
&lt;ul&gt;
&lt;li&gt;EP1:&lt;/li&gt;
  &lt;ol&gt;
    &lt;li&gt;[[Road Home]]&lt;/li&gt;
    &lt;li&gt;[[Home 1]]&lt;/li&gt;
    &lt;li&gt;[[Femboy&#39;s Apartment 1]]&lt;/li&gt;
    &lt;li&gt;[[Girl&#39;s Apartment 1]]&lt;/li&gt;
    &lt;li&gt;[[Clothes Shop]]&lt;/li&gt;
    &lt;li&gt;[[Sex Shop]]&lt;/li&gt;
    &lt;li&gt;[[Costume Shop]]&lt;/li&gt;
  &lt;/ol&gt;
&lt;/ul&gt;
&lt;&lt;/nobr&gt;&gt;\
\
&lt;&lt;return&gt;&gt;
&lt;&lt;done&gt;&gt;
  &lt;&lt;if $itemsWorn[&quot;cockToy&quot;][&quot;item&quot;] is &quot;ChastityCage&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#debugChastityCageWornTrue&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornNA&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;elseif $itemsWorn[&quot;cockToy&quot;][&quot;item&quot;] is &quot;ChastityCageSmall&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornTrue&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#debugChastityCageWornNA&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;toggleclass &quot;#debugChastityCageWornFalse&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#debugChastityCageSmallWornFalse&quot; &quot;hide&quot;&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/done&gt;&gt;\</tw-passagedata><tw-passagedata pid="98" name="Dressing Room" tags="Menu" position="2025,450" size="200,200">&lt;h1&gt;&lt;&lt;print $changingRoom&gt;&gt;&lt;/h1&gt;\
\
!!Currently Wearing:
&lt;center&gt;&lt;&lt;nobr&gt;&gt;
  &lt;div&gt; /* Costume Worn */
    /* Catgirl Costume */
    &lt;table id=&quot;crCatgirlWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr class=&quot;&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/catgirl_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Catgirl&#39;&#39;&lt;br&gt;
          &lt;&lt;sc &quot;Sissy +3 when worn&quot;&gt;&gt;S+3&lt;&lt;/sc&gt;&gt;&lt;br&gt;
          &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;costume&quot;&gt;&gt;
            &lt;&lt;set $sissyScore-=3&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;

    /* Demon Costume */
    &lt;table id=&quot;crDemonWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/demon_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Demon&#39;&#39;&lt;br&gt;
          &lt;&lt;uc &quot;Slut +4&quot;&gt;&gt;U+4&lt;&lt;/uc&gt;&gt;&lt;br&gt;
          &lt;&lt;yc &quot;This costume may affect certain scenes (in a FUTURE version)&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;costume&quot;&gt;&gt;
            &lt;&lt;set $slutScore-=4&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;

    /* Elf Costume */
    &lt;table id=&quot;crElfWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/elf_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Elf&#39;&#39;&lt;br&gt;
          &lt;&lt;uc &quot;Slut +3&quot;&gt;&gt;U+3&lt;&lt;/uc&gt;&gt;&lt;br&gt;
          &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;costume&quot;&gt;&gt;
            &lt;&lt;set $slutScore-=3&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;

    /* Schoolgirl Costume */
    &lt;table id=&quot;crSchoolgirlWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/schoolgirl_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Schoolgirl&#39;&#39;&lt;br&gt;
          &lt;&lt;sc &quot;Sissy +4 when worn&quot;&gt;&gt;S+4&lt;&lt;/sc&gt;&gt;&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;costume&quot;&gt;&gt;
            &lt;&lt;set $sissyScore-=4&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;
  &lt;div class=&quot;shop_section&quot;&gt;
    /* Boxers */
    &lt;div id=&quot;crBoxersWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Huh? That&#39;s not very girly honey...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boxers_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Boxers&#39;&#39;&lt;br&gt;
          @@color:cyan;A+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;underwear&quot;&gt;&gt;
            &lt;&lt;set $alphaScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Boyshorts */
    &lt;div id=&quot;crBoyshortsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Well, you&#39;ve got to start somewhere...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boyshorts_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Boyshorts&#39;&#39;&lt;br&gt;
          @@color:magenta;S+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;underwear&quot;&gt;&gt;
            &lt;&lt;set $sissyScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Panties, Classic */
    &lt;div id=&quot;crPantiesClassicWorn&quot; class=&quot;shop_item hide&quot; title=&quot;You can never have enough panties!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_classic_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Panties&#39;&#39;&lt;br&gt;
          @@color:magenta;S+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;underwear&quot;&gt;&gt;
            &lt;&lt;set $sissyScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Panties, Cheeky */
    &lt;div id=&quot;crPantiesCheekyWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Ooo! Those&#39;ll show off your ass nicely!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_cheeky_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Cheeky Panties&#39;&#39;&lt;br&gt;
          @@color:magenta;S+2@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;underwear&quot;&gt;&gt;
            &lt;&lt;set $sissyScore to $sissyScore -2&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Panties, String Bikini */
    &lt;div id=&quot;crPantiesBikiniWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Mmmm! Sexy!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_bikini_string_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Bikini Panties&#39;&#39;&lt;br&gt;
          @@color:magenta;S+3@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
          &lt;&lt;removeItem &quot;underwear&quot;&gt;&gt;
          &lt;&lt;set $sissyScore to $sissyScore -3&gt;&gt;
        &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Socks */
    &lt;div id=&quot;crSocksWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Ooh, I LOVE the &#39;Hello Kitty&#39; ones!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/socks_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Socks&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;hosiery&quot;&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Kneehighs */
    &lt;div id=&quot;crKneehighsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Schoolgirl style! I like where this is going!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/kneehigh_socks_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Kneehighs&#39;&#39;&lt;br&gt;
          @@color:magenta;S+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;hosiery&quot;&gt;&gt;
            &lt;&lt;set $sissyScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Pantyhose */
    &lt;div id=&quot;crPantyhoseWorn&quot; class=&quot;shop_item hide&quot; title=&quot;You do know those don&#39;t hide anything, right?&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pantyhose_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Pantyhose&#39;&#39;&lt;br&gt;
          @@color:magenta;S+2@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;hosiery&quot;&gt;&gt;
            &lt;&lt;set $sissyScore to $sissyScore -2&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Pants */
    &lt;div id=&quot;crPantsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Well, that&#39;s an unpleasant surprise...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pants_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Pants&#39;&#39;&lt;br&gt;
          @@color:cyan;A+3@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;lowerBody&quot;&gt;&gt;
            &lt;&lt;set $alphaScore to $alphaScore -3&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Short-Shorts */
    &lt;div id=&quot;crShortShortsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Mmm! Those&#39;ll turn some heads!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/shorts_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Short-Shorts&#39;&#39;&lt;br&gt;
          @@color:magenta;S+1@@, @@color:red;U+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;lowerBody&quot;&gt;&gt;
            &lt;&lt;set $sissyScore--&gt;&gt;
            &lt;&lt;set $slutScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Skirt, long */
    &lt;div id=&quot;crSkirtLongWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Better, but a little long for my taste.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/skirt_long_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Long Skirt&#39;&#39;&lt;br&gt;
          @@color:cyan;A-1@@, @@color:magenta;S+3@@, @@color:red;U+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;lowerBody&quot;&gt;&gt;
            &lt;&lt;set $sissyScore to $sissyScore -3&gt;&gt;
            &lt;&lt;set $slutScore--&gt;&gt;
            &lt;&lt;set $alphaScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Buttondown (M) */
    &lt;div id=&quot;crButtondownMWorn&quot; class=&quot;shop_item hide&quot; title=&quot;OK, but a women&#39;s version would be better...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/buttondown_shirt_mens_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Buttondown ♂️&#39;&#39;&lt;br&gt;
          @@color:cyan;A+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;upperBody&quot;&gt;&gt;
            &lt;&lt;set $alphaScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* T-Shirt (F) */
    &lt;div id=&quot;crTshirtFWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Oh! The one with the word &#39;SLUT&#39; on it is sold out...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_female_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;T-Shirt ♀️&#39;&#39;&lt;br&gt;
          @@color:magenta;S+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;upperBody&quot;&gt;&gt;
            &lt;&lt;set $sissyScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* T-Shirt (M) */
    &lt;div id=&quot;crTshirtMWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Bleh! At least pick a cuter one...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_male_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;T-Shirt ♂️&#39;&#39;&lt;br&gt;
          @@color:cyan;A+1@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;upperBody&quot;&gt;&gt;
            &lt;&lt;set $alphaScore--&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Hoodie */
    &lt;div id=&quot;crHoodieWorn&quot; class=&quot;shop_item hide&quot; title=&quot;That hood might come in handy.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/hoodie_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &#39;&#39;Hoodie&#39;&#39;&lt;br&gt;
          @@color:cyan;A+2@@&lt;br&gt;
          &lt;br&gt;
          &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
            &lt;&lt;removeItem &quot;upperBody&quot;&gt;&gt;
            &lt;&lt;set $alphaScore to $alphaScore -2&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Hoodie, Oversized */
    &lt;div id=&quot;crHoodieOversizedWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Ooo! That looks comfy!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/hoodie_oversized_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &lt;center&gt;&#39;&#39;Hoodie, Oversized &#39;&#39;&lt;br&gt;
            @@color:magenta;S+1@@&lt;/center&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;upperBody&quot;&gt;&gt;
              &lt;&lt;set $sissyScore--&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Body Harness */
    &lt;div id=&quot;crBodyHarnessWorn&quot; class=&quot;shop_item hide&quot; title=&quot;I&#39;m getting a sex slave? NICE!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/body_harness_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Body Harness&#39;&#39;&lt;br&gt;
            &lt;center&gt;@@color:red;U+5@@&lt;br&gt;&lt;/center&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;accessoryBody&quot;&gt;&gt;
              &lt;&lt;set $slutScore to $slutScore -5&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Collar, Ringed */
    &lt;div id=&quot;crCollarRingWorn&quot; class=&quot;shop_item hide&quot; title=&quot;What a good bitch. Now, find a leash!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_ringed_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Collar, Ringed&#39;&#39;&lt;br&gt;
            &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;&lt;/center&gt;
            &lt;&lt;if $mcCollarLocked&gt;&gt;
              &lt;&lt;yc &quot;Someone has locked this collar on you; you can&#39;t take it off!&quot;&gt;&gt;Collar locked!&lt;&lt;/yc&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;removeItem &quot;accessoryNeck&quot;&gt;&gt;
                &lt;&lt;set $mcCollared to false&gt;&gt;
                &lt;&lt;set $slutScore to $slutScore -2&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Collar, Shock */
    &lt;div id=&quot;crCollarShockWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Quite shocking I must say.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_shock_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Collar, Shock&#39;&#39;&lt;br&gt;
            &lt;span title=&quot;If worn while cumming, you can taze yourself for Sissy +4 and Slut +4. Can help you get off in cases where you might not be able to otherwise, you masochistic slut.&quot;&gt;
            &lt;center&gt;@@color:yellow;Special&lt;br&gt;
            (hover here)@@&lt;br&gt;&lt;/center&gt;&lt;/span&gt;
            &lt;br&gt;
            &lt;&lt;if $mcCollarLocked&gt;&gt;
              &lt;&lt;yc &quot;Someone has locked this collar on you; you can&#39;t take it off!&quot;&gt;&gt;Collar locked!&lt;&lt;/yc&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;removeItem &quot;accessoryNeck&quot;&gt;&gt;
                &lt;&lt;set $mcCollared to false&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Collar, Spiked */
    &lt;div id=&quot;crCollarSpikedWorn&quot; class=&quot;shop_item hide&quot; title=&quot;What a bad little bitch.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_spiked_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Collar, Spiked&#39;&#39;&lt;br&gt;
            &lt;center&gt;@@color:red;U+3@@, @@color:cyan;A+1@@&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;&lt;/center&gt;
            &lt;&lt;if $mcCollarLocked&gt;&gt;
              &lt;&lt;yc &quot;Someone has locked this collar on you; you can&#39;t take it off!&quot;&gt;&gt;Collar locked!&lt;&lt;/yc&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;removeItem &quot;accessoryNeck&quot;&gt;&gt;
                &lt;&lt;set $mcCollared to false&gt;&gt;
                &lt;&lt;set $slutScore to $slutScore -3&gt;&gt;
                &lt;&lt;set $alphaScore to $alphaScore -1&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

      /* Nipple Clamps */
    &lt;div id=&quot;crNippleClampsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;How is THIS turning you on!?&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/nipple_clamps_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Nipple Clamps&#39;&#39;&lt;br&gt;
            &lt;&lt;if $nippleClampsWeighted isnot true&gt;&gt;
              &lt;center&gt;@@color:red;U+1@@&lt;br&gt;
              &lt;br&gt;&lt;/center&gt;
              &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;removeItem &quot;accessoryNips&quot;&gt;&gt;
                &lt;&lt;set $slutScore--&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
              &lt;br&gt;&lt;/center&gt;
              &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;removeItem &quot;accessoryNips&quot;&gt;&gt;
                &lt;&lt;set $slutScore to $slutScore -2&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Chastity Cage */
    &lt;div id=&quot;crChastityCageWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Dick&#39;s don&#39;t get locked up - THAT&#39;s a clit.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Chastity Cage&#39;&#39;&lt;br&gt;
            &lt;center&gt;&lt;span title=&quot;Sissy +5. All Alpha Score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@&lt;br&gt;
            @@color:cyan;Alpha@@ @@color:gold;gains reduced by 1@@&lt;br&gt;
            &lt;/span&gt;&lt;/center&gt;
            &lt;&lt;if $cageKeyOwned is true&gt;&gt;
              &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;removeItem &quot;cockToy&quot;&gt;&gt;
                &lt;&lt;set $inChastity to false&gt;&gt;
                &lt;&lt;set $sissyScore to $sissyScore -5&gt;&gt;
                &lt;&lt;set $alphaGainMod to $alphaGainMod +1&gt;&gt;
                &lt;&lt;if $itemsWorn[&quot;accessoryStrapon&quot;][&quot;worn&quot;]&gt;&gt;
                  &lt;&lt;removeItem &quot;accessoryStrapon&quot;&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;You don&#39;t own your key!&quot;&gt;
                @@color:yellow;No key!@@
              &lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Chastity Cage, Small */
    &lt;div id=&quot;crChastityCageSmallWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Mmmm... nice and tight! No way you&#39;re getting it up in that!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_small_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &lt;center&gt;
            &#39;&#39;Small Chastity Cage&#39;&#39;&lt;br&gt;
            &lt;span title=&quot;Sissy +5. All Alpha Score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@, @@color:gold;A gains -1@@&lt;br&gt;
            &lt;br&gt;&lt;/span&gt;&lt;/center&gt;
            &lt;&lt;if $cageKeyOwned is true&gt;&gt;
              &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;removeItem &quot;cockToy&quot;&gt;&gt;
                &lt;&lt;set $inChastity to false&gt;&gt;
                &lt;&lt;set $sissyScore to $sissyScore -5&gt;&gt;
                &lt;&lt;set $alphaGainMod to $alphaGainMod +1&gt;&gt;
                &lt;&lt;if $itemsWorn[&quot;accessoryStrapon&quot;][&quot;worn&quot;]&gt;&gt;
                  &lt;&lt;removeItem &quot;accessoryStrapon&quot;&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;You don&#39;t own your key!&quot;&gt;
                @@color:yellow;No key!@@
              &lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Cock Ring */
    &lt;div id=&quot;crCockRingWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Well, it is a bit bigger than a finger.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/cock_ring_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Cock Ring&#39;&#39;&lt;br&gt;
            &lt;span title=&quot;Sissy -3, Slut +1, Alpha +1&quot;&gt;
            &lt;center&gt;@@color:magenta;S-3@@, @@color:red;U+1@@, @@color:cyan;A+1@@&lt;br&gt;&lt;/center&gt;
            &lt;/span&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;cockToy&quot;&gt;&gt;
              &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
              &lt;&lt;set $slutScore to $slutScore -1&gt;&gt;
              &lt;&lt;set $alphaScore to $alphaScore -1&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Strap-On */
    &lt;div id=&quot;crStraponWorn&quot; class=&quot;shop_item hide&quot; title=&quot;What do you need that for?&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/strapon_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Strap-On&#39;&#39;&lt;br&gt;
            &lt;span title=&quot;Allows topping while in chastity, but you lose 1 Alpha point.&quot;&gt;
              &lt;center&gt;@@color:yellow;Special&lt;br&gt;
              (hover here)@@&lt;br&gt;&lt;/center&gt;
              &lt;br&gt;
            &lt;/span&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;accessoryStrapon&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Beads, Small */
    &lt;div id=&quot;crBeadsSmallWorn&quot; class=&quot;shop_item hide&quot; title=&quot;These are fun, but dick is better.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_small_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Beads, Small&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;insertable&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Beads, Medium */
    &lt;div id=&quot;crBeadsMediumWorn&quot; class=&quot;shop_item hide&quot; title=&quot;I&#39;m gonna yank those out sooo hard!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_medium_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Beads, Medium&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;insertable&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Beads, Large */
    &lt;div id=&quot;crBeadsLargeWorn&quot; class=&quot;shop_item hide&quot; title=&quot;These will make you gape for sure&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_large_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Beads, Large&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;insertable&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

      /* Plug, Small */
    &lt;div id=&quot;crPlugSmallWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Soon that&#39;ll be too small for you. 😈&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_small_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Small&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;insertable&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Plug, Medium */
    &lt;div id=&quot;crPlugMediumWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Always ready, that&#39;s my motto.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_medium_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Medium&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;insertable&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Plug, Large */
    &lt;div id=&quot;crPlugLargeWorn&quot; class=&quot;shop_item hide&quot; title=&quot;The best cum plug on the market.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_large_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Large&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;insertable&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Plug, Huge */
    &lt;div id=&quot;crPlugHugeWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Why this? I like you tight babe.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_huge_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Huge&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
            &lt;&lt;link &quot;Remove ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
              &lt;&lt;removeItem &quot;insertable&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

  &lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;&lt;/center&gt;\
\
!!Wear:
&lt;&lt;nobr&gt;&gt;
  &lt;details&gt; /* Wear: Underwear */
    &lt;summary&gt;Underwear&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;

        /* Boxers */
        &lt;div id=&quot;crBoxers&quot; class=&quot;shop_item&quot; title=&quot;Huh? That&#39;s not very girly honey...&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boxers_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Boxers&#39;&#39;&lt;br&gt;
              @@color:cyan;A+1@@&lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;underwear&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;if $alphaScore gt -6&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;underwear&quot; &quot;Boxers&quot; &quot;boxers&quot;&gt;&gt;
                    &lt;&lt;set $alphaScore++&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;else&gt;&gt;
                  @@color:cyan;Alpha too low!@@
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Boyshorts */
        &lt;div id=&quot;crBoyshorts&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start somewhere...&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boyshorts_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td&gt;
              &#39;&#39;Boyshorts&#39;&#39;&lt;br&gt;
              @@color:magenta;S+1@@&lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;underwear&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                  &lt;&lt;wearItem &quot;underwear&quot; &quot;Boyshorts&quot; &quot;boyshorts&quot;&gt;&gt;
                  &lt;&lt;set $sissyScore++&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Panties, Classic */
        &lt;div id=&quot;crPantiesClassic&quot; class=&quot;shop_item&quot; title=&quot;You can never have enough panties!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_classic_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td&gt;
              &#39;&#39;Panties&#39;&#39;&lt;br&gt;
              @@color:magenta;S+1@@&lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;underwear&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;if $sissyLevel gte 1&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;underwear&quot; &quot;PantiesClassic&quot; &quot;panties&quot;&gt;&gt;
                      &lt;&lt;set $sissyScore++&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                &lt;&lt;else&gt;&gt;
                  @@color:magenta;Sissy lvl too low!@@
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Panties, Cheeky */
        &lt;div id=&quot;crPantiesCheeky&quot; class=&quot;shop_item&quot; title=&quot;Ooo! Those&#39;ll show off your ass nicely!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_cheeky_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td&gt;
              &#39;&#39;Cheeky Panties&#39;&#39;&lt;br&gt;
              @@color:magenta;S+2@@&lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;underwear&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;if $sissyLevel gte 1&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;underwear&quot; &quot;PantiesCheeky&quot; &quot;panties&quot;&gt;&gt;
                      &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                &lt;&lt;else&gt;&gt;
                  @@color:magenta;Sissy lvl too low!@@
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Panties, String Bikini */
        &lt;div id=&quot;crPantiesBikini&quot; class=&quot;shop_item&quot; title=&quot;Mmmm! Sexy!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_bikini_string_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td&gt;
              &#39;&#39;Bikini Panties&#39;&#39;&lt;br&gt;
              @@color:magenta;S+3@@&lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;underwear&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;if $sissyLevel gte 1&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;underwear&quot; &quot;PantiesBikini&quot; &quot;panties&quot;&gt;&gt;
                      &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                &lt;&lt;else&gt;&gt;
                  @@color:magenta;Sissy lvl too low!@@
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Hosiery */
    &lt;summary&gt;Hosiery&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;

        /* Socks */
        &lt;div id=&quot;crSocks&quot; class=&quot;shop_item&quot; title=&quot;Ooh, I LOVE the &#39;Hello Kitty&#39; ones!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/socks_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;&quot;&gt;
              &#39;&#39;Socks&#39;&#39;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;hosiery&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;hosiery&quot; &quot;Socks&quot; &quot;socks&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Kneehighs */
        &lt;div id=&quot;crKneehighs&quot; class=&quot;shop_item&quot; title=&quot;Schoolgirl style! I like where this is going!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/kneehigh_socks_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td&gt;
              &#39;&#39;Kneehighs&#39;&#39;&lt;br&gt;
              @@color:magenta;S+1@@&lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;hosiery&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;if $sissyLevel gte 1&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;hosiery&quot; &quot;Kneehighs&quot; &quot;kneehighs&quot;&gt;&gt;
                      &lt;&lt;set $sissyScore++&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                &lt;&lt;else&gt;&gt;
                  @@color:magenta;Sissy lvl too low!@@
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Pantyhose */
        &lt;div id=&quot;crPantyhose&quot; class=&quot;shop_item&quot; title=&quot;You do know those don&#39;t hide anything, right?&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
          &lt;tr class=&quot;perk_table&quot;&gt;
            &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pantyhose_01.jpg&quot;&gt;&lt;/td&gt;
            &lt;td&gt;
              &#39;&#39;Pantyhose&#39;&#39;&lt;br&gt;
              @@color:magenta;S+2@@&lt;br&gt;
              &lt;br&gt;
              &lt;&lt;if $itemsWorn[&quot;hosiery&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                &lt;&lt;if $sissyLevel gte 1&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;hosiery&quot; &quot;Pantyhose&quot; &quot;pantyhose&quot;&gt;&gt;
                      &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                &lt;&lt;else&gt;&gt;
                  @@color:magenta;Sissy lvl too low!@@
                &lt;&lt;/if&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Full Body */
    &lt;summary&gt;Full Body Outfits&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;
      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Lower Body */
    &lt;summary&gt;Lower Body&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;

        /* Pants */
        &lt;div id=&quot;crPants&quot; class=&quot;shop_item&quot; title=&quot;Well, that&#39;s an unpleasant surprise...&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pants_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Pants&#39;&#39;&lt;br&gt;
                @@color:cyan;A+3@@&lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;if $alphaScore gt -8&gt;&gt;
                      &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                        &lt;&lt;wearItem &quot;lowerBody&quot; &quot;Pants&quot; &quot;pants&quot;&gt;&gt;
                        &lt;&lt;set $alphaScore to $alphaScore +3&gt;&gt;
                      &lt;&lt;/link&gt;&gt;
                  &lt;&lt;else&gt;&gt;
                    @@color:cyan;Alpha too low!@@
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Short-Shorts */
        &lt;div id=&quot;crShortShorts&quot; class=&quot;shop_item&quot; title=&quot;Mmm! Those&#39;ll turn some heads!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/shorts_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td&gt;
                &#39;&#39;Short-Shorts&#39;&#39;&lt;br&gt;
                @@color:magenta;S+1@@, @@color:red;U+1@@&lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;if $alphaScore lt 0&gt;&gt;
                      &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                        &lt;&lt;wearItem &quot;lowerBody&quot; &quot;ShortShorts&quot; &quot;shorts&quot;&gt;&gt;
                        &lt;&lt;set $sissyScore++&gt;&gt;
                        &lt;&lt;set $slutScore++&gt;&gt;
                      &lt;&lt;/link&gt;&gt;
                  &lt;&lt;else&gt;&gt;
                    @@color:cyan;Alpha too high!@@
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Skirt, long */
        &lt;div id=&quot;crSkirtLong&quot; class=&quot;shop_item&quot; title=&quot;Better, but a little long for my taste.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/skirt_long_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td&gt;
                &#39;&#39;Long Skirt&#39;&#39;&lt;br&gt;
                @@color:cyan;A-1@@, @@color:magenta;S+3@@, @@color:red;U+1@@&lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 1 and $slutLevel gte 1&gt;&gt;
                      &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                        &lt;&lt;wearItem &quot;lowerBody&quot; &quot;SkirtLong&quot; &quot;skirt&quot;&gt;&gt;
                        &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
                        &lt;&lt;set $slutScore++&gt;&gt;
                        &lt;&lt;set $alphaScore--&gt;&gt;
                      &lt;&lt;/link&gt;&gt;
                  &lt;&lt;elseif $sissyLevel lt 1 and $slutLevel lt 1&gt;&gt;
                    @@color:magenta;S@@ and @@color:red;U@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 1&gt;&gt;
                    @@color:magenta;Sissy lvl too low!@@
                  &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
                    @@color:red;Slut lvl too low!@@
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Upper Body */
    &lt;summary&gt;Upper Body&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;

        /* Buttondown (M) */
        &lt;div id=&quot;crButtondownM&quot; class=&quot;shop_item&quot; title=&quot;OK, but a women&#39;s version would be better...&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/buttondown_shirt_mens_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Buttondown ♂️&#39;&#39;&lt;br&gt;
                @@color:cyan;A+1@@&lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;if $alphaScore gt -4&gt;&gt;
                      &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                        &lt;&lt;wearItem &quot;upperBody&quot; &quot;ButtondownM&quot; &quot;shirt&quot;&gt;&gt;
                        &lt;&lt;set $alphaScore++&gt;&gt;
                      &lt;&lt;/link&gt;&gt;
                  &lt;&lt;else&gt;&gt;
                    @@color:cyan;Alpha too low!@@
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* T-Shirt (F) */
        &lt;div id=&quot;crTshirtF&quot; class=&quot;shop_item&quot; title=&quot;Oh! The one with the word &#39;SLUT&#39; on it is sold out...&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_female_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td&gt;
                &#39;&#39;T-Shirt ♀️&#39;&#39;&lt;br&gt;
                @@color:magenta;S+1@@&lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;upperBody&quot; &quot;TshirtF&quot; &quot;shirt&quot;&gt;&gt;
                    &lt;&lt;set $sissyScore++&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* T-Shirt (M) */
        &lt;div id=&quot;crTshirtM&quot; class=&quot;shop_item&quot; title=&quot;Bleh! At least pick a cuter one...&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_male_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td&gt;
                &#39;&#39;T-Shirt ♂️&#39;&#39;&lt;br&gt;
                @@color:cyan;A+1@@&lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;upperBody&quot; &quot;TshirtM&quot; &quot;shirt&quot;&gt;&gt;
                    &lt;&lt;set $alphaScore++&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Hoodie */
        &lt;div id=&quot;crHoodie&quot; class=&quot;shop_item&quot; title=&quot;That hood might come in handy.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/hoodie_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td&gt;
                &#39;&#39;Hoodie&#39;&#39;&lt;br&gt;
                @@color:cyan;A+2@@&lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;if $alphaScore gt -8&gt;&gt;
                      &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                        &lt;&lt;wearItem &quot;upperBody&quot; &quot;Hoodie&quot; &quot;hoodie&quot;&gt;&gt;
                        &lt;&lt;aUp 2&gt;&gt;
                      &lt;&lt;/link&gt;&gt;
                  &lt;&lt;else&gt;&gt;
                    @@color:cyan;Alpha too low!@@
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Hoodie, Oversized */
        &lt;div id=&quot;crHoodieOversized&quot; class=&quot;shop_item&quot; title=&quot;That hood might come in handy.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/hoodie_oversized_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td&gt;
                &lt;center&gt;&#39;&#39;Hoodie, Oversized &#39;&#39;&lt;br&gt;
                @@color:magenta;S+1@@&lt;/center&gt;
                &lt;br&gt;
                &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or
                  $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;upperBody&quot; &quot;HoodieOversized&quot; &quot;hoodie&quot;&gt;&gt;
                    &lt;&lt;set $sissyScore++&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Accessories */
    &lt;summary&gt;Accessories&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;

        /* Body Harness */
        &lt;div id=&quot;crBodyHarness&quot; class=&quot;shop_item&quot; title=&quot;I&#39;m getting a sex slave? NICE!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/body_harness_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Body Harness&#39;&#39;&lt;br&gt;
                &lt;center&gt;@@color:red;U+5@@&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;&lt;/center&gt;
                &lt;&lt;if $itemsWorn[&quot;accessoryBody&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;accessoryBody&quot; &quot;BodyHarness&quot; &quot;body harness&quot;&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +5&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Collar, Ringed */
        &lt;div id=&quot;crCollarRing&quot; class=&quot;shop_item&quot; title=&quot;What a good bitch. Now, find a leash!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_ringed_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Collar, Ringed&#39;&#39;&lt;br&gt;
                &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;&lt;/center&gt;
                &lt;&lt;if $itemsWorn[&quot;accessoryNeck&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $slutLevel gte 1&gt;&gt;
                      &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                        &lt;&lt;wearItem &quot;accessoryNeck&quot; &quot;CollarRing&quot; &quot;collar&quot;&gt;&gt;
                        &lt;&lt;set $mcCollared to true&gt;&gt;
                        &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
                      &lt;&lt;/link&gt;&gt;
                  &lt;&lt;else&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Collar, Shock */
        &lt;div id=&quot;crCollarShock&quot; class=&quot;shop_item&quot; title=&quot;Quite shocking I must say.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_shock_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Collar, Shock&#39;&#39;&lt;br&gt;
                &lt;span title=&quot;If worn while cumming, you can taze yourself for Sissy +4 and Slut +4. Can help you get off in cases where you might not be able to otherwise, you masochistic slut.&quot;&gt;
                &lt;center&gt;@@color:yellow;Special&lt;br&gt;
                (hover here)@@&lt;br&gt;&lt;/center&gt;&lt;/span&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;accessoryNeck&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 8 and $alphaLevel lt -5 and $hasPerkMasochist is true&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;set $mcCollared to true&gt;&gt;
                      &lt;&lt;wearItem &quot;accessoryNeck&quot; &quot;CollarShock&quot; &quot;shock collar&quot;&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                  &lt;&lt;elseif $hasPerkMasochist isnot true&gt;&gt;
                    &lt;span title=&quot;Need Perk: Masochist&quot;&gt;Need: @@color:orange;Masochist@@&lt;/span&gt;
                  &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 8 and $alphaLevel gt -5&gt;&gt;
                    @@color:magenta;S@@, @@color:red;U@@ low! @@color:cyan;A@@ high!
                  &lt;&lt;elseif $slutLevel lt 8&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
                    @@color:magenta;Sissy lvl@@ too low!
                  &lt;&lt;elseif $alphaLevel gt -5&gt;&gt;
                    @@color:cyan;Alpha@@ too high!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Collar, Spiked */
        &lt;div id=&quot;crCollarSpiked&quot; class=&quot;shop_item&quot; title=&quot;What a bad little bitch.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_spiked_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Collar, Spiked&#39;&#39;&lt;br&gt;
                &lt;center&gt;@@color:red;U+3@@, @@color:cyan;A+1@@&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;&lt;/center&gt;
                &lt;&lt;if $itemsWorn[&quot;accessoryNeck&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 3 and $slutLevel gte 1 and $alphaLevel gte 5&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;set $mcCollared to true&gt;&gt;
                      &lt;&lt;wearItem &quot;accessoryNeck&quot; &quot;CollarSpiked&quot; &quot;collar&quot;&gt;&gt;
                      &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
                      &lt;&lt;set $alphaScore to $alphaScore +1&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                  &lt;&lt;elseif $sissyLevel lt 3 and $slutLevel lt 1 and $alphaLevel lt 5&gt;&gt;
                    @@color:magenta;S@@, @@color:red;U@@, @@color:cyan;A@@ too low!
                  &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 3&gt;&gt;
                    @@color:magenta;Sissy lvl@@ too low!
                  &lt;&lt;elseif $alphaLevel lt 5&gt;&gt;
                    @@color:cyan;Alpha lv@@ too low!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Nipple Clamps */
        &lt;div id=&quot;crNippleClamps&quot; class=&quot;shop_item&quot; title=&quot;How is THIS turning you on!?&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/nipple_clamps_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Nipple Clamps&#39;&#39;&lt;br&gt;
                &lt;span title=&quot;Slut +1 when worn; +2 if worn weighted.&quot;&gt;&lt;center&gt;@@color:red;U+1@@ or @@color:red;U+2@@&lt;br&gt;
                &lt;br&gt;&lt;/center&gt;&lt;/span&gt;
                &lt;&lt;if $nippleClampsWorn isnot true&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 3 and $slutLevel gte 3 and $hasPerkMasochist is true&gt;&gt;
                    &lt;&lt;if $cash lt 10&gt;&gt;
                      Can&#39;t afford!
                    &lt;&lt;else&gt;&gt;
                      &lt;span title=&quot;Wear normally: Slut +1&quot;&gt;
                        &lt;&lt;link &quot;Wear norm ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                          &lt;&lt;wearItem &quot;accessoryNips&quot; &quot;NippleClamps&quot; &quot;nipple clamps&quot;&gt;&gt;
                          &lt;&lt;set $slutScore++&gt;&gt;
                          &lt;&lt;set $nippleClampsWeighted to false&gt;&gt;
                        &lt;&lt;/link&gt;&gt;
                      &lt;/span&gt;&lt;br&gt;
                      &lt;span title=&quot;Wear Weighted: Slut +2&quot;&gt;
                        &lt;&lt;link &quot;Weighted ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                          &lt;&lt;wearItem &quot;accessoryNips&quot; &quot;NippleClamps&quot; &quot;nipple clamps&quot;&gt;&gt;
                          &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
                          &lt;&lt;set $nippleClampsWeighted to true&gt;&gt;
                        &lt;&lt;/link&gt;&gt;
                      &lt;/span&gt;
                    &lt;&lt;/if&gt;&gt;
                  &lt;&lt;elseif $sissyLevel lt 3 and $slutLevel lt 3&gt;&gt;
                    @@color:magenta;S@@, @@color:red;U@@ too low!
                  &lt;&lt;elseif $slutLevel lt 3&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 3&gt;&gt;
                    @@color:magenta;Sissy lvl@@ too low!
                  &lt;&lt;elseif $hasPerkMasochist isnot true&gt;&gt;
                    &lt;span title=&quot;Need perk: Masochist&quot;&gt;@@color:orange;Need: Masochist@@&lt;/span&gt;
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Costumes */
    &lt;summary&gt;Costumes&lt;/summary&gt;
    &lt;p&gt;
      /* Catgirl Costume */
      &lt;table id=&quot;crCatgirl&quot; class=&quot;costume hide&quot;&gt;
        &lt;tr class=&quot;&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/catgirl_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Catgirl&#39;&#39;&lt;br&gt;
            &lt;&lt;sc &quot;Sissy +3 when worn&quot;&gt;&gt;S+3&lt;&lt;/sc&gt;&gt;&lt;br&gt;
            &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
            &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] or
              $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
              &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;wearCostume &quot;Catgirl&quot;&gt;&gt;
                &lt;&lt;set $sissyScore+=3&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;yc &quot;Take off all other outer-wear first&quot;&gt;&gt;Undress first!&lt;&lt;/yc&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;

      /* Demon Costume */
      &lt;table id=&quot;crDemon&quot; class=&quot;costume hide&quot;&gt;
        &lt;tr&gt;
          &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/demon_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Demon&#39;&#39;&lt;br&gt;
            &lt;&lt;uc &quot;Slut +4&quot;&gt;&gt;U+4&lt;&lt;/uc&gt;&gt;&lt;br&gt;
            &lt;&lt;yc &quot;This costume may affect certain scenes (in a FUTURE version)&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
            &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] or
              $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
              &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;wearCostume &quot;Demon&quot;&gt;&gt;
                &lt;&lt;set $slutScore+=4&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;yc &quot;Take off all other outer-wear first&quot;&gt;&gt;Undress first!&lt;&lt;/yc&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;

      /* Elf Costume */
      &lt;table id=&quot;crElf&quot; class=&quot;costume hide&quot;&gt;
        &lt;tr&gt;
          &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/elf_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Elf&#39;&#39;&lt;br&gt;
            &lt;&lt;uc &quot;Slut +3&quot;&gt;&gt;U+3&lt;&lt;/uc&gt;&gt;&lt;br&gt;
            &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
            &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] or
              $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
              &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;wearCostume &quot;Elf&quot;&gt;&gt;
                &lt;&lt;set $slutScore+=3&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;yc &quot;Take off all other outer-wear first&quot;&gt;&gt;Undress first!&lt;&lt;/yc&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;

      /* Schoolgirl Costume */
      &lt;table id=&quot;crSchoolgirl&quot; class=&quot;costume hide&quot;&gt;
        &lt;tr&gt;
          &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/schoolgirl_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Schoolgirl&#39;&#39;&lt;br&gt;
            &lt;&lt;sc &quot;Sissy +4 when worn&quot;&gt;&gt;S+4&lt;&lt;/sc&gt;&gt;&lt;br&gt;
            &lt;br&gt;
            &lt;&lt;if not ($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] or
              $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;costume&quot;][&quot;worn&quot;])&gt;&gt;
              &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                &lt;&lt;wearCostume &quot;Schoolgirl&quot;&gt;&gt;
                &lt;&lt;set $sissyScore+=4&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;&lt;yc &quot;Take off all other outer-wear first&quot;&gt;&gt;Undress first!&lt;&lt;/yc&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Cock Toys */
    &lt;summary&gt;Cock Toys&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;

        /* Chastity Cage */
        &lt;div id=&quot;crChastityCage&quot; class=&quot;shop_item&quot; title=&quot;Dick&#39;s don&#39;t get locked up - THAT&#39;s a clit.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Chastity Cage&#39;&#39;&lt;br&gt;
                &lt;center&gt;&lt;span title=&quot;Sissy +5. When worn, all Alpha score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@, @@color:gold;A gains -1@@&lt;br&gt;&lt;/span&gt;
                &lt;br&gt;
                &lt;&lt;if $cageKeyOwned isnot true&gt;&gt;
                  &lt;span title=&quot;You don&#39;t currently own the key to this cage!&quot;&gt;@@color:yellow;No key!@@&lt;/span&gt;
                &lt;&lt;/if&gt;&gt;
                &lt;br&gt;
                &lt;/center&gt;
                &lt;&lt;if $itemsWorn[&quot;cockToy&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCage&quot; &quot;cock cage&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Chastity Cage, Small */
        &lt;div id=&quot;crChastityCageSmall&quot; class=&quot;shop_item&quot; title=&quot;Dick&#39;s don&#39;t get locked up - THAT&#39;s a clit.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_small_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &lt;center&gt;
                &#39;&#39;Small Chastity Cage&#39;&#39;&lt;br&gt;
                &lt;span title=&quot;Sissy +5. When worn, all Alpha score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@, @@color:gold;A gains -1@@&lt;br&gt;&lt;/span&gt;
                &lt;br&gt;
                &lt;&lt;if $cageKeyOwned isnot true&gt;&gt;
                  &lt;span title=&quot;You don&#39;t currently own the key to this cage!&quot;&gt;@@color:yellow;No key!@@&lt;/span&gt;
                &lt;&lt;/if&gt;&gt;
                &lt;br&gt;
                &lt;/center&gt;
                &lt;&lt;if $itemsWorn[&quot;cockToy&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCageSmall&quot; &quot;cock cage&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Cock Ring */
        &lt;div id=&quot;crCockRing&quot; class=&quot;shop_item&quot; title=&quot;Well, it is a bit bigger than a finger.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/cock_ring_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Cock Ring&#39;&#39;&lt;br&gt;
                &lt;span title=&quot;Sissy -3, Slut +1, Alpha +1&quot;&gt;
                  &lt;center&gt;@@color:magenta;S-3@@, @@color:red;U+1@@, @@color:cyan;A+1@@&lt;br&gt;&lt;/center&gt;
                &lt;/span&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;cockToy&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;cockToy&quot; &quot;CockRing&quot; &quot;cock ring&quot;&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore -3&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +1&gt;&gt;
                    &lt;&lt;set $alphaScore to $alphaScore +1&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Strap-On */
        &lt;div id=&quot;crStrapon&quot; class=&quot;shop_item&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/strapon_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Strap-On&#39;&#39;&lt;br&gt;
                &lt;span title=&quot;Allows topping while in chastity, but you lose 1 Alpha point.&quot;&gt;
                  &lt;center&gt;@@color:yellow;Special&lt;br&gt;
                  (hover here)@@&lt;br&gt;
                  &lt;br&gt;&lt;/center&gt;
                &lt;/span&gt;
                &lt;&lt;if $inChastity or $mcSex is &quot;female&quot;&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;accessoryStrapon&quot; &quot;Strapon&quot; &quot;strap-on&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;else&gt;&gt;
                  &lt;center&gt;&lt;span title=&quot;Can only be worn if female or while wearing a Chastity Cage.&quot;&gt;@@color:yellow;Can&#39;t wear!@@&lt;/span&gt;&lt;/center&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;

  &lt;details&gt; /* Wear: Insertables */
    &lt;summary&gt;Insertables&lt;/summary&gt;
    &lt;p&gt;
      &lt;div class=&quot;shop_section&quot;&gt;

        /* Beads, Small */
        &lt;div id=&quot;crBeadsSmall&quot; class=&quot;shop_item&quot; title=&quot;These are fun, but dick is better.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_small_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Beads, Small&#39;&#39;&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;insertable&quot; &quot;BeadsSmall&quot; &quot;anal beads&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Beads, Medium */
        &lt;div id=&quot;crBeadsMedium&quot; class=&quot;shop_item&quot; title=&quot;I&#39;m gonna yank those out sooo hard!&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_medium_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Beads, Medium&#39;&#39;&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 1 and $slutLevel gte 1&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;insertable&quot; &quot;BeadsMedium&quot; &quot;anal beads&quot;&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                  &lt;&lt;elseif $sissyLevel lt 1 and $slutLevel lt 1&gt;&gt;
                    @@color:magenta;S@@ and @@color:red;U@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 2&gt;&gt;
                    @@color:magenta;Sissy lvl@@ too low!
                  &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Beads, Large */
        &lt;div id=&quot;crBeadsLarge&quot; class=&quot;shop_item&quot; title=&quot;These will make you gape for sure&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_large_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Beads, Large&#39;&#39;&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 3&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;insertable&quot; &quot;BeadsLarge&quot; &quot;anal beads&quot;&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                  &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 3&gt;&gt;
                    @@color:magenta;S@@ and @@color:red;U@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
                    @@color:magenta;Sissy lvl@@ too low!
                  &lt;&lt;elseif $slutLevel lt 3&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

          /* Plug, Small */
        &lt;div id=&quot;crPlugSmall&quot; class=&quot;shop_item&quot; title=&quot;Soon that&#39;ll be too small for you. 😈&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_small_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Plug, Small&#39;&#39;&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                    &lt;&lt;wearItem &quot;insertable&quot; &quot;PlugSmall&quot; &quot;buttplug&quot;&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Plug, Medium */
        &lt;div id=&quot;crPlugMedium&quot; class=&quot;shop_item&quot; title=&quot;Always ready, that&#39;s my motto.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_medium_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Plug, Medium&#39;&#39;&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $slutLevel gte 2&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;insertable&quot; &quot;PlugMedium&quot; &quot;buttplug&quot;&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                  &lt;&lt;else&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Plug, Large */
        &lt;div id=&quot;crPlugLarge&quot; class=&quot;shop_item&quot; title=&quot;The best cum plug on the market.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_large_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Plug, Large&#39;&#39;&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 3 and $slutLevel gte 4&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;insertable&quot; &quot;PlugLarge&quot; &quot;buttplug&quot;&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                  &lt;&lt;elseif $sissyLevel lt 3 and $slutLevel lt 4&gt;&gt;
                    @@color:magenta;S@@ and @@color:red;U@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 3&gt;&gt;
                    @@color:magenta;Sissy lvl@@ too low!
                  &lt;&lt;elseif $slutLevel lt 4&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

        /* Plug, Huge */
        &lt;div id=&quot;crPlugHuge&quot; class=&quot;shop_item&quot; title=&quot;Why this? I like you tight babe.&quot;&gt;
          &lt;table class=&quot;shop_table&quot;&gt;
            &lt;tr class=&quot;perk_table&quot;&gt;
              &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_huge_01.jpg&quot;&gt;&lt;/td&gt;
              &lt;td class=&quot;&quot;&gt;
                &#39;&#39;Plug, Huge&#39;&#39;&lt;br&gt;
                &lt;br&gt;
                &lt;br&gt;
                &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;] isnot true&gt;&gt;
                  &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 5&gt;&gt;
                    &lt;&lt;link &quot;Wear ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;
                      &lt;&lt;wearItem &quot;insertable&quot; &quot;PlugHuge&quot; &quot;buttplug&quot;&gt;&gt;
                    &lt;&lt;/link&gt;&gt;
                  &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 5&gt;&gt;
                    @@color:magenta;S@@ and @@color:red;U@@ too low!
                  &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
                    @@color:magenta;Sissy lvl@@ too low!
                  &lt;&lt;elseif $slutLevel lt 5&gt;&gt;
                    @@color:red;Slut lvl@@ too low!
                  &lt;&lt;/if&gt;&gt;
                &lt;&lt;/if&gt;&gt;
              &lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/p&gt;
  &lt;/details&gt;
&lt;&lt;/nobr&gt;&gt;\
\
&lt;hr&gt;
&lt;&lt;nobr&gt;&gt;
  &lt;&lt;if $itemsWorn[&quot;underwear&quot;][&quot;worn&quot;] isnot true&gt;&gt;
    You need to wear &#39;&#39;Underwear&#39;&#39;!&lt;br&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $itemsWorn[&quot;hosiery&quot;][&quot;worn&quot;] isnot true&gt;&gt;
    You need to wear &#39;&#39;Hosiery&#39;&#39;!&lt;br&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if not $itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] and not $itemsWorn[&quot;costume&quot;][&quot;worn&quot;]&gt;&gt;
    &lt;&lt;if $itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;] isnot true&gt;&gt;
      You need to wear &#39;&#39;Lower Body&#39;&#39;, &#39;&#39;Full Body&#39;&#39;, or a &#39;&#39;Costume&#39;&#39;!&lt;br&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;&lt;if $itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] isnot true&gt;&gt;
      You need to wear &#39;&#39;Upper Body&#39;&#39;, &#39;&#39;Full Body&#39;&#39;, or a &#39;&#39;Costume&#39;&#39;!&lt;br&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if (($itemsWorn[&quot;upperBody&quot;][&quot;worn&quot;] and $itemsWorn[&quot;lowerBody&quot;][&quot;worn&quot;]) or
    ($itemsWorn[&quot;fullBody&quot;][&quot;worn&quot;] or $itemsWorn[&quot;costume&quot;][&quot;worn&quot;]))
    and $itemsWorn[&quot;hosiery&quot;][&quot;worn&quot;] and $itemsWorn[&quot;underwear&quot;][&quot;worn&quot;]&gt;&gt;
    &lt;ul&gt;
    &lt;&lt;if $episode is 2 and $ep2ChangingRoomVisited isnot true&gt;&gt;
      &lt;&lt;if $ep1End is 2&gt;&gt;
        &lt;li&gt;[[Continue ▶▶▶|Occupied][$ep2ChangingRoomVisited to true]]&lt;/li&gt;
      &lt;&lt;else&gt;&gt;
        &lt;li&gt;[[Continue ▶▶▶|Public Fantasy][$ep2ChangingRoomVisited to true]]&lt;/li&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;elseif $episode is 3 and not hasVisited(&quot;Party Time&quot;)&gt;&gt;
      &lt;&lt;if $itemsWorn[&quot;costume&quot;][&quot;worn&quot;]&gt;&gt;
        &lt;li&gt;[[Head to the party ▶▶▶|Party Time]]&lt;/li&gt;
      &lt;&lt;else&gt;&gt;
        You need to wear a &#39;&#39;Costume&#39;&#39;!&lt;br&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li&gt;&lt;&lt;return&gt;&gt;&lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;/ul&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="99" name="Game Settings" tags="Menu" position="175,475" size="100,100">!Game Settings
!!!Content Settings
&lt;table width=&quot;80%&quot;&gt;
&lt;tr&gt;
  &lt;th width=&quot;40%&quot;&gt;Content Type&lt;/th&gt;
  &lt;th&gt;Enable&lt;/th&gt;
  &lt;th&gt;Disable&lt;/th&gt;
&lt;/tr&gt;
&lt;tr title=&quot;Cannot disable yet; check back in a future update&quot;&gt;
  &lt;td style=&quot;color:yellow&quot;&gt;Rape/non-consensual:&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$allowContentRape&quot; true autocheck&gt;&gt; Enabled&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;N/A&lt;/td&gt;
&lt;/tr&gt;
&lt;tr title=&quot;Cannot disable yet; check back in a future update&quot;&gt;
  &lt;td style=&quot;color:yellow&quot;&gt;Pissplay:&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$allowContentPissplay&quot; true autocheck&gt;&gt; Enabled&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$allowContentPissplay&quot; false autocheck&gt;&gt; Disabled&lt;/label&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr title=&quot;Cannot disable yet; check back in a future update&quot;&gt;
  &lt;td style=&quot;color:yellow&quot;&gt;Cumplay:&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$allowContentCumplay&quot; true autocheck&gt;&gt; Enabled&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;N/A&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;\
!!!Story Options
&lt;table width=&quot;80%&quot;&gt;
&lt;tr&gt;
  &lt;th width=&quot;40%&quot;&gt;Option&lt;/th&gt;
  &lt;th&gt;Default&lt;/th&gt;
  &lt;th&gt;Alternative&lt;/th&gt;
&lt;/tr&gt;
&lt;tr title=&quot;Flips pronouns for male (non-MC) characters to female.  Doesn&#39;t change genitalia.&quot;&gt;
  &lt;td style=&quot;color:yellow&quot;&gt;Masculine characters are:&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$maleChars&quot; true autocheck&gt;&gt; Male&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$maleChars&quot; false autocheck&gt;&gt; Futa&lt;/label&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr title=&quot;Hides results of choices before making them.&quot;&gt;
  &lt;td style=&quot;color:yellow&quot;&gt;Blind-Choice Mode:&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$blindChoiceMode&quot; false autocheck&gt;&gt; Disabled&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;/*&lt;label&gt;&lt;&lt;radiobutton &quot;$blindChoiceMode&quot; true autocheck&gt;&gt;*/Enabled/*&lt;/label&gt;*/ (not supported)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr title=&quot;Removes your ability to choose between the options; only allows random choices.&quot;&gt;
  &lt;td style=&quot;color:yellow&quot;&gt;Random Only Mode:&lt;/td&gt;
  &lt;td&gt;&lt;label&gt;&lt;&lt;radiobutton &quot;$randomOnlyMode&quot; false autocheck&gt;&gt; Disabled&lt;/label&gt;&lt;/td&gt;
  &lt;td&gt;/*&lt;label&gt;&lt;&lt;radiobutton &quot;$randomOnlyMode&quot; true autocheck&gt;&gt;*/Enabled/*&lt;/label&gt;*/ (not supported)&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;\
!!!Display Options
&lt;table width=&quot;80%&quot;&gt;
&lt;tr&gt;
  &lt;th&gt;Option&lt;/th&gt;
  &lt;th&gt;Setting&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;Nothing here yet!&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;\
&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="100" name="Help" tags="Menu" position="175,350" size="100,100">!Help
!!Color Coding &amp; Text Reference
&lt;table width=&quot;100%&quot;&gt;\
&lt;tr&gt;\
  &lt;th&gt;Choice and text color-coding:&lt;/th&gt;\
  &lt;th&gt;Speech color-coding:&lt;/th&gt;\
&lt;/tr&gt;\
&lt;tr&gt;\
  &lt;td&gt;\
* Text in @@color:cyan;cyan@@ is for @@color:cyan;ALPHA (A)@@ choices or effects
* Text in @@color:magenta;magenta@@ is for @@color:magenta;SISSY (S)@@ choices or effects
* Text in @@color:red;red@@ is for @@color:red;SLUT (U)@@ choices or effects
* Text in @@color:gold;gold@@ relates to //reducing// your @@color:cyan;ALPHA (A)@@ score
* Text in @@color:yellow;yellow@@ is informational
  &lt;/td&gt;\
  &lt;td&gt;\
* ⚧️ Mina/♀️ Lea: @@color:deepskyblue;DeepSkyBlue@@
* MC: @@color:coral;coral@@
* Andrea: @@color:lemonchiffon;lemonchiffon@@
* Others: @@color:aquamarine;aquamarine@@
  &lt;/td&gt;\
&lt;/tr&gt;\
&lt;/table&gt;\
Note that a set of three arrows (&lt;&lt;link &quot;▶▶▶&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;) indicates a clickable link for the text that precedes it; usually a choice of some kind.

Text in ((double parenthesis)) indicates cases where your skills/perks were evaluated to determine story progression or other important notes related to your skills/perks. This will usually be highlighted in an appropriate color and will often have more information if you hover over the text.

Colored text that isn&#39;t a character speaking will //often// have more information about it if you hover over that text.\
If you&#39;re unsure of the meaning of something, try hovering over it and see if more information pops up.
!!Abbreviations
* MC - @@color:coral;Main Character@@ (you!)
* MG - @@color:deepskyblue;Main Girl@@ (⚧️ Mina / ♀️ Lea)
* @@color:cyan;A@@ - @@color:cyan;ALPHA@@ (usually relating to your @@color:cyan;ALPHA Level@@)
* @@color:magenta;S@@ - @@color:magenta;SISSY@@ (usually relating to your @@color:magenta;SISSY Level@@)
* @@color:red;U@@ - @@color:red;SLUT@@ (usually relating to your @@color:red;SLUT Level@@)
!!Game Systems
!!!Scores and Levels
As mentioned above, choices you make in the game will affect your three primary skills; @@color:cyan;ALPHA@@, @@color:magenta;SISSY@@, and @@color:red;SLUT@@.\
  Most choices in the game affect these, either by raising or lowering one or more of those scores.\
  Hovering over a choice that affects your scores will usually tell you how your choice will affect your scores (if it doesn&#39;t, that&#39;s probably a bug - [[please report it!|https://www.tfgames.site/phpbb3/viewtopic.php?t=17007]]).

Each of these three skills has an associated Score and a Level.\
  Most story points that are affected by your skills will check one or both of these.\
  When you get to a story point that is determined by your skill scores or level,\
  it&#39;s too late to change it; events are going to unfold based on your previous choices and your\
  current score/level (Perks can sometimes affect this; see below).

Whenever you gain enough @@color:magenta;SISSY@@, @@color:red;SLUT@@ points,\
  you will level up in that skill.\
  Levelling up in a skill affects what options you have available to you,\
  how other characters see you, what perks you may be eligible for, and a variety of other things.

Unlike your other two skills, your @@color:cyan;ALPHA@@ skill is (usually) capped at +10\
  and -10; you can only be so Alpha or Beta!\
  Your @@color:cyan;ALPHA@@ skill level can go //negative//; this is a bad thing for anyone that wants to retain their manhood or be more dominant in their relationships, but may well be welcomed by all the @@color:magenta;sissy@@ @@color:red;sluts@@ out there!

Your @@color:cyan;ALPHA@@ level increases or decreases at certain points during the game based on\
  whether your current @@color:cyan;ALPHA@@ score is higher or lower than your\
  @@color:cyan;ALPHA@@ level. If your score is higher, your level will increase, if lower,\
  then it will decrease.\
  Your @@color:cyan;ALPHA@@ level will also increase if you gain @@color:cyan;ALPHA@@ points\
  while already at your max @@color:cyan;ALPHA@@ score, and decrease if you lose points while\
  already at your minimum score.
\
!!!Perks
Perks are special abilities that you can gain through levelling up your various skills or by taking various actions.\
 Perks have the ability to affect story details, what options you have during a scene, and a variety of other things.\
 Depending on your perspective, not all perks are positive and you may sometimes gain them whether you want to or not!

Some Perks are passive, and will have their effects applied automatically.\
  Others require you to choose to use them; if they are available, then they will displayed as an option.\
  See the [[Perks List|Perks]] for a list of Perks, their requirements and effects.
\
!!!Clothes, Toys, and Other Items
Clothes will affect your raw skill scores while you&#39;re wearing them and can help you level up your various skills.\
  You only gain the &quot;benefit&quot; of the clothes while you are wearing them.

Additionally, clothes affect your overall feminine appearance and help you more easily pass as a woman.\
  This may affect how other people perceive and react to you and the choices you have available at the time. ((Once this is implemented - Check back for future updates!))

Many clothes, sex toys, and other items have minimum requirements for  your character to be willing to purchase and/or use them.\
If your character is unwilling to buy/use an item, there will usually be some indicator displayed as to why they can&#39;t/won&#39;t.

Wearable sex toys can be worn (or inserted!) just like clothes and typically act in a similar fashion.\
  Some toys or other items may have special effects; these are usually explained fully when you hover over the item where it says &quot;Special&quot;.
!!!Relationships
Your relationships with various characters are tracked in the sidebar.\
  Your status with various characters will determine how they interact with you and which actions you may be able to take in a given scene.

Your most important relationship is with the &quot;Main Girl&quot; ⚧️ Mina/♀️ Lea.\
  If your relationship with her gets to &lt;br&gt;💔 💔 💔 💔, then it&#39;s &#39;&#39;GAME OVER&#39;&#39;! Be sure not to let your relationships with other characters damage your primary one or you&#39;re in for a bad time.
\
!!!Pregnancy
The various girls in the game (including random hookups) can all get pregnant.\
  Every girl has a 28 day cycle with each day having odds of getting pregnant.\
  For main characters, where they start on their cycle is pre-determined; for random hook-ups, it&#39;ll be determined randomly when you meet them.

Note that knocking up the various characters, including random hookups, could have disastrous effects, just like in real life.\
  Also note that condoms will not always be 100% effective; sex is risky business.
\
!! A Note About Randomness
For some passages, due to technical reasons, the &quot;Random&quot; result is actually determined when the passage loads.\
  If you&#39;re moving back and forth and want to &quot;re-roll&quot; the random result, refresh the page via the web-browser controls and a new random result will be determined.

There are also cases where there is a &quot;hidden&quot; random result, usually due to another character&#39;s choice.\
  These can often be &quot;re-rolled&quot; in the same fashion as described above.

&lt;center&gt;&#39;&#39;((Use the back button in the sidebar to go back))&#39;&#39;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="101" name="Inspect Self" tags="Menu" position="175,100" size="100,100">!Inspect Self
&lt;&lt;silently&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
\
!!Currently Wearing
&lt;&lt;nobr&gt;&gt;
  &lt;div style=&quot;float: left&quot;&gt; /* Costume Worn */
    /* Catgirl Costume */
    &lt;table id=&quot;crCatgirlWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr class=&quot;&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/catgirl_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Catgirl&#39;&#39;&lt;br&gt;
          &lt;&lt;sc &quot;Sissy +3 when worn&quot;&gt;&gt;S+3&lt;&lt;/sc&gt;&gt;&lt;br&gt;
          &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;

    /* Demon Costume */
    &lt;table id=&quot;crDemonWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/demon_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Demon&#39;&#39;&lt;br&gt;
          &lt;&lt;uc &quot;Slut +4&quot;&gt;&gt;U+4&lt;&lt;/uc&gt;&gt;&lt;br&gt;
          &lt;&lt;yc &quot;This costume may affect certain scenes (in a FUTURE version)&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;

    /* Elf Costume */
    &lt;table id=&quot;crElfWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/elf_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Elf&#39;&#39;&lt;br&gt;
          &lt;&lt;uc &quot;Slut +3&quot;&gt;&gt;U+3&lt;&lt;/uc&gt;&gt;&lt;br&gt;
          &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;

    /* Schoolgirl Costume */
    &lt;table id=&quot;crSchoolgirlWorn&quot; class=&quot;costume hide&quot;&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/schoolgirl_01.jpg&quot;&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Schoolgirl&#39;&#39;&lt;br&gt;
          &lt;&lt;sc &quot;Sissy +4 when worn&quot;&gt;&gt;S+4&lt;&lt;/sc&gt;&gt;&lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;center&gt;
  &lt;div&gt;
    /* Boxers */
    &lt;div id=&quot;crBoxersWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Huh? That&#39;s not very girly honey...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boxers_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Boxers&#39;&#39;&lt;br&gt;
            @@color:cyan;A+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Boyshorts */
    &lt;div id=&quot;crBoyshortsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Well, you&#39;ve got to start somewhere...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boyshorts_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Boyshorts&#39;&#39;&lt;br&gt;
            @@color:magenta;S+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Panties, Classic */
    &lt;div id=&quot;crPantiesClassicWorn&quot; class=&quot;shop_item hide&quot; title=&quot;You can never have enough panties!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_classic_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Panties&#39;&#39;&lt;br&gt;
            @@color:magenta;S+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Panties, Cheeky */
    &lt;div id=&quot;crPantiesCheekyWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Ooo! Those&#39;ll show off your ass nicely!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_cheeky_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Cheeky Panties&#39;&#39;&lt;br&gt;
            @@color:magenta;S+2@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Panties, String Bikini */
    &lt;div id=&quot;crPantiesBikiniWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Mmmm! Sexy!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_bikini_string_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Bikini Panties&#39;&#39;&lt;br&gt;
            @@color:magenta;S+3@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Socks */
    &lt;div id=&quot;crSocksWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Ooh, I LOVE the &#39;Hello Kitty&#39; ones!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/socks_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Socks&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Kneehighs */
    &lt;div id=&quot;crKneehighsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Schoolgirl style! I like where this is going!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/kneehigh_socks_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Kneehighs&#39;&#39;&lt;br&gt;
            @@color:magenta;S+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Pantyhose */
    &lt;div id=&quot;crPantyhoseWorn&quot; class=&quot;shop_item hide&quot; title=&quot;You do know those don&#39;t hide anything, right?&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pantyhose_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Pantyhose&#39;&#39;&lt;br&gt;
            @@color:magenta;S+2@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Pants */
    &lt;div id=&quot;crPantsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Well, that&#39;s an unpleasant surprise...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pants_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Pants&#39;&#39;&lt;br&gt;
            @@color:cyan;A+3@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Short-Shorts */
    &lt;div id=&quot;crShortShortsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Mmm! Those&#39;ll turn some heads!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/shorts_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Short-Shorts&#39;&#39;&lt;br&gt;
            @@color:magenta;S+1@@, @@color:red;U+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Skirt, long */
    &lt;div id=&quot;crSkirtLongWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Better, but a little long for my taste.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/skirt_long_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Long Skirt&#39;&#39;&lt;br&gt;
            @@color:cyan;A-1@@, @@color:magenta;S+3@@, @@color:red;U+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Buttondown (M) */
    &lt;div id=&quot;crButtondownMWorn&quot; class=&quot;shop_item hide&quot; title=&quot;OK, but a women&#39;s version would be better...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/buttondown_shirt_mens_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Buttondown ♂️&#39;&#39;&lt;br&gt;
            @@color:cyan;A+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* T-Shirt (F) */
    &lt;div id=&quot;crTshirtFWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Oh! The one with the word &#39;SLUT&#39; on it is sold out...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_female_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;T-Shirt ♀️&#39;&#39;&lt;br&gt;
            @@color:magenta;S+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* T-Shirt (M) */
    &lt;div id=&quot;crTshirtMWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Bleh! At least pick a cuter one...&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_male_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;T-Shirt ♂️&#39;&#39;&lt;br&gt;
            @@color:cyan;A+1@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Hoodie */
    &lt;div id=&quot;crHoodieWorn&quot; class=&quot;shop_item hide&quot; title=&quot;That hood might come in handy.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/hoodie_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td&gt;
            &#39;&#39;Hoodie&#39;&#39;&lt;br&gt;
            @@color:cyan;A+2@@&lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

  /* Body Harness */
    &lt;div id=&quot;crBodyHarnessWorn&quot; class=&quot;shop_item hide&quot; title=&quot;I&#39;m getting a sex slave? NICE!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/body_harness_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Body Harness&#39;&#39;&lt;br&gt;
            &lt;center&gt;@@color:red;U+5@@&lt;br&gt;&lt;/center&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Collar, Ringed */
    &lt;div id=&quot;crCollarRingWorn&quot; class=&quot;shop_item hide&quot; title=&quot;What a good bitch. Now, find a leash!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_ringed_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Collar, Ringed&#39;&#39;&lt;br&gt;
            &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;&lt;/center&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Collar, Spiked */
    &lt;div id=&quot;crCollarSpikedWorn&quot; class=&quot;shop_item hide&quot; title=&quot;What a bad little bitch.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_spiked_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Collar, Spiked&#39;&#39;&lt;br&gt;
            &lt;center&gt;@@color:red;U+3@@, @@color:cyan;A+1@@&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;&lt;/center&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

      /* Nipple Clamps */
    &lt;div id=&quot;crNippleClampsWorn&quot; class=&quot;shop_item hide&quot; title=&quot;How is THIS turning you on!?&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/nipple_clamps_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Nipple Clamps&#39;&#39;&lt;br&gt;
            &lt;&lt;if $nippleClampsWeighted isnot true&gt;&gt;
              &lt;center&gt;@@color:red;U+1@@&lt;br&gt;
              &lt;br&gt;&lt;/center&gt;
            &lt;&lt;else&gt;&gt;
              &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
              &lt;br&gt;&lt;/center&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Chastity Cage */
    &lt;div id=&quot;crChastityCageWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Dick&#39;s don&#39;t get locked up - THAT&#39;s a clit.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Chastity Cage&#39;&#39;&lt;br&gt;
            &lt;center&gt;&lt;span title=&quot;Sissy +5. All Alpha Score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@, @@color:gold;A gains -1@@&lt;br&gt;
            &lt;br&gt;&lt;/span&gt;&lt;/center&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Chastity Cage, small */
    &lt;div id=&quot;crChastityCageSmallWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Dick&#39;s don&#39;t get locked up - THAT&#39;s a clit.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_small_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &lt;center&gt;
            &#39;&#39;Small Chastity Cage&#39;&#39;&lt;br&gt;
            &lt;span title=&quot;Sissy +5. All Alpha Score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@, @@color:gold;A gains -1@@&lt;br&gt;
            &lt;br&gt;&lt;/span&gt;&lt;/center&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Cock Ring */
    &lt;div id=&quot;crCockRingWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Well, it is a bit bigger than a finger.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/cock_ring_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Cock Ring&#39;&#39;&lt;br&gt;
            &lt;span title=&quot;Sissy -3, Slut +1, Alpha +1&quot;&gt;
            &lt;center&gt;@@color:magenta;S-3@@, @@color:red;U+1@@, @@color:cyan;A+1@@&lt;br&gt;&lt;/center&gt;
            &lt;/span&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Strap-On */
    &lt;div id=&quot;crStraponWorn&quot; class=&quot;shop_item hide&quot; title=&quot;What do you need that for?&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/strapon_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Strap On&#39;&#39;&lt;br&gt;
            &lt;span title=&quot;Allows topping while in chastity, but you lose 1 Alpha point.&quot;&gt;
              &lt;center&gt;@@color:yellow;Special&lt;br&gt;
              (hover here)@@&lt;br&gt;&lt;/center&gt;
            &lt;/span&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Beads, Small */
    &lt;div id=&quot;crBeadsSmallWorn&quot; class=&quot;shop_item hide&quot; title=&quot;These are fun, but dick is better.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_small_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Beads, Small&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Beads, Medium */
    &lt;div id=&quot;crBeadsMediumWorn&quot; class=&quot;shop_item hide&quot; title=&quot;I&#39;m gonna yank those out sooo hard!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_medium_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Beads, Medium&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Beads, Large */
    &lt;div id=&quot;crBeadsLargeWorn&quot; class=&quot;shop_item hide&quot; title=&quot;These&#39;ll make you gape for sure!&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_large_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Beads, Large&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

      /* Plug, Small */
    &lt;div id=&quot;crPlugSmallWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Soon that&#39;ll be too small for you. 😈&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_small_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Small&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Plug, Medium */
    &lt;div id=&quot;crPlugMediumWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Always ready, that&#39;s my motto.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_medium_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Medium&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Plug, Large */
    &lt;div id=&quot;crPlugLargeWorn&quot; class=&quot;shop_item hide&quot; title=&quot;The best cum plug on the market.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_large_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Large&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;

    /* Plug, Huge */
    &lt;div id=&quot;crPlugHugeWorn&quot; class=&quot;shop_item hide&quot; title=&quot;Why this? I like you tight babe.&quot;&gt;
      &lt;table class=&quot;shop_table&quot;&gt;
        &lt;tr class=&quot;perk_table&quot;&gt;
          &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_huge_01.jpg&quot;&gt;&lt;/td&gt;
          &lt;td class=&quot;&quot;&gt;
            &#39;&#39;Plug, Huge&#39;&#39;&lt;br&gt;
            &lt;br&gt;
            &lt;br&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/center&gt;
&lt;&lt;/nobr&gt;&gt;\

!!Stats
&lt;&lt;nobr&gt;&gt;&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;
      &lt;ul&gt;
        &lt;li&gt;Times assfucked: $timesAssFucked&lt;/li&gt;
        &lt;li&gt;Times creampied: $timesCreampied&lt;/li&gt;
        &lt;li&gt;Times sucked dick: $timesSuckedDick&lt;/li&gt;
        &lt;li&gt;Times deepthroated: $timesDeepthroated&lt;/li&gt;
        &lt;li&gt;Times drank cum: $timesDrankCum&lt;/li&gt;
        &lt;li&gt;Days since drank cum: &lt;&lt;if $daysSinceDrankCum lt 0&gt;&gt;Never swallowed!&lt;&lt;else&gt;&gt;$daysSinceDrankCum&lt;&lt;/if&gt;&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/td&gt;
    &lt;td&gt;
      &lt;ul&gt;
        &lt;li&gt;Blowjobs received: $blowjobsReceived&lt;/li&gt;
        &lt;li&gt;Pussies fucked: $pussiesFucked&lt;/li&gt;
        &lt;li&gt;Pussies creampied: $pussiesCreampied&lt;/li&gt;
        &lt;li&gt;Assess fucked: $assesFucked&lt;/li&gt;
        &lt;li&gt;Assess creampied: $assesCreampied&lt;/li&gt;
        &lt;li&gt;Masochistic acts performed: $masoActs&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;&lt;&lt;/nobr&gt;&gt;\
\
!!Toys Owned
&lt;center&gt;&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Dildo, Small */
  &lt;div id=&quot;crDildoSmall&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start with something.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Small&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Medium */
  &lt;div id=&quot;crDildoMedium&quot; class=&quot;shop_item&quot; title=&quot;A girl&#39;s most trusted friend! Never fails.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Medium&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Large */
  &lt;div id=&quot;crDildoLarge&quot; class=&quot;shop_item&quot; title=&quot;You THINK you want it, until you get it.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Large&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Huge */
  &lt;div id=&quot;crDildoHuge&quot; class=&quot;shop_item&quot; title=&quot;No way you can fit that!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_huge_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Huge&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Inflatable */
  &lt;div id=&quot;crDildoInflatable&quot; class=&quot;shop_item&quot; title=&quot;Grower, not a shower.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_inflatable_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Inflating&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Bullet */
  &lt;div id=&quot;crVibeBullet&quot; class=&quot;shop_item&quot; title=&quot;Always carry one in your purse, trust me.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_bullet_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Bullet&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Small */
  &lt;div id=&quot;crVibeSmall&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start with something.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Small&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Medium */
  &lt;div id=&quot;crVibeMedium&quot; class=&quot;shop_item&quot; title=&quot;Now you&#39;re talking! Can I borrow?&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Medium&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Large */
  &lt;div id=&quot;crVibeLarge&quot; class=&quot;shop_item&quot; title=&quot;That&#39;ll shake you to your core!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Large&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Beads, Small */
  &lt;div id=&quot;crBeadsSmall&quot; class=&quot;shop_item&quot; title=&quot;These are fun, but dick is better.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Beads, Small&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Beads, Medium */
  &lt;div id=&quot;crBeadsMedium&quot; class=&quot;shop_item&quot; title=&quot;I&#39;m gonna yank those out sooo hard!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Beads, Medium&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Beads, Large */
  &lt;div id=&quot;crBeadsLarge&quot; class=&quot;shop_item&quot; title=&quot;These&#39;ll make you gape for sure!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Beads, Large&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

    /* Plug, Small */
  &lt;div id=&quot;crPlugSmall&quot; class=&quot;shop_item&quot; title=&quot;Soon that&#39;ll be too small for you. 😈&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Small&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Plug, Medium */
  &lt;div id=&quot;crPlugMedium&quot; class=&quot;shop_item&quot; title=&quot;Always ready, that&#39;s my motto.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Medium&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Plug, Large */
  &lt;div id=&quot;crPlugLarge&quot; class=&quot;shop_item&quot; title=&quot;The best cum plug on the market.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Large&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Plug, Huge */
  &lt;div id=&quot;crPlugHuge&quot; class=&quot;shop_item&quot; title=&quot;Why this? I like you tight babe.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_huge_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Huge&#39;&#39;&lt;br&gt;
          &lt;br&gt;
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;&lt;/center&gt;\
\
&lt;center&gt;&#39;&#39;((Use the back button in the sidebar to go back))&#39;&#39;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="102" name="Perks" tags="Menu" position="175,225" size="100,100">!Perks List
!!&lt;center&gt;@@color:cyan;Alpha Perks@@&lt;/center&gt;
&lt;table class=&quot;perk_table&quot; width=&quot;100%&quot;&gt;
  &lt;tr&gt;
    &lt;th class=&quot;perk_table&quot; colspan=&quot;2&quot; align=&quot;right&quot;&gt;Perk Name&lt;/th&gt;
    &lt;th class=&quot;perk_table&quot; align=&quot;center&quot;&gt;Effects&lt;/th&gt;
    &lt;th class=&quot;perk_table&quot; align=&quot;center&quot;&gt;Requirements&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td class=&quot;perk_table&quot;&gt;&lt;img class=&quot;perk_img&quot; src=&quot;images/perks/baby_daddy.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_title&quot; align=&quot;center&quot;&gt;@@color:cyan;&#39;&#39;Baby Daddy&#39;&#39;@@&lt;br&gt;👶&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;\
      The girl(s) you knocked up is/are a bit more willing to put up with your Alpha BS,\
        preventing the loss of some relationship points or having some other tangible benefit.
        Can have this perk for multiple girls if you can manage it,\
        but if ⚧️Mina / ♀️Lea find out you&#39;ve knocked up some other girl...
    &lt;/td&gt;
    &lt;td class=&quot;perk_table&quot; &gt;Must have gotten a girl pregnant.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;\
\
!!&lt;center&gt;@@color:magenta;Sissy Perks@@&lt;/center&gt;
&lt;table class=&quot;perk_table&quot; width=&quot;100%&quot;&gt;
  &lt;tr&gt;
    &lt;th class=&quot;perk_table&quot; colspan=&quot;2&quot; align=&quot;right&quot;&gt;Perk Name&lt;/th&gt;
    &lt;th class=&quot;perk_table&quot; align=&quot;center&quot;&gt;Effects&lt;/th&gt;
    &lt;th class=&quot;perk_table&quot; align=&quot;center&quot;&gt;Requirements&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td class=&quot;perk_table&quot;&gt;&lt;img class=&quot;perk_img&quot; src=&quot;images/perks/cumdrinker.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_title&quot; align=&quot;center&quot;&gt;@@color:magenta;&#39;&#39;Cumdrinker&#39;&#39;@@&lt;br&gt;🥛&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;\
      You have additional story options to drink cum.\
        Whenever you do so, you gain bonus @@color:magenta;Sissy Points@@.\
        During masturbation, you&#39;ll always eat your own cum.
    &lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;\
      Must have swallowed at least 10 different loads.\
        You can lose this perk if you fail to continue drinking sufficient cum.\
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td class=&quot;perk_table&quot;&gt;&lt;img class=&quot;perk_img&quot; src=&quot;images/perks/pregnant.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_title&quot; align=&quot;center&quot;&gt;@@color:magenta;&#39;&#39;Pregnant&#39;&#39;@@&lt;br&gt;🤰&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;Unlocks some pregnancy specific scenes and endings.\
      If it doesn&#39;t belong to ⚧️Mina or happened without ♀️Lea&#39;s consent, can cause a GAME OVER!&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;Must have gained a vagina and a womb and gotten knocked up.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td class=&quot;perk_table&quot;&gt;&lt;img class=&quot;perk_img&quot; src=&quot;images/perks/sissygasm.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_title&quot; align=&quot;center&quot;&gt;@@color:magenta;&#39;&#39;Sissygasm&#39;&#39;@@&lt;br&gt;&lt;span style=&quot;color: transparent; text-shadow: 0 0 0 white&quot;&gt; 💦&lt;/span&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;You cum more readily from anal sex and gain bonus sissy points when you do so.&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;Must have cum at least once from anal-only sex on the receiving end.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td class=&quot;perk_table&quot;&gt;&lt;img class=&quot;perk_img&quot; src=&quot;images/perks/tomboy.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_title&quot; align=&quot;center&quot;&gt;@@color:magenta;&#39;&#39;Tomboy&#39;&#39;@@&lt;br&gt;🧑🏻&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;Gives you the option to take the lead in some scenes, gaining bonus @@color:cyan;Alpha@@ points when you do so.&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;@@color:magenta;&#39;&#39;Sissy lvl&#39;&#39;@@ 5+, but less than 9; @@color:cyan;Alpha lvl@@ 1+.\
      Has short male hairstyle; wears male top and bottom clothes.
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;\
\
!!&lt;center&gt;@@color:red;Slut Perks@@&lt;/center&gt;
&lt;table class=&quot;perk_table&quot; width=&quot;100%&quot;&gt;
  &lt;tr&gt;
    &lt;th class=&quot;perk_table&quot; colspan=&quot;2&quot; align=&quot;right&quot;&gt;Perk Name&lt;/th&gt;
    &lt;th class=&quot;perk_table&quot; align=&quot;center&quot;&gt;Effects&lt;/th&gt;
    &lt;th class=&quot;perk_table&quot; align=&quot;center&quot;&gt;Requirements&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td class=&quot;perk_table&quot;&gt;&lt;img class=&quot;perk_img&quot; src=&quot;images/perks/cheating_whore.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_title&quot; align=&quot;center&quot;&gt;@@color:red;&#39;&#39;Cheating Whore&#39;&#39;@@&lt;br&gt;❤️‍🩹&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;\
      For the remainder of the episode, as well as the following, all 💙 gain with ⚧️ Mina / ♀️ Lea is reduced.\
        If you get caught cheating a second time, it&#39;s GAME OVER!\
    &lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;\
      While in a relationship (💙 💙+) with ⚧️ Mina / ♀️ Lea, get caught cheating on her (fucking or being fucked).\
        Note: does not count if ♀️ Lea gives you permission to fuck around.\
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td class=&quot;perk_table&quot;&gt;&lt;img class=&quot;perk_img&quot; src=&quot;images/perks/masochist.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;perk_title&quot; align=&quot;center&quot;&gt;@@color:red;&#39;&#39;Masochist&#39;&#39;@@&lt;br&gt;🔗&lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;\
      You enjoy mixing pain with pleasure.\
        Opens up more options for you to indulge your masochistic tendencies, affecting how other characters interact with you.\
        You also gain bonus @@color:red;Slut Points@@ when engaging engaging in masochistic acts.\
    &lt;/td&gt;
    &lt;td class=&quot;perk_table&quot;&gt;Must have endured 5 or more instances of pain or torture in a sexual context.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;\

&lt;center&gt;&#39;&#39;((Use the back button in the sidebar to go back))&#39;&#39;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="103" name="Support" tags="Menu" position="175,1125" size="100,100">!Support the Author
If you&#39;d like to support the ongoing development of this game, please consider donating.

&lt;&lt;nobr&gt;&gt;
  &lt;div style=&quot;display: flex; justify-content: center;&quot;&gt;
    &lt;table width=&quot;85%&quot;&gt;
      &lt;tr style=&quot;border-bottom: 1px solid lightgrey;&quot;&gt;
        &lt;td style=&quot;color: deepskyblue; font-weight: bold;&quot;&gt;Bitcoin:&lt;/td&gt;
        &lt;td style=&quot;text-align:center; align:center;&quot;&gt;
          /* cSpell:disable */
          &lt;a href=&quot;bitcoin:bc1q9uywcnncfeqsxz5dvxhuv5qaafl49gscj6838x&quot;&gt;
            &lt;img  src=&quot;images/non-story/bitcoin_qr.png&quot; style=&quot;width: 163px; height: 163px&quot;/&gt;&lt;br&gt;
            bc1q9uywcnncfeqsxz5dvxhuv5qaafl49gscj6838x
          &lt;/a&gt;&lt;br&gt;
          /* cSpell:enable */
          &lt;br&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td style=&quot;color: deepskyblue; font-weight: bold;&quot;&gt;
          &lt;br&gt;
          Ethereum &amp; Ether tokens:
        &lt;/td&gt;
        &lt;td style=&quot;text-align:center&quot;&gt;
          &lt;br&gt;
          /* cSpell:disable */
          0xd7156Ec5B1a893aa74771e76f098070D3803ab7B
          /* cSpell:enable */
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\

Questions, concerns, bug reports, and other issues or suggestions are also always welcome; you can post those on the [[TFGames Site forum thread for this game here|https://www.tfgames.site/phpbb3/viewtopic.php?t=17007]].

If there&#39;s interest in other donation methods, please let me know, again via the forum link above.

&lt;center&gt;&#39;&#39;((Use the back button in the sidebar to go back))&#39;&#39;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="104" name="Chastity Prologue" tags="" position="425,0" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;/silently&gt;&gt;\
&lt;&lt;nobr&gt;&gt;&lt;span id=&quot;chastityPrologueNameSetter&quot;&gt;
  &lt;h1&gt;&lt;center&gt;Start a New Game&lt;/center&gt;&lt;/h1&gt;
  Enter your name: &lt;&lt;textbox &quot;$name&quot; &quot;Jamie&quot;&gt;&gt;&lt;br&gt;
  &lt;br&gt;
  Be sure to check out and set any [[Settings or Preferences ▶▶▶|Game Settings]]&lt;br&gt;
  &lt;br&gt;
  &#39;&#39;If you&#39;re of legal age&#39;&#39;, when you&#39;re ready,
  &lt;&lt;link &quot;&#39;&#39;click here to begin. ▶▶▶&#39;&#39;&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#chastityPrologueNameSetter&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#chastityPrologueContent1&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;toggleclass &quot;#chastityPrologueHeader&quot; &quot;hide&quot;&gt;&gt;
    &lt;&lt;set $alphaScore to -10&gt;&gt;
    &lt;&lt;set $alphaLevel to -10&gt;&gt;
    &lt;&lt;set $sissyScore to $sissyScore +5&gt;&gt;
    &lt;&lt;set $alphaGainMod to $alphaGainMod -1&gt;&gt;
  &lt;&lt;/link&gt;&gt;&lt;br&gt;
&lt;/span&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;span id=&quot;chastityPrologueHeader&quot; class=&quot;hide&quot;&gt;&lt;h1&gt;Prologue&lt;/h1&gt;&lt;/span&gt;\
&lt;span id=&quot;chastityPrologueContent1&quot; class=&quot;hide&quot;&gt;\
//You&#39;ve never been the most masculine of guys, some might even go so far as to call you girly. You&#39;ve always resisted that notion though... until recently that is.

Your ex-girlfriend left it at your apartment when she moved out. You&#39;re not even sure why she had it in the first place; it&#39;s not like she could use it. And she never asked you to either. She was always more dominant in the relationship, you&#39;d be lying if you didn&#39;t admit to preferring more assertive partners, but she never went that far. Maybe things broke off before she could. Or maybe one of her friends had given it to her as a gag gift.

In any case, it was here, and you got curious; not like you were really into that or anything... But as the lock snaps closed, you think, just for a second, that it feels kinda good.//
&lt;&lt;nobr&gt;&gt;&lt;span id=&quot;chastityPrologueContentLockIt&quot;&gt;
  &lt;ul&gt;
    &lt;li&gt;
      &lt;&lt;link &quot;Where&#39;s the key? ▶▶▶&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#chastityPrologueContent2&quot; &quot;hide&quot;&gt;&gt;
        &lt;&lt;toggleclass &quot;#chastityPrologueContentLockIt&quot; &quot;hide&quot;&gt;&gt;
      &lt;&lt;/link&gt;&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/span&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;/span&gt;\
\
&lt;span id=&quot;chastityPrologueContent2&quot; class=&quot;hide&quot;&gt;
&lt;center&gt;\
&lt;span title=&quot;Alpha -10, Sissy +5, all Alpha gains -1. Locked up until you can figure out some way out. Maybe you should lock up IRL too!&quot;&gt;\
@@color:yellow;(( You have locked yourself in chastity with no key! ))@@&lt;/span&gt;
&lt;&lt;nobr&gt;&gt;&lt;div class=&quot;shop_section&quot;&gt;
  /* Chastity Cage */
  &lt;div id=&quot;crChastityCageWorn&quot; class=&quot;shop_item&quot; title=&quot;Dick&#39;s don&#39;t get locked up - THAT&#39;s a clit.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Chastity Cage&#39;&#39;&lt;br&gt;
          &lt;center&gt;&lt;span title=&quot;Sissy +5. All Alpha Score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@, @@color:gold;A gains -1@@&lt;br&gt;
          &lt;br&gt;&lt;/span&gt;&lt;/center&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;&lt;&lt;/nobr&gt;&gt;&lt;/center&gt;\
//That was three days ago. Why the hell you didn&#39;t double check to make sure you had the key before putting the cage on your $mcDick, you&#39;ll never know. You could have sworn you had it right there, but then it was gone. You&#39;ve scoured your apartment multiple times to no avail, and work has kept you so busy with overtime lately that you haven&#39;t been able to get to a hardware store to find something to get it off. The idea of some sort of dangerous tool down there though... you don&#39;t want to think about it.

Three days and no relief; you&#39;re starting to go crazy and you know it. Wearing this thing, you can&#39;t help but feel even more submissive than you usually do; maybe that&#39;s why you keep getting walked all over at work and kept late fixing somebody else&#39;s mistakes. Again. You really, really need a release.

Well, if you can&#39;t cum, you at least need a drink. You resolve to hit up the hardware store first thing in the morning, but for tonight, it&#39;s the bar.//

You:
&lt;&lt;nobr&gt;&gt;&lt;ul&gt;
  &lt;li&gt;&lt;&lt;link &quot;Head to the bar ▶▶▶&quot; &quot;Hello Stranger&quot;&gt;&gt;
  &lt;&lt;/link&gt;&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;/span&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  &lt;[[Hello Stranger]]&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="105" name="Start" tags="General" position="450,575" size="100,100">!The Road TWX (TWine eXtended)
!!!This is an adult-only (18+) game!
This game is based on [[The Road|https://www.faproulette.co/c/4933/road]] by [[Vukodav|https://www.faproulette.co/u/Vukodav]]. Please support the original creator!

This is a story about meeting a girl/trap on a one-night stand, then going down the road of sissification/feminization because of it. This iteration will follow the original CYOA game as closely as possible, with only minor alterations to begin with. If it proves popular enough (and I enjoy working on it) then it may expand beyond that.
&lt;table width=&quot;100%&quot;&gt;\
&lt;tr&gt;\
  &lt;th&gt;Choice and text color-coding:&lt;/th&gt;\
  &lt;th&gt;Speech color-coding:&lt;/th&gt;\
&lt;/tr&gt;\
&lt;tr&gt;\
  &lt;td&gt;\
* Text in @@color:cyan;cyan@@ is for @@color:cyan;ALPHA (A)@@ choices or effects
* Text in @@color:magenta;magenta@@ is for @@color:magenta;SISSY (S)@@ choices or effects
* Text in @@color:red;red@@ is for @@color:red;SLUT (U)@@ choices or effects
* Text in @@color:gold;gold@@ relates to //reducing// your @@color:cyan;ALPHA (A)@@ score
* &lt;span title=&quot;Info will show up here!&quot;&gt;Text in @@color:yellow;yellow@@ is informational; @@color:yellow;hover over it for info@@&lt;/span&gt;
  &lt;/td&gt;\
  &lt;td&gt;\
* ⚧️ Mina/♀️ Lea: @@color:deepskyblue;DeepSkyBlue@@
* MC: @@color:coral;coral@@
* Andrea: @@color:lemonchiffon;lemonchiffon@@
* Others: @@color:aquamarine;aquamarine@@
  &lt;/td&gt;\
&lt;/tr&gt;\
&lt;/table&gt;\
Note that a set of three arrows (&lt;&lt;link &quot;▶▶▶&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;) indicates a clickable link for the text that precedes it; often a choice of some kind. For more information on how the various game systems work, see [[Help]].
!!!&lt;center&gt;You should start a new save game!&lt;/center&gt;
This game is currently undergoing a lot of expansion of systems, etc.\
  and restoring a save from a previous version is likely to break things in weird ways.\
  In more recent versions, some effort has been made to maintain backward save compatibility,\
  but this is &#39;&#39;not&#39;&#39; guaranteed.

&lt;&lt;yc &#39;&#39;&gt;&gt;As of this time, saves older than version 0.3.0 are &lt;strong&gt;not&lt;/strong&gt; supported!&lt;&lt;/yc&gt;&gt;

&lt;hr&gt;
!!&lt;center&gt;Start a New Game&lt;/center&gt;
Enter your name: &lt;&lt;textbox &quot;$name&quot; &quot;Jamie&quot;&gt;&gt;

Be sure to check out and set any Settings via the left sidebar button.

&#39;&#39;If you&#39;re of legal age&#39;&#39;, when you&#39;re ready, &#39;&#39;[[click here to begin. ▶▶▶|Hello Stranger]]&#39;&#39;</tw-passagedata><tw-passagedata pid="106" name="StoryInit" tags="Config" position="50,100" size="100,100">/* General Setup */
&lt;&lt;set $alphaMaxScore to 10&gt;&gt;
&lt;&lt;set $alphaMinScore to -10&gt;&gt;
&lt;&lt;set $dayCounter to 1&gt;&gt;
&lt;&lt;set $episode to 1&gt;&gt;
&lt;&lt;set $episodeTitle to &quot;A Fateful Night&quot;&gt;&gt;
&lt;&lt;set $daysOfTheWeek = [&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;]&gt;&gt;
&lt;&lt;set $dayOfWeekCounter to 4&gt;&gt;
&lt;&lt;set $dayOfWeek = $daysOfTheWeek[$dayOfWeekCounter]&gt;&gt;
&lt;&lt;set $itemPurchased to &quot;&quot;&gt;&gt;

/* MG Status */
&lt;&lt;set $mgStatus to &quot;&quot;&gt;&gt;
&lt;&lt;set $mgAffection to 0&gt;&gt;

/* MC Status */
&lt;&lt;set $alphaScore to 0&gt;&gt;
&lt;&lt;set $alphaLevel to 0&gt;&gt;
&lt;&lt;set $sissyScore to 0&gt;&gt;
&lt;&lt;set $sissyLevel to 0&gt;&gt;
&lt;&lt;set $slutScore to  0&gt;&gt;
&lt;&lt;set $slutLevel to 0&gt;&gt;
&lt;&lt;set $mcSex to &quot;male&quot;&gt;&gt;
&lt;&lt;set $mcDick to &quot;dick&quot;&gt;&gt;
&lt;&lt;set $mcHasPenis to true&gt;&gt;
&lt;&lt;set $mcStatus to &quot;Just a guy&quot;&gt;&gt;
&lt;&lt;set $mcStatusTitle to &quot;Nothing special.&quot;&gt;&gt;
&lt;&lt;set $cash to 0&gt;&gt;
&lt;&lt;set $mcHasJob to false&gt;&gt;
&lt;&lt;set $mcJob to &quot;&quot;&gt;&gt;
&lt;&lt;set $alphaGainMod to 0&gt;&gt;
&lt;&lt;set $inChastity to false&gt;&gt;
&lt;&lt;set $cageKeyOwned to false&gt;&gt;
&lt;&lt;set $mcHairColor to &quot;black&quot;&gt;&gt;
&lt;&lt;set $girlsImpregnated = []&gt;&gt;
&lt;&lt;set $metAndrea to false&gt;&gt;

/* MC Stats */
&lt;&lt;set $timesSuckedDick to 0&gt;&gt;
&lt;&lt;set $timesDeepthroated to 0&gt;&gt;
&lt;&lt;set $timesDrankCum to 0&gt;&gt;
&lt;&lt;set $daysSinceDrankCum to -100&gt;&gt;
&lt;&lt;set $pussiesFucked to 0&gt;&gt;
&lt;&lt;set $pussiesCreampied to 0&gt;&gt;
&lt;&lt;set $assesFucked to 0&gt;&gt;
&lt;&lt;set $assesCreampied to 0&gt;&gt;
&lt;&lt;set $timesAssFucked to 0&gt;&gt;
&lt;&lt;set $timesSissygasm to 0&gt;&gt;
&lt;&lt;set $timesCreampied to 0&gt;&gt;
&lt;&lt;set $blowjobsReceived to 0&gt;&gt;
&lt;&lt;set $masoActs to 0&gt;&gt;

/* ==== START:Perks Vars ==== */
&lt;&lt;set $hasPerks to false&gt;&gt;

/* -- Start: Baby Daddy Perk */
&lt;&lt;set $hasImpregnated to false&gt;&gt;
&lt;&lt;set $hasPerkBabyDaddy to false&gt;&gt;
&lt;&lt;set $showPerkGainBabyDaddy to false&gt;&gt;
&lt;&lt;set $perkBabyDaddyDisplayed to false&gt;&gt;
/* -- End: BabyDaddy Perk */

/* -- Start: Cheating Whore Perk */
&lt;&lt;set $gotCaughtCheating to false&gt;&gt;
&lt;&lt;set $hasPerkCheatingWhore to false&gt;&gt;
&lt;&lt;set $showPerkGainCheatingWhore to false&gt;&gt;
&lt;&lt;set $perkCheatingWhoreDisplayed to false&gt;&gt;
&lt;&lt;set $epGainedCheatingWhore to -1&gt;&gt;
/* -- End: CheatingWhore Perk */

/* -- Start: Cumdrinker Perk */
&lt;&lt;set $hasPerkCumdrinker to false&gt;&gt;
&lt;&lt;set $showPerkGainCumdrinker to false&gt;&gt;
&lt;&lt;set $perkCumdrinkerDisplayed to false&gt;&gt;
/* -- End: Cumdrinker Perk */

/* -- Start: Sissygasm Perk */
&lt;&lt;set $hasCumFromAnal to false&gt;&gt;
&lt;&lt;set $hasPerkSissygasm to false&gt;&gt;
&lt;&lt;set $showPerkGainSissygasm to false&gt;&gt;
&lt;&lt;set $perkSissygasmDisplayed to false&gt;&gt;
/* -- End: Sissygasm Perk */

/* -- Start: Masochist Perk */
&lt;&lt;set $hasPerkMasochist to false&gt;&gt;
&lt;&lt;set $showPerkGainMasochist to false&gt;&gt;
&lt;&lt;set $perkDisplayedMasochist to false&gt;&gt;
/* -- End: Sissygasm Perk */

/* ==== END: Perks Vars ==== */

/* ==== START: Default Game Settings ==== */
/* ==&gt; Content Settings */
&lt;&lt;set $allowContentRape to true&gt;&gt;
&lt;&lt;set $allowContentPissplay to true&gt;&gt;
&lt;&lt;set $allowContentCumplay to true&gt;&gt;

/* ==&gt; Story Options */
&lt;&lt;set $maleChars to true&gt;&gt;
&lt;&lt;set $randomOnlyMode to false&gt;&gt;
&lt;&lt;set $blindChoiceMode to false&gt;&gt;

/* ==&gt; Display Options */

/* ==== END: Default Settings ==== */

/* ==== START: Default Debug Options ==== */
&lt;&lt;set $showDebugMsgs to false&gt;&gt;
/* ==== END: Default Debug Options ==== */</tw-passagedata><tw-passagedata pid="107" name="Widgets" tags="widget" position="950,1050" size="100,100">/* Sidebar status icons */
&lt;&lt;nobr&gt;&gt;
  &lt;&lt;widget &quot;sidebarStatusIcons&quot;&gt;&gt;
    &lt;span style=&quot;font-size: 25px&quot;&gt;
      &lt;&lt;if $inChastity&gt;&gt;
        &lt;&lt;if $cageKeyOwned&gt;&gt;
          &lt;span title=&quot;Locked in chastity, but you have the key. Alpha score gains reduced.&quot;&gt;🔐&lt;/span&gt;
        &lt;&lt;else&gt;&gt;
          &lt;span title=&quot;Locked in chastity without a key! Alpha score gains reduced.&quot;&gt;🔒&lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;/if&gt;&gt;
      &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;]&gt;&gt;
        &lt;img src=&quot;images/icons/buttplug.png&quot; class=&quot;sidebar_icon&quot;
          title=&quot;You have a toy inserted in your ass!&quot;&gt;
      &lt;&lt;/if&gt;&gt;
      &lt;&lt;if $mcCollared&gt;&gt;
        &lt;img src=&quot;images/icons/collar.png&quot; class=&quot;sidebar_icon&quot;
          title=&quot;You have been collared by someone!&quot;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;/span&gt;
  &lt;&lt;/widget&gt;&gt;
&lt;&lt;/nobr&gt;&gt;

/* Updates the sidebar every time a link is clicked */
&lt;&lt;widget &quot;updateSidebar&quot;&gt;&gt;
  &lt;&lt;replace &quot;#sidebarChastityDisplay&quot;&gt;&gt;\
    &lt;&lt;sidebarStatusIcons&gt;&gt;
  &lt;&lt;/replace&gt;&gt;

  &lt;&lt;if $alphaScore gt $alphaMaxScore&gt;&gt;
    &lt;&lt;set $alphaScore to $alphaMaxScore&gt;&gt;
    &lt;&lt;set $alphaLevel++&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $alphaLevel gt $alphaMaxScore&gt;&gt;
    &lt;&lt;set $alphaLevel to $alphaMaxScore&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $alphaScore lt $alphaMinScore&gt;&gt;
    &lt;&lt;set $alphaScore to $alphaMinScore&gt;&gt;
    &lt;&lt;set $alphaLevel--&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if $alphaLevel lt $alphaMinScore&gt;&gt;
    &lt;&lt;set $alphaLevel to $alphaMinScore&gt;&gt;
  &lt;&lt;/if&gt;&gt;

  &lt;&lt;replace &quot;#alphaScore&quot;&gt;&gt;$alphaScore&lt;&lt;/replace&gt;&gt;
  &lt;&lt;replace &quot;#sissyScore&quot;&gt;&gt;$sissyScore&lt;&lt;/replace&gt;&gt;
  &lt;&lt;replace &quot;#slutScore&quot;&gt;&gt;$slutScore&lt;&lt;/replace&gt;&gt;
  &lt;&lt;replace &quot;#cash&quot;&gt;&gt;$cash&lt;&lt;/replace&gt;&gt;

  /* Sissy and Slut Level Up Bar Vars */
  &lt;&lt;if $sissyLevel is 0 &gt;&gt;
    &lt;&lt;set $sissyNextLevel to 10&gt;&gt;
  &lt;&lt;elseif $sissyLevel is 8&gt;&gt;
    &lt;&lt;set $sissyNextLevel to 50&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $sissyNextLevel to 20&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $sissyBarScore to $sissyScore - $sissyLastLvl&gt;&gt;

  &lt;&lt;if $slutLevel is 0 &gt;&gt;
    &lt;&lt;set $slutNextLevel to 10&gt;&gt;
  &lt;&lt;elseif $slutLevel is 8&gt;&gt;
    &lt;&lt;set $slutNextLevel to 50&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $slutNextLevel to 20&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $slutBarScore to $slutScore - $slutLastLvl&gt;&gt;

  &lt;&lt;replace &quot;#sissyBar&quot;&gt;&gt;\
    &lt;&lt;sissyBar&gt;&gt;\
  &lt;&lt;/replace&gt;&gt;

  &lt;&lt;replace &quot;#slutBar&quot;&gt;&gt;\
    &lt;&lt;slutBar&gt;&gt;\
  &lt;&lt;/replace&gt;&gt;
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;sissyBar&quot;&gt;&gt;\
  &lt;&lt;if $sissyLevel isnot 9&gt;&gt;\
    &lt;progress id=&quot;sissyLvlBar&quot; class=&quot;sissy_bar&quot; @value=&quot;$sissyBarScore&quot; @max=&quot;$sissyNextLevel&quot;&gt;&lt;/progress&gt;\
  &lt;&lt;else&gt;&gt;\
    &lt;progress id=&quot;sissyLvlBar&quot; class=&quot;sissy_bar&quot; value=&quot;100&quot; max=&quot;100&quot;&gt;Max!&lt;/progress&gt;\
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;slutBar&quot;&gt;&gt;\
  &lt;&lt;if $slutLevel isnot 9&gt;&gt;\
    &lt;progress id=&quot;slutLvlBar&quot; class=&quot;slut_bar&quot; @value=&quot;$slutBarScore&quot; @max=&quot;$slutNextLevel&quot;&gt;&lt;/progress&gt;\
  &lt;&lt;else&gt;&gt;\
    &lt;progress id=&quot;slutLvlBar&quot; class=&quot;slut_bar&quot; value=&quot;100&quot; max=&quot;100&quot;&gt;Max!&lt;/progress&gt;\
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;suckedDick&quot;&gt;&gt;
  &lt;&lt;set $timesSuckedDick++&gt;&gt;
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;drankCum&quot;&gt;&gt;
  &lt;&lt;set $timesDrankCum++&gt;&gt;
  &lt;&lt;set $daysSinceDrankCum to 0&gt;&gt;
  &lt;&lt;if $hasPerkCumdrinker&gt;&gt;
    &lt;&lt;set $sissyScore++&gt;&gt;
    &lt;&lt;updateSidebar&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;sissygasm&quot;&gt;&gt;
  &lt;&lt;if $hasPerkSissygasm&gt;&gt;\
    &lt;&lt;set $sissyScore++&gt;&gt;\
    &lt;&lt;set $timesSissygasm++&gt;&gt;
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/widget&gt;&gt;

/* Increase Sissy score */
&lt;&lt;widget &quot;sUp&quot;&gt;&gt;
  &lt;&lt;if !_args[0]&gt;&gt;
    &lt;&lt;set _args[0] to 1&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $sissyScore to $sissyScore + _args[0]&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Increase Slut score */
&lt;&lt;widget &quot;uUp&quot;&gt;&gt;
  &lt;&lt;if !_args[0]&gt;&gt;
    &lt;&lt;set _args[0] to 1&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $slutScore to $slutScore + _args[0]&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Increase Alpha score */
&lt;&lt;widget &quot;aUp&quot;&gt;&gt;
  &lt;&lt;if !_args[0]&gt;&gt;
    &lt;&lt;set _args[0] to 1&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;if _args[0] &gt; 0&gt;&gt;
    &lt;&lt;set $alphaScore to ($alphaScore + $alphaGainMod + _args[0])&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;set $alphaScore to ($alphaScore + _args[0])&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Main Girl Say */
&lt;&lt;widget &quot;mgs&quot; container&gt;&gt;\
  &lt;&lt;set _colorSpanMgs to &quot;color: &quot; + $mgSpeechColor&gt;&gt;\
  &lt;span @style=&quot;_colorSpanMgs&quot;&gt;&quot;_contents&quot;&lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* MC Say */
&lt;&lt;widget &quot;mcs&quot; container&gt;&gt;\
  &lt;&lt;set _colorSpanMcs to &quot;color: &quot; + $mcSpeechColor&gt;&gt;\
  &lt;span @style=&quot;_colorSpanMcs&quot;&gt;_contents&lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Andrea Say */
&lt;&lt;widget &quot;asay&quot; container&gt;&gt;\
  &lt;&lt;set _colorSpanAsay to &quot;color: &quot; + $andreaSpeechColor&gt;&gt;\
  &lt;span @style=&quot;_colorSpanAsay&quot;&gt;&quot;_contents&quot;&lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Others Say */
&lt;&lt;widget &quot;osay&quot; container&gt;&gt;\
  &lt;&lt;set _colorSpanOsay to &quot;color: &quot; + $othersSpeechColor&gt;&gt;\
  &lt;span @style=&quot;_colorSpanOsay&quot;&gt;&quot;_contents&quot;&lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Alpha Coloring: cyan */
&lt;&lt;widget &quot;ac&quot; container&gt;&gt;\
  &lt;&lt;if !_args[0]&gt;&gt;\
    &lt;&lt;set _args[0]=&quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  &lt;span @title=&quot;_args[0]&quot;&gt;\
    @@color:cyan;_contents@@\
  &lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Sissy Coloring: magenta */
&lt;&lt;widget &quot;sc&quot; container&gt;&gt;\
  &lt;&lt;if !_args[0]&gt;&gt;\
    &lt;&lt;set _args[0]=&quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  &lt;span @title=&quot;_args[0]&quot;&gt;\
    @@color:magenta;_contents@@\
  &lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Slut Coloring: red */
&lt;&lt;widget &quot;uc&quot; container&gt;&gt;\
  &lt;&lt;if !_args[0]&gt;&gt;\
    &lt;&lt;set _args[0]=&quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  &lt;span @title=&quot;_args[0]&quot;&gt;\
    @@color:red;_contents@@\
  &lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Gold color (Alpha negative gain) */
&lt;&lt;widget &quot;gc&quot; container&gt;&gt;\
  &lt;&lt;if !_args[0]&gt;&gt;\
    &lt;&lt;set _args[0]=&quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  &lt;span @title=&quot;_args[0]&quot;&gt;\
    @@color:gold;_contents@@\
  &lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Yellow color */
&lt;&lt;widget &quot;yc&quot; container&gt;&gt;\
  &lt;&lt;if !_args[0]&gt;&gt;\
    &lt;&lt;set _args[0]=&quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  &lt;span @title=&quot;_args[0]&quot;&gt;\
    @@color:yellow;_contents@@\
  &lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Limegreen color (money) */
&lt;&lt;widget &quot;lgc&quot; container&gt;&gt;\
  &lt;&lt;if !_args[0]&gt;&gt;\
    &lt;&lt;set _args[0]=&quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  &lt;span @title=&quot;_args[0]&quot;&gt;\
    @@color:limegreen;_contents@@\
  &lt;/span&gt;\
&lt;&lt;/widget&gt;&gt;

/* Buy item */
&lt;&lt;widget &quot;buyItem&quot;&gt;&gt;
  &lt;&lt;set $itemPurchased to _args[0]&gt;&gt;
  &lt;&lt;set $cash to $cash - _args[1]&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Costume Shop */
&lt;&lt;widget &quot;buyCostume&quot;&gt;&gt;
  &lt;&lt;if $episode is 3&gt;&gt;
    &lt;&lt;set $ep3CostumePurchased to true&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set _itemDesc to _args[0] + &quot; Costume&quot;&gt;&gt;
  &lt;&lt;set $costumesOwned[_args[0]] to true&gt;&gt;
  &lt;&lt;set $costumesOwned[&quot;any&quot;] to true&gt;&gt;
  &lt;&lt;buyItem _itemDesc 50&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Set item worn */
&lt;&lt;widget &quot;wearItem&quot;&gt;&gt;
  &lt;&lt;set $itemsWorn[_args[0]][&quot;item&quot;] to _args[1]&gt;&gt;
  &lt;&lt;set $itemsWorn[_args[0]][&quot;common&quot;] to _args[2]&gt;&gt;
  &lt;&lt;set $itemsWorn[_args[0]][&quot;worn&quot;] to true&gt;&gt;
  &lt;&lt;if _args[0] is &quot;cockToy&quot; and _args[1].includes(&quot;Chastity&quot;)&gt;&gt;
    &lt;&lt;set $inChastity to true&gt;&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Set item removed */
&lt;&lt;widget &quot;removeItem&quot;&gt;&gt;
  &lt;&lt;if _args[0] is &quot;cockToy&quot; and
    $itemsWorn[_args[0]][&quot;item&quot;].includes(&quot;Chastity&quot;)&gt;&gt;
    &lt;&lt;set $inChastity to false&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $itemsWorn[_args[0]][&quot;item&quot;] to &quot;&quot;&gt;&gt;
  &lt;&lt;set $itemsWorn[_args[0]][&quot;common&quot;] to &quot;&quot;&gt;&gt;
  &lt;&lt;set $itemsWorn[_args[0]][&quot;worn&quot;] to false&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Set costume */
&lt;&lt;widget &quot;wearCostume&quot;&gt;&gt;
  &lt;&lt;wearItem &quot;costume&quot; _args[0] &quot;costume&quot;&gt;&gt;
  &lt;&lt;set $itemsWorn[&quot;upperBody&quot;][&quot;common&quot;] to &quot;costume top&quot;&gt;&gt;
  &lt;&lt;set $itemsWorn[&quot;lowerBody&quot;][&quot;common&quot;] to &quot;costume bottoms&quot;&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* Forced into chastity */
&lt;&lt;widget &quot;forcedChastity&quot;&gt;&gt;
  &lt;&lt;if $inChastity&gt;&gt;
    &lt;&lt;set $chastityCageOwned to false&gt;&gt;
    &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCageSmall&quot; &quot;cock cage&quot;&gt;&gt;
    &lt;&lt;set $chastityCageSmallOwned to true&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCage&quot; &quot;cock cage&quot;&gt;&gt;
    &lt;&lt;set $sissyScore to $sissyScore +5&gt;&gt;
    &lt;&lt;set $alphaGainMod to $alphaGainMod -1&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  &lt;&lt;set $cageKeyOwned to false&gt;&gt;
&lt;&lt;/widget&gt;&gt;

/* START: Chastity Start Setup */
&lt;&lt;widget &quot;chastityStart&quot;&gt;&gt;
  &lt;&lt;set $chastityStart to true&gt;&gt;
  &lt;&lt;set $chastityCageOwned to true&gt;&gt;
  &lt;&lt;wearItem &quot;cockToy&quot; &quot;ChastityCage&quot; &quot;cock cage&quot;&gt;&gt;
  &lt;&lt;set $inChastity to true&gt;&gt;
  &lt;&lt;set $cageKeyOwned to false&gt;&gt;
  &lt;&lt;set $mcStatus to &quot;Already locked up...&quot;&gt;&gt;
&lt;&lt;/widget&gt;&gt;
/* END: Chastity Start Setup */

/* START: Clothing display widgets */
&lt;&lt;widget &quot;mcPants&quot;&gt;&gt;\
  &lt;&lt;if ! _args[0]&gt;&gt;\
    &lt;&lt;set _args[0] to &quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  $itemsWorn[&quot;lowerBody&quot;][&quot;common&quot;]_args[0]\
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;mcShirt&quot;&gt;&gt;\
  &lt;&lt;if ! _args[0]&gt;&gt;\
    &lt;&lt;set _args[0] to &quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  $itemsWorn[&quot;upperBody&quot;][&quot;common&quot;]_args[0]\
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;mcUnderwear&quot;&gt;&gt;\
  &lt;&lt;if ! _args[0]&gt;&gt;\
    &lt;&lt;set _args[0] to &quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  $itemsWorn[&quot;underwear&quot;][&quot;common&quot;]_args[0]\
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;mcPlug&quot;&gt;&gt;\
  &lt;&lt;if ! _args[0]&gt;&gt;\
    &lt;&lt;set _args[0] to &quot;&quot;&gt;&gt;\
  &lt;&lt;/if&gt;&gt;\
  $itemsWorn[&quot;insertable&quot;][&quot;common&quot;]_args[0]\
&lt;&lt;/widget&gt;&gt;
/* END: Clothing display widgets */

/* START: If containers */
&lt;&lt;widget &quot;ifCumdrinker&quot; container&gt;&gt;\
  &lt;&lt;if $hasPerkCumdrinker&gt;&gt;\
    _contents\
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/widget&gt;&gt;\

&lt;&lt;widget &quot;ifPlugged&quot; container&gt;&gt;\
  &lt;&lt;if $itemsWorn[&quot;insertable&quot;][&quot;worn&quot;]&gt;&gt;\
    _contents\
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/widget&gt;&gt;\

&lt;&lt;widget &quot;ifSissygasm&quot; container&gt;&gt;
  &lt;&lt;if $hasPerkSissygasm&gt;&gt;\
    _contents\
  &lt;&lt;/if&gt;&gt;\
&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;creampied&quot;&gt;&gt;
  &lt;&lt;set $timesCreampied++&gt;&gt;
&lt;&lt;/widget&gt;&gt;
/* END: If containers */</tw-passagedata><tw-passagedata pid="108" name="Clothes Shop" tags="Shop" position="1800,450" size="200,200">!Clothes Shop\
\
&lt;img src=&quot;images/locations/clothes_shop_01.jpg&quot;&gt;\

&lt;div id=&quot;shopInstructions&quot;&gt;\
!!Instructions
Here you are able to buy any clothes your character is willing to wear. Some items only become available later in the story. Don&#39;t worry if you can&#39;t buy something now, you&#39;ll be able to come back later.

To be fully clothed, you must own and be wearing at least one item from each category: &#39;&#39;Underwear&#39;&#39;, &#39;&#39;Hosiery&#39;&#39;, &#39;&#39;Lower Body&#39;&#39;, and &#39;&#39;Upper Body&#39;&#39;. You can see what you&#39;re currently wearing from the [[Inspect Self]] link in the sidebar at any time. You can only change your clothes in a valid bedroom or changing room.

Most articles of clothing have different effects on your scores when worn. These are listed in the item description here and anywhere you&#39;re able to change clothes. Note that taking off the item removes its effects. Hovering over an item will also tell you what $mgName thinks of it.

Buy enough clothes to fully cover yourself. Be careful of your budget! &lt;&lt;if $ep1End is 1&gt;&gt;@@color:yellow;Hint - Save at least $10 for later.@@&lt;&lt;/if&gt;&gt;

@@color:yellow;(( Use the back button to undo purchases if you need to ))@@

&lt;&lt;link &quot;Hide instructions ▶▶▶&quot;&gt;&gt;\
  &lt;&lt;toggleclass &quot;#shopInstructions&quot; &quot;hide&quot;&gt;&gt;\
  &lt;&lt;toggleclass &quot;#shopInstructionsHider&quot; &quot;hide&quot;&gt;&gt;\
  &lt;&lt;set $hideShopInstructions to true&gt;&gt;
&lt;&lt;/link&gt;&gt;
&lt;/div&gt;\
&lt;span id=&quot;shopInstructionsHider&quot; class=&quot;hide&quot;&gt;\
&lt;&lt;link &quot;Show instructions ▶▶▶&quot;&gt;&gt;\
  &lt;&lt;toggleclass &quot;#shopInstructions&quot; &quot;hide&quot;&gt;&gt;\
  &lt;&lt;toggleclass &quot;#shopInstructionsHider&quot; &quot;hide&quot;&gt;&gt;\
&lt;&lt;/link&gt;&gt;
&lt;/span&gt;\
&lt;center&gt;\
\
&lt;hr&gt;
!!Underwear
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Boxers */
  &lt;div id=&quot;shopBoxers&quot; class=&quot;shop_item&quot; title=&quot;Huh? That&#39;s not very girly honey...&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boxers_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;&quot;&gt;
      &#39;&#39;Boxers&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$5@@&lt;br&gt;
      @@color:cyan;A+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $boxersOwned isnot true&gt;&gt;
        &lt;&lt;if $alphaScore gt -6&gt;&gt;
          &lt;&lt;if $cash lt 5&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $boxersOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -5&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Boxers&quot;&gt;&gt;
              &lt;&lt;set $underwearOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:cyan;Alpha too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Boyshorts */
  &lt;div id=&quot;shopBoyshorts&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start somewhere...&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/boyshorts_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Boyshorts&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$10@@&lt;br&gt;
      @@color:magenta;S+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $boyshortsOwned isnot true&gt;&gt;
        &lt;&lt;if $cash lt 10&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $boyshortsOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -10&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Boyshorts&quot;&gt;&gt;
              &lt;&lt;set $underwearOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Panties, Classic */
  &lt;div id=&quot;shopPantiesClassic&quot; class=&quot;shop_item&quot; title=&quot;You can never have enough panties!&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_classic_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Panties&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$15@@&lt;br&gt;
      @@color:magenta;S+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $pantiesClassicOwned isnot true&gt;&gt;
        &lt;&lt;if $sissyLevel gte 1&gt;&gt;
          &lt;&lt;if $cash lt 15&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $pantiesClassicOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -15&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Classic Panties&quot;&gt;&gt;
              &lt;&lt;set $underwearOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:magenta;Sissy lvl too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Panties, Cheeky */
  &lt;div id=&quot;shopPantiesCheeky&quot; class=&quot;shop_item&quot; title=&quot;Ooo! Those&#39;ll show off your ass nicely!&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_cheeky_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Cheeky Panties&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$15@@&lt;br&gt;
      @@color:magenta;S+2@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $pantiesCheekyOwned isnot true&gt;&gt;
        &lt;&lt;if $sissyLevel gte 1&gt;&gt;
          &lt;&lt;if $cash lt 15&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $pantiesCheekyOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -15&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Cheeky Panties&quot;&gt;&gt;
              &lt;&lt;set $underwearOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:magenta;Sissy lvl too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Panties, String Bikini */
  &lt;div id=&quot;shopPantiesBikini&quot; class=&quot;shop_item&quot; title=&quot;Mmmm! Sexy!&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/panties_bikini_string_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Bikini Panties&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$15@@&lt;br&gt;
      @@color:magenta;S+3@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $pantiesBikiniOwned isnot true&gt;&gt;
        &lt;&lt;if $sissyLevel gte 1&gt;&gt;
          &lt;&lt;if $cash lt 15&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $pantiesBikiniOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -15&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Bikini Panties&quot;&gt;&gt;
              &lt;&lt;set $underwearOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:magenta;Sissy lvl too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\

!!Hosiery
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Socks */
  &lt;div id=&quot;shopSocks&quot; class=&quot;shop_item&quot; title=&quot;Ooh, I LOVE the &#39;Hello Kitty&#39; ones!&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/socks_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;&quot;&gt;
      &#39;&#39;Socks&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$5@@&lt;br&gt;
      &lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $socksOwned isnot true&gt;&gt;
        &lt;&lt;if $cash lt 5&gt;&gt;
          Can&#39;t afford!
        &lt;&lt;else&gt;&gt;
          &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $socksOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -5&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Socks&quot;&gt;&gt;
              &lt;&lt;set $hosieryOwned to true&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Kneehighs */
  &lt;div id=&quot;shopKneehighs&quot; class=&quot;shop_item&quot; title=&quot;Schoolgirl style! I like where this is going!&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/kneehigh_socks_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Kneehighs&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$10@@&lt;br&gt;
      @@color:magenta;S+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $kneehighsOwned isnot true&gt;&gt;
        &lt;&lt;if $sissyLevel gte 1&gt;&gt;
          &lt;&lt;if $cash lt 10&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $kneehighsOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -10&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Kneehighs&quot;&gt;&gt;
              &lt;&lt;set $hosieryOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:magenta;Sissy lvl too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Pantyhose */
  &lt;div id=&quot;shopPantyhose&quot; class=&quot;shop_item&quot; title=&quot;You do know those don&#39;t hide anything, right?&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pantyhose_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Pantyhose&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$15@@&lt;br&gt;
      @@color:magenta;S+2@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $pantyhoseOwned isnot true&gt;&gt;
        &lt;&lt;if $sissyLevel gte 1&gt;&gt;
          &lt;&lt;if $cash lt 15&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $pantyhoseOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -15&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Pantyhose&quot;&gt;&gt;
              &lt;&lt;set $hosieryOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:magenta;Sissy lvl too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\

!!Lower Body
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Pants */
  &lt;div id=&quot;shopPants&quot; class=&quot;shop_item&quot; title=&quot;Well, that&#39;s an unpleasant surprise...&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/pants_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;&quot;&gt;
      &#39;&#39;Pants&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$25@@&lt;br&gt;
      @@color:cyan;A+3@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $pantsOwned isnot true&gt;&gt;
        &lt;&lt;if $alphaScore gt -8&gt;&gt;
          &lt;&lt;if $cash lt 25&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $pantsOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -25&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Pants&quot;&gt;&gt;
              &lt;&lt;set $lowerBodyOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:cyan;Alpha too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Short-Shorts */
  &lt;div id=&quot;shopShortShorts&quot; class=&quot;shop_item&quot; title=&quot;Mmm! Those&#39;ll turn some heads!&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/shorts_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Short-Shorts&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$10@@&lt;br&gt;
      @@color:magenta;S+1@@, @@color:red;U+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $shortShortsOwned isnot true&gt;&gt;
        &lt;&lt;if $alphaScore lt 0&gt;&gt;
          &lt;&lt;if $cash lt 10&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $shortShortsOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -10&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Short Shorts&quot;&gt;&gt;
              &lt;&lt;set $lowerBodyOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:cyan;Alpha too high!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Skirt, long */
  &lt;div id=&quot;shopSkirtLong&quot; class=&quot;shop_item&quot; title=&quot;Better, but a little long for my taste.&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/skirt_long_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Long Skirt&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$15@@&lt;br&gt;
      @@color:cyan;A-1@@, @@color:magenta;S+3@@, @@color:red;U+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $skirtLongOwned isnot true&gt;&gt;
        &lt;&lt;if $sissyLevel gte 1 and $slutLevel gte 1&gt;&gt;
          &lt;&lt;if $cash lt 25&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $skirtLongOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -25&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Long Skirt&quot;&gt;&gt;
              &lt;&lt;set $lowerBodyOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;elseif $sissyLevel lt 1 and $slutLevel lt 1&gt;&gt;
          @@color:magenta;S@@ and @@color:red;U@@ too low!
        &lt;&lt;elseif $sissyLevel lt 1&gt;&gt;
          @@color:magenta;Sissy lvl too low!@@
        &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
          @@color:red;Slut lvl too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\

!!Upper Body
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Buttondown (M) */
  &lt;div id=&quot;shopButtondownM&quot; class=&quot;shop_item&quot; title=&quot;OK, but a women&#39;s version would be better...&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/buttondown_shirt_mens_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td class=&quot;&quot;&gt;
      &#39;&#39;Buttondown ♂️&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$25@@&lt;br&gt;
      @@color:cyan;A+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $buttondownMOwned isnot true&gt;&gt;
        &lt;&lt;if $alphaScore gt -4&gt;&gt;
          &lt;&lt;if $cash lt 25&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $buttondownMOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -25&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Buttondown ♂️&quot;&gt;&gt;
              &lt;&lt;set $upperBodyOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:cyan;Alpha too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* T-Shirt (F) */
  &lt;div id=&quot;shopTshirtF&quot; class=&quot;shop_item&quot; title=&quot;Oh! The one with the word &#39;SLUT&#39; on it is sold out...&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_female_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;T-Shirt ♀️&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$15@@&lt;br&gt;
      @@color:magenta;S+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $tshirtFOwned isnot true&gt;&gt;
        &lt;&lt;if $cash lt 15&gt;&gt;
          Can&#39;t afford!
        &lt;&lt;else&gt;&gt;
          &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $tshirtFOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -15&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;T-shirt ♀️&quot;&gt;&gt;
              &lt;&lt;set $upperBodyOwned to true&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* T-Shirt (M) */
  &lt;div id=&quot;shopTshirtM&quot; class=&quot;shop_item&quot; title=&quot;Bleh! At least pick a cuter one...&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/tshirt_male_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;T-Shirt ♂️&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$15@@&lt;br&gt;
      @@color:cyan;A+1@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $tshirtMOwned isnot true&gt;&gt;
        &lt;&lt;if $cash lt 15&gt;&gt;
          Can&#39;t afford!
        &lt;&lt;else&gt;&gt;
          &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $tshirtMOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -15&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;T-shirt ♂️&quot;&gt;&gt;
              &lt;&lt;set $upperBodyOwned to true&gt;&gt;
          &lt;&lt;/link&gt;&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Hoodie */
  &lt;div id=&quot;shopHoodie&quot; class=&quot;shop_item&quot; title=&quot;That hood might come in handy.&quot;&gt;
  &lt;table class=&quot;shop_table&quot;&gt;
  &lt;tr class=&quot;perk_table&quot;&gt;
    &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/hoodie_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;td&gt;
      &#39;&#39;Hoodie&#39;&#39;&lt;br&gt;
      Price: @@color:limegreen;$30@@&lt;br&gt;
      @@color:cyan;A+2@@&lt;br&gt;
      &lt;br&gt;
      &lt;&lt;if $hoodieOwned isnot true&gt;&gt;
        &lt;&lt;if $alphaScore gt -8&gt;&gt;
          &lt;&lt;if $cash lt 30&gt;&gt;
            Can&#39;t afford!
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
              &lt;&lt;set $hoodieOwned to true&gt;&gt;
              &lt;&lt;set $cash to $cash -30&gt;&gt;
              &lt;&lt;set $itemPurchased to &quot;Hoodie&quot;&gt;&gt;
              &lt;&lt;set $upperBodyOwned to true&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          @@color:cyan;Alpha too low!@@
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        Owned!
      &lt;&lt;/if&gt;&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/div&gt;

  /* Hoodie, Oversized */
  &lt;div id=&quot;shopHoodieOversized&quot; class=&quot;shop_item&quot; title=&quot;Ooo! That looks comfy!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/clothes/hoodie_oversized_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td&gt;
          &lt;center&gt;&#39;&#39;Hoodie, Oversized&#39;&#39;&lt;/center&gt;
          Price: @@color:limegreen;$30@@&lt;br&gt;
          @@color:magenta;S+1@@&lt;br&gt;
          &lt;&lt;if $hoodieOversizedOwned isnot true&gt;&gt;
            &lt;&lt;if $cash lt 30&gt;&gt;
            Can&#39;t afford!
            &lt;&lt;else&gt;&gt;
              &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Clothes Shop&quot;&gt;&gt;
                &lt;&lt;set $hoodieOversizedOwned to true&gt;&gt;
                &lt;&lt;set $cash to $cash -30&gt;&gt;
                &lt;&lt;set $itemPurchased to &quot;Oversized Hoodie&quot;&gt;&gt;
                &lt;&lt;set $upperBodyOwned to true&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\
\
&lt;/center&gt;\
\
&lt;hr&gt;&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $underwearOwned isnot true&gt;&gt;
You need to buy &#39;&#39;Underwear&#39;&#39;!&lt;br&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $hosieryOwned isnot true&gt;&gt;
You need to buy &#39;&#39;Hosiery&#39;&#39;!&lt;br&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $lowerBodyOwned isnot true&gt;&gt;
You need to buy &#39;&#39;Lower Body&#39;&#39;!&lt;br&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $upperBodyOwned isnot true&gt;&gt;
You need to buy &#39;&#39;Upper Body&#39;&#39;!&lt;br&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $upperBodyOwned is true and $lowerBodyOwned is true and
$hosieryOwned is true and $underwearOwned is true&gt;&gt;
    &lt;ul&gt;
    &lt;&lt;if $episode is 2&gt;&gt;
      &lt;li&gt;[[Dressing Room ▶▶▶|Dressing Room][$changingRoom to &quot;Dressing Room&quot;]]&lt;/li&gt;
    &lt;&lt;else&gt;&gt;
      &lt;li&gt;&lt;&lt;return&gt;&gt;&lt;/li&gt;
    &lt;&lt;/if&gt;&gt;
    &lt;/ul&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;\
\
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $showDebugMsgs is true&gt;&gt;\
&lt;hr&gt;
&lt;ul&gt;
  &lt;li&gt;Boyshorts owned: $boyshortsOwned&lt;/li&gt;
&lt;/ul&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;
&lt;&lt;if $episode is 2&gt;&gt;
  &lt;&lt;set $clothesShopVisitedEp2 to true&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="109" name="Costume Shop" tags="Shop" position="3400,175" size="200,200">!Costume Shop
&lt;img src=&quot;images/locations/costume_store.jpg&quot;&gt;\

&lt;&lt;nobr&gt;&gt;&lt;center&gt;
  /* Catgirl Costume */
  &lt;table id=&quot;costumeShopCatgirl&quot; class=&quot;costume&quot;&gt;
    &lt;tr class=&quot;&quot;&gt;
      &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/catgirl_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&quot;&quot;&gt;
        &#39;&#39;Catgirl&#39;&#39;&lt;br&gt;
        Price: @@color:limegreen;$50@@&lt;br&gt;
        &lt;&lt;sc &quot;Sissy +3 when worn&quot;&gt;&gt;S+3&lt;&lt;/sc&gt;&gt;&lt;br&gt;
        &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
        &lt;&lt;if $costumesOwned[&quot;Catgirl&quot;] isnot true&gt;&gt;
          &lt;&lt;if $cash lt 50&gt;&gt;
            @@color:yellow;Can&#39;t afford!@@
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Costume Shop&quot;&gt;&gt;
              &lt;&lt;buyCostume &quot;Catgirl&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          Owned!
        &lt;&lt;/if&gt;&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;

  /* Demon Costume */
  &lt;table id=&quot;costumeShopDemon&quot; class=&quot;costume&quot;&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/demon_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&quot;&quot;&gt;
        &#39;&#39;Demon&#39;&#39;&lt;br&gt;
        Price: @@color:limegreen;$50@@&lt;br&gt;
        &lt;&lt;uc &quot;Slut +4&quot;&gt;&gt;U+4&lt;&lt;/uc&gt;&gt;&lt;br&gt;
        &lt;&lt;yc &quot;This costume may affect certain scenes (in a FUTURE version)&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
        &lt;&lt;if $costumesOwned[&quot;Demon&quot;] isnot true&gt;&gt;
          &lt;&lt;if $cash lt 50&gt;&gt;
            @@color:yellow;Can&#39;t afford!@@
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Costume Shop&quot;&gt;&gt;
              &lt;&lt;buyCostume &quot;Demon&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          Owned!
        &lt;&lt;/if&gt;&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;

  /* Elf Costume */
  &lt;table id=&quot;costumeShopElf&quot; class=&quot;costume&quot;&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/elf_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&quot;&quot;&gt;
        &#39;&#39;Elf&#39;&#39;&lt;br&gt;
        Price: @@color:limegreen;$50@@&lt;br&gt;
        &lt;&lt;uc &quot;Slut +3&quot;&gt;&gt;U+3&lt;&lt;/uc&gt;&gt;&lt;br&gt;
        &lt;&lt;yc &quot;This costume has effects on certain scenes&quot;&gt;&gt;((Special))&lt;&lt;/yc&gt;&gt;&lt;br&gt;
        &lt;&lt;if $costumesOwned[&quot;Elf&quot;] isnot true&gt;&gt;
          &lt;&lt;if $cash lt 50&gt;&gt;
            @@color:yellow;Can&#39;t afford!@@
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Costume Shop&quot;&gt;&gt;
              &lt;&lt;buyCostume &quot;Elf&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          Owned!
        &lt;&lt;/if&gt;&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;

  /* Schoolgirl Costume */
  &lt;table id=&quot;costumeShopSchoolgirl&quot; class=&quot;costume&quot;&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;img class=&quot;costume_img&quot; src=&quot;images/costumes/schoolgirl_01.jpg&quot;&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&quot;&quot;&gt;
        &#39;&#39;Schoolgirl&#39;&#39;&lt;br&gt;
        Price: @@color:limegreen;$50@@&lt;br&gt;
        &lt;&lt;sc &quot;Sissy +4 when worn&quot;&gt;&gt;S+4&lt;&lt;/sc&gt;&gt;&lt;br&gt;
        &lt;br&gt;
        &lt;&lt;if $costumesOwned[&quot;Schoolgirl&quot;] isnot true&gt;&gt;
          &lt;&lt;if $cash lt 50&gt;&gt;
            @@color:yellow;Can&#39;t afford!@@
          &lt;&lt;else&gt;&gt;
            &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Costume Shop&quot;&gt;&gt;
              &lt;&lt;buyCostume &quot;Schoolgirl&quot;&gt;&gt;
            &lt;&lt;/link&gt;&gt;
          &lt;&lt;/if&gt;&gt;
        &lt;&lt;else&gt;&gt;
          Owned!
        &lt;&lt;/if&gt;&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/center&gt;&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;if $ep3CostumePurchased&gt;&gt;\
* &lt;&lt;link &quot;Change into your costume ▶▶▶&quot; &quot;Dressing Room&quot;&gt;&gt;&lt;&lt;/link&gt;&gt;
&lt;&lt;elseif $episode gt 3&gt;&gt;\
* [[Return ▶▶▶|return]]
&lt;&lt;else&gt;&gt;\
@@color:yellow;(( You need to buy a costume! ))@@
&lt;&lt;/if&gt;&gt;\
&lt;&lt;silently&gt;&gt;
  /* Hidden Links */
  [[Party Time]]
  [[Dressing Room]]
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="110" name="Sex Shop" tags="Shop" position="2550,450" size="200,200">!Sex Shop
&lt;img class=&quot;square_img&quot; src=&quot;images/locations/toy_store_01.jpg&quot;&gt;
&lt;center&gt;\
!!Dildos and Vibrators
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Dildo, Small */
  &lt;div id=&quot;shopDildoSmall&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start with something.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Small&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$10@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+1@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $dildoSmallOwned isnot true&gt;&gt;
            &lt;&lt;if $cash lt 10&gt;&gt;
              Can&#39;t afford!
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;Sissy +1&quot;&gt;
                &lt;&lt;link &quot;@@color:magenta;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $dildoSmallOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -10&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Small Dildo&quot;&gt;&gt;
                  &lt;&lt;set $toyOwned to true&gt;&gt;
                  &lt;&lt;set $sissyScore++&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Medium */
  &lt;div id=&quot;shopDildoMedium&quot; class=&quot;shop_item&quot; title=&quot;A girl&#39;s most trusted friend! Never fails.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Medium&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$20@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+2@@, @@color:red;U+2@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $dildoMediumOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 1 and $slutLevel gte 1&gt;&gt;
              &lt;&lt;if $cash lt 20&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +2, Slut +2&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:red;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $dildoMediumOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -20&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Medium Dildo&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 1 and $slutLevel lt 1&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 1&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Large */
  &lt;div id=&quot;shopDildoLarge&quot; class=&quot;shop_item&quot; title=&quot;You THINK you want it, until you get it.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Large&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$35@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+3@@, @@color:red;U+3@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $dildoLargeOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 4&gt;&gt;
              &lt;&lt;if $cash lt 35&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +3, Slut +3&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:red;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $dildoLargeOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -35&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Large Dildo&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 4&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 4&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Huge */
  &lt;div id=&quot;shopDildoHuge&quot; class=&quot;shop_item&quot; title=&quot;No way you can fit that!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_huge_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Huge&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$35@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+4@@, @@color:red;U+4@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $dildoHugeOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 6&gt;&gt;
              &lt;&lt;if $cash lt 35&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +4, Slut +4&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:red;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $dildoHugeOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -35&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Huge Dildo&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +4&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +4&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 6&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 6&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Dildo, Inflatable */
  &lt;div id=&quot;shopDildoInflatable&quot; class=&quot;shop_item&quot; title=&quot;Grower, not a shower.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/dildo_inflatable_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Dildo, Inflating&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$35@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+3@@, @@color:red;U+3@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $dildoInflatableOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 5 and $slutLevel gte 5&gt;&gt;
              &lt;&lt;if $cash lt 35&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +3, Slut +3&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:red;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $dildoInflatableOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -35&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Inflatable Dildo&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 5 and $slutLevel lt 5&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 5&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 5&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Bullet */
  &lt;div id=&quot;shopVibeBullet&quot; class=&quot;shop_item&quot; title=&quot;Always carry one in your purse, trust me.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_bullet_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Bullet&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$10@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+1@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $vibeBulletOwned isnot true&gt;&gt;
            &lt;&lt;if $cash lt 10&gt;&gt;
              Can&#39;t afford!
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;Sissy +1&quot;&gt;
                &lt;&lt;link &quot;@@color:magenta;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $vibeBulletOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -10&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Bullet Vibrator&quot;&gt;&gt;
                  &lt;&lt;set $sissyScore++&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Small */
  &lt;div id=&quot;shopVibeSmall&quot; class=&quot;shop_item&quot; title=&quot;Well, you&#39;ve got to start with something.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Small&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$15@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+1@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $vibeSmallOwned isnot true&gt;&gt;
            &lt;&lt;if $cash lt 15&gt;&gt;
              Can&#39;t afford!
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;Sissy +1&quot;&gt;
                &lt;&lt;link &quot;@@color:magenta;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $vibeSmallOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -15&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Small Vibrator&quot;&gt;&gt;
                  &lt;&lt;set $toyOwned to true&gt;&gt;
                  &lt;&lt;set $sissyScore++&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Medium */
  &lt;div id=&quot;shopVibeMedium&quot; class=&quot;shop_item&quot; title=&quot;Now you&#39;re talking! Can I borrow?&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Medium&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$30@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+2@@, @@color:red;U+2@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $vibeMediumOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 2 and $slutLevel gte 1&gt;&gt;
              &lt;&lt;if $cash lt 30&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +2, Slut +2&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:red;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $vibeMediumOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -30&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Medium Vibe&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 2 and $slutLevel lt 1&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 2&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Vibe, Large */
  &lt;div id=&quot;shopVibeLarge&quot; class=&quot;shop_item&quot; title=&quot;That&#39;ll shake you to your core!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/vibrator_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Vibe, Large&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$45@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+3@@, @@color:red;U+3@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $vibeLargeOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 5 and $slutLevel gte 5&gt;&gt;
              &lt;&lt;if $cash lt 30&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +3, Slut +3&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:red;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $vibeLargeOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -45&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Large Vibe&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 5 and $slutLevel lt 5&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 5&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 5&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\
\
!!Plugs and Beads
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Beads, Small */
  &lt;div id=&quot;shopBeadsSmall&quot; class=&quot;shop_item&quot; title=&quot;These are fun, but dick is better.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Beads, Small&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$15@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+1@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $beadsSmallOwned isnot true&gt;&gt;
            &lt;&lt;if $cash lt 15&gt;&gt;
              Can&#39;t afford!
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;Sissy +1&quot;&gt;
                &lt;&lt;link &quot;@@color:magenta;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $beadsSmallOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -15&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Small Beads&quot;&gt;&gt;
                  &lt;&lt;set $toyOwned to true&gt;&gt;
                  &lt;&lt;set $sissyScore++&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Beads, Medium */
  &lt;div id=&quot;shopBeadsMedium&quot; class=&quot;shop_item&quot; title=&quot;I&#39;m gonna yank those out sooo hard!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Beads, Medium&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$20@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+1@@, @@color:red;U+2@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $beadsMediumOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 1 and $slutLevel gte 1&gt;&gt;
              &lt;&lt;if $cash lt 20&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +2, Slut +2&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:red;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $beadsMediumOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -20&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Medium Anal Beads&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +1&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 1 and $slutLevel lt 1&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 2&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Beads, Large */
  &lt;div id=&quot;shopBeadsLarge&quot; class=&quot;shop_item&quot; title=&quot;These will make you gape for sure&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/beads_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Beads, Large&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$35@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+3@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $beadsLargeOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 3&gt;&gt;
              &lt;&lt;if $cash lt 35&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Sissy +3&quot;&gt;
                  &lt;&lt;link &quot;@@color:magenta;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $beadsLargeOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -35&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Large Anal Beads&quot;&gt;&gt;
                    &lt;&lt;set $toyOwned to true&gt;&gt;
                    &lt;&lt;set $sissyScore to $sissyScore +3&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 3&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 3&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

    /* Plug, Small */
  &lt;div id=&quot;shopPlugSmall&quot; class=&quot;shop_item&quot; title=&quot;Soon that&#39;ll be too small for you. 😈&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_small_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Small&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$10@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+1@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $plugSmallOwned isnot true&gt;&gt;
            &lt;&lt;if $cash lt 10&gt;&gt;
              Can&#39;t afford!
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;Sissy +1&quot;&gt;
                &lt;&lt;link &quot;@@color:red;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $plugSmallOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -10&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Small Plug&quot;&gt;&gt;
                  &lt;&lt;set $slutScore++&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Plug, Medium */
  &lt;div id=&quot;shopPlugMedium&quot; class=&quot;shop_item&quot; title=&quot;Always ready, that&#39;s my motto.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_medium_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Medium&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$15@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $plugMediumOwned isnot true&gt;&gt;
            &lt;&lt;if $slutLevel gte 2&gt;&gt;
              &lt;&lt;if $cash lt 15&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Slut +2&quot;&gt;
                  &lt;&lt;link &quot;@@color:red;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $plugMediumOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -15&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Medium Anal Plug&quot;&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +2&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;else&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Plug, Large */
  &lt;div id=&quot;shopPlugLarge&quot; class=&quot;shop_item&quot; title=&quot;The best cum plug on the market.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_large_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Large&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$25@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+3@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $plugLargeOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 3 and $slutLevel gte 4&gt;&gt;
              &lt;&lt;if $cash lt 25&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Slut +3&quot;&gt;
                  &lt;&lt;link &quot;@@color:red;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $plugLargeOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -25&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Large Anal Plug&quot;&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 3 and $slutLevel lt 4&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 3&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 4&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Plug, Huge */
  &lt;div id=&quot;shopPlugHuge&quot; class=&quot;shop_item&quot; title=&quot;Why this? I like you tight babe.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_huge_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Huge&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$35@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+3@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $plugHugeOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 5&gt;&gt;
              &lt;&lt;if $cash lt 35&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Slut +4&quot;&gt;
                  &lt;&lt;link &quot;@@color:red;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $plugHugeOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -35&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Huge Anal Plug&quot;&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +4&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 5&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 5&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Plug, Inflatable */
  &lt;div id=&quot;shopPlugInflatable&quot; class=&quot;shop_item&quot; title=&quot;I&#39;ll pump it &#39;til you cry.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/plug_inflatable_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Plug, Inflatable&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$25@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+3@@&lt;br&gt;
          ^On purchase^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $plugInflatableOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 5 and $slutLevel gte 4&gt;&gt;
              &lt;&lt;if $cash lt 25&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;span title=&quot;Slut +3&quot;&gt;
                  &lt;&lt;link &quot;@@color:red;Buy ▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                    &lt;&lt;set $plugInflatableOwned to true&gt;&gt;
                    &lt;&lt;set $cash to $cash -25&gt;&gt;
                    &lt;&lt;set $itemPurchased to &quot;Inflatable Anal Plug&quot;&gt;&gt;
                    &lt;&lt;set $slutScore to $slutScore +3&gt;&gt;
                  &lt;&lt;/link&gt;&gt;
                &lt;/span&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 5 and $slutLevel lt 4&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $sissyLevel lt 5&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $slutLevel lt 4&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\
\
!!Cock Toys
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Chastity Cage */
  &lt;div id=&quot;shopChastityCage&quot; class=&quot;shop_item&quot; title=&quot;Dick&#39;s don&#39;t get locked up - THAT&#39;s a clit.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/chastity_cage_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Chastity Cage&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$30@@&lt;br&gt;
          &lt;center&gt;&lt;span title=&quot;Sissy +5. When worn, all Alpha score gains are reduced by 1.&quot;&gt;@@color:magenta;S+5@@, @@color:gold;A gains -1@@&lt;br&gt;
          @@color:gold;^When worn^@@&lt;br&gt;&lt;/span&gt;&lt;/center&gt;
          &lt;&lt;if $chastityCageOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 2&gt;&gt;
              &lt;&lt;if $cash lt 30&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $chastityCageOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -30&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Chastity Cage&quot;&gt;&gt;
                  &lt;&lt;set $cageKeyOwned to true&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;else&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Cock Ring */
  &lt;div id=&quot;shopCockRing&quot; class=&quot;shop_item&quot; title=&quot;Well, it is a bit bigger than a finger.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/cock_ring_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Cock Ring&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$5@@&lt;br&gt;
          &lt;center&gt;&lt;span title=&quot;Sissy -3, Slut +1, Alpha +1&quot;&gt;
          @@color:magenta;S-3@@, @@color:red;U+1@@, @@color:cyan;A+1@@&lt;br&gt;
          ^When worn^&lt;br&gt;&lt;/span&gt;&lt;/center&gt;
          &lt;&lt;if $cockRingOwned isnot true&gt;&gt;
            &lt;&lt;if $slutLevel gte 1&gt;&gt;
              &lt;&lt;if $cash lt 5&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $cockRingOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -5&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Cock Ring&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;else&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Fleshlight */
  &lt;div id=&quot;shopFleshlight&quot; class=&quot;shop_item&quot; title=&quot;Probably your only pussy for a while.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/fleshlight_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Fleshlight&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$70@@&lt;br&gt;
          &lt;span title=&quot;Can be used to masturbate. If you cum inside and suck it out, Slut +1. If you swallow afterward, Sissy +1.&quot;&gt;
          &lt;center&gt;@@color:yellow;Special&lt;br&gt;
          (hover here)@@&lt;/center&gt;&lt;/span&gt;
          &lt;&lt;if $fleshlightOwned isnot true&gt;&gt;
            &lt;&lt;if $alphaLevel gte 7&gt;&gt;
              &lt;&lt;if $cash lt 70&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $fleshlightOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -70&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Fleshlight&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;else&gt;&gt;
              @@color:cyan;Alpha lv@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\
\
!!Accessories
&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;shop_section&quot;&gt;

  /* Ballgag */
  &lt;div id=&quot;shopBallgag&quot; class=&quot;shop_item&quot; title=&quot;Try to make noise regardless, please.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/ballgag_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Ballgag&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$15@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
          ^When worn^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $ballgagOwned isnot true&gt;&gt;
            &lt;&lt;if $slutLevel gte 1&gt;&gt;
              &lt;&lt;if $cash lt 15&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $ballgagOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -15&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Ballgag&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;else&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Blindfold */
  &lt;div id=&quot;shopBlindfold&quot; class=&quot;shop_item&quot; title=&quot;No peeking!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/blindfold_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Blindfold&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$5@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+1@@&lt;br&gt;
          ^While worn^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $blindfoldOwned isnot true&gt;&gt;
            &lt;&lt;if $cash lt 5&gt;&gt;
              Can&#39;t afford!
            &lt;&lt;else&gt;&gt;
              &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                &lt;&lt;set $blindfoldOwned to true&gt;&gt;
                &lt;&lt;set $cash to $cash -5&gt;&gt;
                &lt;&lt;set $itemPurchased to &quot;Blindfold&quot;&gt;&gt;
              &lt;&lt;/link&gt;&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Body Harness */
  &lt;div id=&quot;shopBodyHarness&quot; class=&quot;shop_item&quot; title=&quot;I&#39;m getting a sex slave? NICE!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/body_harness_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Body Harness&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$50@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+5@@&lt;br&gt;
          ^When worn^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $bodyHarnessOwned isnot true&gt;&gt;
            &lt;&lt;if $slutLevel gte 5&gt;&gt;
              &lt;&lt;if $cash lt 50&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $bodyHarnessOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -50&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Body Harness&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;else&gt;&gt;
              &lt;span title=&quot;Min Slut lvl 5&quot;&gt;@@color:red;Slut lvl@@ too low!&lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Collar, Ringed */
  &lt;div id=&quot;shopCollarRing&quot; class=&quot;shop_item&quot; title=&quot;What a good bitch. Now, find a leash!&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_ringed_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Collar, Ringed&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$30@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+2@@&lt;br&gt;
          ^When worn^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $collarRingedOwned isnot true&gt;&gt;
            &lt;&lt;if $slutLevel gte 1&gt;&gt;
              &lt;&lt;if $cash lt 30&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $collarRingedOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -30&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Ringed Collar&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;else&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Collar, Shock */
  &lt;div id=&quot;shopCollarShock&quot; class=&quot;shop_item&quot; title=&quot;Quite shocking I must say.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_shock_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Collar, Shock&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$70@@&lt;br&gt;
          &lt;span title=&quot;If worn while cumming, you can taze yourself for Sissy +4 and Slut +4. Can help you get off in cases where you might not be able to otherwise, you masochistic slut.&quot;&gt;
          &lt;center&gt;@@color:yellow;Special&lt;br&gt;
          (hover here)@@&lt;br&gt;&lt;/center&gt;&lt;/span&gt;
          &lt;&lt;if $collarShockOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 4 and $slutLevel gte 8 and $alphaLevel lt -5 and $hasPerkMasochist is true&gt;&gt;
              &lt;&lt;if $cash lt 70&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $collarShockOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -70&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Shock Collar&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $hasPerkMasochist isnot true&gt;&gt;
              &lt;span title=&quot;Need Perk: Masochist&quot;&gt;Need: @@color:orange;Masochist@@&lt;/span&gt;
            &lt;&lt;elseif $sissyLevel lt 4 and $slutLevel lt 8 and $alphaLevel gt -5&gt;&gt;
              @@color:magenta;S@@, @@color:red;U@@ low! @@color:cyan;A@@ high!
            &lt;&lt;elseif $slutLevel lt 8&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;elseif $sissyLevel lt 4&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $alphaLevel gt -5&gt;&gt;
              @@color:cyan;Alpha@@ too high!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Collar, Spiked */
  &lt;div id=&quot;shopCollarSpiked&quot; class=&quot;shop_item&quot; title=&quot;What a bad little bitch.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/collar_spiked_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Collar, Spiked&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$40@@&lt;br&gt;
          &lt;center&gt;@@color:red;U+3@@, @@color:cyan;A+1@@&lt;br&gt;
          ^When worn^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $collarSpikedOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 3 and $slutLevel gte 1 and $alphaLevel gte 5&gt;&gt;
              &lt;&lt;if $cash lt 40&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $collarSpikedOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -40&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Spiked Collar&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 3 and $slutLevel lt 1 and $alphaLevel lt 5&gt;&gt;
              @@color:magenta;S@@, @@color:red;U@@, @@color:cyan;A@@ too low!
            &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;elseif $sissyLevel lt 3&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $alphaLevel lt 5&gt;&gt;
              @@color:cyan;Alpha lv@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Cuffs, Leather */
  &lt;div id=&quot;shopCuffsLeather&quot; class=&quot;shop_item&quot; title=&quot;Every dungeon needs &#39;em.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/cuffs_leather_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Cuffs, Leather&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$15@@&lt;br&gt;
          &lt;span title=&quot;Can be used while masturbating or during sex scene. Bonuses depend on how they&#39;re used. Cuff hands: Sissy +2 (front) or Slut +2 (back). Cuff legs: Sissy +1, Slut +1. Cuff hands to legs: Slut +2, Alpha -2. If cuffed to something, double the bonuses.&quot;&gt;
          &lt;center&gt;@@color:yellow;Special&lt;br&gt;
          (hover here)@@&lt;/center&gt;&lt;/span&gt;
          &lt;&lt;if $cuffsLeatherOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 2 and $slutLevel gte 2&gt;&gt;
              &lt;&lt;if $cash lt 15&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $cuffsLeatherOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -15&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Leather Cuffs&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 2 and $slutLevel lt 2&gt;&gt;
              @@color:magenta;S@@ and @@color:red;U@@ too low!
            &lt;&lt;elseif $slutLevel lt 2&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;elseif $sissyLevel lt 2&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Cuffs, Metal */
  &lt;div id=&quot;shopCuffsMetal&quot; class=&quot;shop_item&quot; title=&quot;Yup, being too cute IS a crime.&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/cuffs_metal_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Cuffs, Metal&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$10@@&lt;br&gt;
          &lt;span title=&quot;Sissy +1 if hands are cuffed together. Slut +1 if cuffed to something. If Alpha lvl &gt;7, can use on Mina/Lea while topping for Alpha +1.&quot;&gt;
          &lt;center&gt;@@color:yellow;Special&lt;br&gt;
          (hover here)@@&lt;/center&gt;&lt;/span&gt;
          &lt;&lt;if $cuffsMetalOwned isnot true&gt;&gt;
            &lt;&lt;if $slutLevel gte 1&gt;&gt;
              &lt;&lt;if $cash lt 10&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $cuffsMetalOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -10&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Metal Cuffs&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $slutLevel lt 1&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Leash */
  &lt;div id=&quot;shopLeash&quot; class=&quot;shop_item&quot; title=&quot;C&#39;mon girl! *whistle*&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/leash_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Leash&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$15@@&lt;br&gt;
          &lt;center&gt;@@color:magenta;S+1@@, @@color:red;U+2@@&lt;br&gt;
          ^When worn^&lt;br&gt;&lt;/center&gt;
          &lt;&lt;if $leashOwned isnot true&gt;&gt;
            &lt;&lt;if $slutLevel gte 3 and $alphaLevel lt 0&gt;&gt;
              &lt;&lt;if $cash lt 15&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $leashOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -15&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Spiked Collar&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $slutLevel lt 3 and $alphaLevel gte 0&gt;&gt;
              &lt;span title=&quot;Slut level too low; Alpha level too high&quot;&gt;@@color:red;U low@@, @@color:cyan;A high@@!&lt;/span&gt;
            &lt;&lt;elseif $slutLevel lt 3&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;elseif $alphaLevel gt 0&gt;&gt;
              @@color:cyan;Alpha@@ too high!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Nipple Clamps */
  &lt;div id=&quot;shopNippleClamps&quot; class=&quot;shop_item&quot; title=&quot;How is THIS turning you on!?&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/nipple_clamps_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Nipple Clamps&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$10@@&lt;br&gt;
          &lt;span title=&quot;Slut +1 when worn; +2 if worn weighted.&quot;&gt;&lt;center&gt;@@color:red;U+1@@ or @@color:red;U+2@@&lt;br&gt;
          @@color:yellow;^When worn^@@&lt;br&gt;&lt;/center&gt;&lt;/span&gt;
          &lt;&lt;if $nippleClampsOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 3 and $slutLevel gte 3 and $hasPerkMasochist is true&gt;&gt;
              &lt;&lt;if $cash lt 10&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;Buy ▶▶▶&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $nippleClampsOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -10&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Spiked Collar&quot;&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 3 and $slutLevel lt 3&gt;&gt;
              @@color:magenta;S@@, @@color:red;U@@ too low!
            &lt;&lt;elseif $slutLevel lt 3&gt;&gt;
              @@color:red;Slut lvl@@ too low!
            &lt;&lt;elseif $sissyLevel lt 3&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $hasPerkMasochist isnot true&gt;&gt;
              &lt;span title=&quot;Need perk: Masochist&quot;&gt;Need: @@color:orange;Masochist@@&lt;/span&gt;
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  /* Strap-On */
  &lt;div id=&quot;shopStrapon&quot; class=&quot;shop_item&quot; title=&quot;What do you need that for?&quot;&gt;
    &lt;table class=&quot;shop_table&quot;&gt;
      &lt;tr class=&quot;perk_table&quot;&gt;
        &lt;td&gt;&lt;img class=&quot;shop_img&quot; src=&quot;images/toys/strapon_01.jpg&quot;&gt;&lt;/td&gt;
        &lt;td class=&quot;&quot;&gt;
          &#39;&#39;Strap-On&#39;&#39;&lt;br&gt;
          Price: @@color:limegreen;$30@@&lt;br&gt;
          &lt;span title=&quot;Allows topping while in chastity, but you lose 1 Alpha point.&quot;&gt;
            &lt;center&gt;@@color:magenta;S+2@@, @@color:cyan;A+1@@&lt;br&gt;
            @@color:yellow;^On Purchase^@@&lt;br&gt;&lt;/center&gt;
          &lt;/span&gt;
          &lt;&lt;if $straponOwned isnot true&gt;&gt;
            &lt;&lt;if $sissyLevel gte 3 and $alphaLevel lt 0&gt;&gt;
              &lt;&lt;if $cash lt 30&gt;&gt;
                Can&#39;t afford!
              &lt;&lt;else&gt;&gt;
                &lt;&lt;link &quot;@@color:magenta;Buy@@ @@color:cyan;▶▶▶@@&quot; &quot;Sex Shop&quot;&gt;&gt;
                  &lt;&lt;set $straponOwned to true&gt;&gt;
                  &lt;&lt;set $cash to $cash -30&gt;&gt;
                  &lt;&lt;set $itemPurchased to &quot;Strap-On&quot;&gt;&gt;
                  &lt;&lt;set $sissyScore to $sissyScore +2&gt;&gt;
                  &lt;&lt;set $alphaScore++&gt;&gt;
                &lt;&lt;/link&gt;&gt;
              &lt;&lt;/if&gt;&gt;
            &lt;&lt;elseif $sissyLevel lt 3 and $alphaLevel gte 0&gt;&gt;
              &lt;span title=&quot;Sissy level too low; Alpha level too high&quot;&gt;@@color:magenta;S low@@, @@color:cyan;A high@@!&lt;/span&gt;
            &lt;&lt;elseif $sissyLevel lt 3&gt;&gt;
              @@color:magenta;Sissy lvl@@ too low!
            &lt;&lt;elseif $alphaLevel gt 0&gt;&gt;
              @@color:cyan;Alpha@@ too high!
            &lt;&lt;/if&gt;&gt;
          &lt;&lt;else&gt;&gt;
            Owned!
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;\
\
&lt;/center&gt;\
&lt;&lt;nobr&gt;&gt;
  &lt;hr&gt;
  &lt;ul&gt;
    &lt;&lt;if $toyOwned is true&gt;&gt;
      &lt;&lt;if $episode is 2&gt;&gt;
        &lt;&lt;if $mgTrans is true&gt;&gt;
          &lt;li&gt;[[Leave the Sex Shop ▶▶▶|Hairdresser]]&lt;/li&gt;
        &lt;&lt;else&gt;&gt;
          &lt;li&gt;[[Leave the Sex Shop ▶▶▶|Cashier Flirt]]&lt;/li&gt;
        &lt;&lt;/if&gt;&gt;
      &lt;&lt;else&gt;&gt;
        /* &lt;li&gt; [[Dressing Room ▶▶▶|Dressing Room]] &lt;/li&gt; */
        &lt;li&gt;&lt;&lt;return&gt;&gt;&lt;/li&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;else&gt;&gt;
      You need to buy at least 1 valid toy - dildo, vibrator (not bullet), or beads!&lt;br&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;/ul&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;&lt;silently&gt;&gt;
  &lt;&lt;set $ep2SexShopVisited to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;\</tw-passagedata><tw-passagedata pid="111" name="StoryCaption" tags="Config" position="50,225" size="100,100">&lt;img src=&quot;images/icons/GrowF.png&quot; alt=&quot;Larger font&quot;
  title=&quot;Increase font size&quot; class=&quot;fullscreenImg&quot;
  style=&quot;top: 70px; height: 25px; width: 25px&quot; onclick=&quot;fontSize(1)&quot;&gt;\
&lt;img src=&quot;images/icons/ShrinkF.png&quot; alt=&quot;Smaller font&quot;
  title=&quot;Decrease font size&quot; class=&quot;fullscreenImg&quot;
  style=&quot;top: 100px; height: 25px; width: 25px&quot; onclick=&quot;fontSize(-1)&quot;&gt;\
&lt;hr&gt;
&#39;&#39;$episodeTitle&#39;&#39;
&#39;&#39;Episode: $episode &#39;&#39;|&#39;&#39; Day: $dayCounter&#39;&#39;
$dayOfWeek
&lt;hr&gt;
&#39;&#39;Your Status:&#39;&#39;
@@#mcStatus;$mcStatus@@
&lt;&lt;nobr&gt;&gt;
  @@#sidebarChastityDisplay;
    &lt;&lt;sidebarStatusIcons&gt;&gt;&lt;br&gt;
  @@

  &lt;&lt;if not [&quot;Perks&quot;, &quot;Inspect Self&quot;, &quot;Support&quot;, &quot;Debug Menu&quot;, &quot;Game Settings&quot;, &quot;Help&quot;].contains(passage())&gt;&gt;
    [[Inspect Self]]
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;

&#39;&#39;Cash:&#39;&#39; &lt;span style=&quot;color: limegreen&quot;&gt;$@@#cash;$cash@@&lt;/span&gt;
&lt;hr&gt;
&#39;&#39;Relationship Status:&#39;&#39;
&lt;&lt;nobr&gt;&gt;
  &lt;&lt;if $mgTrans is true or $mgTrans is false&gt;&gt;
    &lt;table width=&quot;100%&quot;&gt;
      &lt;tr @title=&quot;$mgStatusSpan&quot;&gt;
        &lt;td align=&quot;left&quot; width=&quot;38%&quot;&gt;@@color:deepskyblue;$mgName@@:&lt;/td&gt;
        &lt;td align=&quot;center&quot;&gt;@@#mgStatus;$mgStatus@@&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr @title=&quot;$mgStatusSpan&quot;&gt;
        &lt;td align=&quot;left&quot; &gt;@@color:deepskyblue;$mgName@@ 💕:&lt;/td&gt;
        &lt;td align=&quot;center&quot;&gt;
          &lt;&lt;if $mgAffection gt 0&gt;&gt;
            &lt;&lt;for _i to 0; _i lt $mgAffection; _i++&gt;&gt;
              💙
            &lt;&lt;/for&gt;&gt;
          &lt;&lt;elseif $mgAffection lt 0&gt;&gt;
            &lt;&lt;for _i to 0; _i gt $mgAffection; _i--&gt;&gt;
              💔
            &lt;&lt;/for&gt;&gt;
          &lt;&lt;else&gt;&gt;
            -
          &lt;&lt;/if&gt;&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;&lt;else&gt;&gt;
    None
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;\
&lt;hr&gt;
&lt;table width=&quot;100%&quot;&gt;
  &lt;tr&gt;
    &lt;th align=&quot;left&quot;&gt;Skill&lt;/th&gt;
    &lt;th align=&quot;center&quot; width=&quot;14%&quot; title=&quot;Score/Value&quot;&gt;Val&lt;/th&gt;
    &lt;th align=&quot;center&quot; width=&quot;14%&quot; title=&quot;Level&quot;&gt;Lvl&lt;/th&gt;
    &lt;th align=&quot;center&quot; title=&quot;Description&quot;&gt;Desc&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td align=&quot;left&quot; style=&quot;color: cyan&quot;&gt;Alpha:&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#alphaScore;$alphaScore@@&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#alphaLevel;$alphaLevel@@&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr title=&quot;Outward sissy nature and appearance&quot;&gt;
    &lt;td align=&quot;left&quot; style=&quot;color: magenta&quot;&gt;Sissy:&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#sissyScore;$sissyScore@@&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#sissyLevel;$sissyLevel@@&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#sissyDesc;$sissyDesc@@&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td align=&quot;center&quot; colspan=&quot;4&quot; title=&quot;Sissy level up progress&quot;&gt;\
      @@#sissyBar;&lt;&lt;sissyBar&gt;&gt;@@\
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr title=&quot;How big of a slut you are&quot;&gt;
    &lt;td align=&quot;left&quot; style=&quot;color: red&quot;&gt;Slut:&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#slutScore;$slutScore@@&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#slutLevel;$slutLevel@@&lt;/td&gt;
    &lt;td align=&quot;center&quot;&gt;@@#slutDesc;$slutDesc@@&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt; /* Replace with Health bar (see example code) */
    &lt;td align=&quot;center&quot; colspan=&quot;4&quot; title=&quot;Slut level up progress&quot;&gt;\
      @@#slutBar;&lt;&lt;slutBar&gt;&gt;@@\
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td align=&quot;left&quot;&gt;Perks:&lt;/td&gt;
    &lt;td align=&quot;left&quot; colspan=&quot;3&quot; style=&quot;font-size: 25px&quot;&gt;\
      &lt;&lt;nobr&gt;&gt;
        /* START Perk Icons Display */
        &lt;&lt;if $hasPerkBabyDaddy&gt;&gt;
          &lt;span title=&quot;Baby Daddy&quot;&gt; 👶 &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $hasPerkCheatingWhore&gt;&gt;
          &lt;span title=&quot;Cheating Whore&quot;&gt; ❤️‍🩹 &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $hasPerkCumdrinker&gt;&gt;
          &lt;span title=&quot;Cumdrinker&quot;&gt; 🥛 &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $hasPerkMasochist&gt;&gt;
          &lt;span title=&quot;Masochist&quot;&gt; 🔗 &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $hasPerkPregnant&gt;&gt;
          &lt;span title=&quot;Pregnant&quot;&gt; 🤰 &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $hasPerkSissygasm&gt;&gt;
          &lt;span title=&quot;Sissygasm&quot; style=&quot;color: transparent; text-shadow: 0 0 0 white&quot;&gt; 💦 &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        &lt;&lt;if $hasPerkTomboy&gt;&gt;
          &lt;span title=&quot;Tomboy&quot;&gt; 🧑🏻 &lt;/span&gt;
        &lt;&lt;/if&gt;&gt;
        /* END Perk Icons Display */
      &lt;&lt;/nobr&gt;&gt;\
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;&lt;nobr&gt;&gt;
  &lt;&lt;if not [&quot;Perks&quot;, &quot;Inspect Self&quot;, &quot;Support&quot;, &quot;Debug Menu&quot;, &quot;Game Settings&quot;, &quot;Help&quot;].contains(passage())&gt;&gt;
    [[Perks List|Perks]]
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
&lt;hr&gt;</tw-passagedata><tw-passagedata pid="112" name="StoryAuthor" tags="AllPages" position="50,975" size="100,100">\</tw-passagedata><tw-passagedata pid="113" name="StoryBanner" tags="AllPages" position="50,850" size="100,100">\</tw-passagedata><tw-passagedata pid="114" name="StoryDisplayTitle" tags="AllPages" position="175,850" size="100,100">The Road TWX</tw-passagedata><tw-passagedata pid="115" name="StoryMenu" tags="Config" position="50,475" size="100,100">[[Help|Help]]
 [[Settings|Game Settings]] 
[[Debug Menu]]</tw-passagedata><tw-passagedata pid="116" name="StorySubtitle" tags="AllPages" position="175,975" size="100,100">v0.3.2
&lt;&lt;nobr&gt;&gt;
  &lt;&lt;if not [&quot;Perks&quot;, &quot;Inspect Self&quot;, &quot;Support&quot;, &quot;Debug Menu&quot;, &quot;Game Settings&quot;].contains(passage())&gt;&gt;
    [[Support the Author|Support]]
  &lt;&lt;else&gt;&gt;
    &lt;br&gt;
  &lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;\</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";var _excluded=["bubbles","cancelable","composed","detail"],_excluded2=["bubbles","cancelable"],_excluded3=["state"];function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.preventExtensions(Object.create(null,{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),url="(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+",externalUrl=url.replace(/\|javascript|\|data/g,""),Object.freeze(Object.assign(Object.create(null),{space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:url,externalUrl:externalUrl}))),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss,url,externalUrl;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}if(Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;if(depth<1)return Array.prototype.slice.call(this);var push=Array.prototype.push;return Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?push.apply(acc,flat.call(cur,depth-1)):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),!Object.hasOwn){var _hasOwnProperty=Object.prototype.hasOwnProperty;Object.defineProperty(Object,"hasOwn",{configurable:!0,writable:!0,value:function(O,P){return _hasOwnProperty.call(Object(O),P)}})}Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp,_nativeMathRandom=Math.random;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"deleteAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAll called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=Array.from(new Set(Array.from(arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=Array.from(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteFirst called on null or undefined");if(0!==arguments.length){var length=this.length>>>0;if(0!==length){for(var splice=Array.prototype.splice,needles=Array.prototype.concat.apply([],arguments),result=[],i=0;i<length&&needles.length>0;++i)for(var value=this[i],j=0;j<needles.length;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){result.push(value),splice.call(this,i--,1),needles.splice(j--,1);break}}return result}}}}),Object.defineProperty(Array.prototype,"deleteLast",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteLast called on null or undefined");if(0!==arguments.length){var length=this.length>>>0;if(0!==length){for(var splice=Array.prototype.splice,needles=Array.prototype.concat.apply([],arguments),result=[],i=length-1;i>=0&&needles.length>0;--i)for(var value=this[i],j=0;j<needles.length;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){result.push(value),splice.call(this,i++,1),needles.splice(j--,1);break}}return result}}}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.from(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length)return this[0===arguments.length?_random(0,length-1):_randomIndex(length,Array.from(arguments))]}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"toShuffled",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.toShuffled called on null or undefined");return Array.from(this).shuffle()}}),Object.defineProperty(Array.prototype,"toUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.toUnique called on null or undefined");return Array.from(new Set(this))}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){if(3!==arguments.length)throw new Error("Math.clamp called with an incorrect number of parameters (want: 3, received: ".concat(arguments.length,")"));var value=Number(num),minVal=Number(min),maxVal=Number(max);if(minVal>maxVal){var _ref2=[maxVal,minVal];minVal=_ref2[0],maxVal=_ref2[1]}return Math.min(Math.max(value,minVal),maxVal)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?Array.from(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return function(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(console.warn("[DEPRECATED] <Array>.delete() is deprecated."),null==this)throw new TypeError("Array.prototype.delete called on null or undefined");return Array.prototype.deleteAll.apply(this,arguments)}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if(console.warn("[DEPRECATED] JSON.reviveWrapper() is deprecated."),"string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return Serial.createReviver(code,data)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return console.warn("[DEPRECATED] Math.easeInOut() is deprecated."),1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(console.warn("[DEPRECATED] <Number>.clamp() is deprecated."),null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters (want: 2, received: ".concat(arguments.length,")"));return Math.clamp(this,arguments[0],arguments[1])}})}(),function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),triggerEvent("click",getActiveElement()||this))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function disableTabindex(el){if(!el.hasAttribute("data-last-tabindex")){var tabindex=el.getAttribute("tabindex");el.setAttribute("data-last-tabindex",null!==tabindex?tabindex.trim():"")}el.setAttribute("tabindex",-1)}function restoreTabindex(el){var lastTabindex=el.getAttribute("data-last-tabindex");null!==lastTabindex&&(el.removeAttribute("data-last-tabindex"),""===lastTabindex?el.removeAttribute("tabindex"):el.setAttribute("tabindex",lastTabindex))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,tabindex:0,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",opts.tabindex),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?function(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled","disabled"),this.setAttribute("aria-disabled","true"),disableTabindex(this)})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true"),disableTabindex(this)}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled"),restoreTabindex(this)})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled"),restoreTabindex(this)}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.fn.extend({getForbiddenInteractiveContentTagNames:function(){if(0===this.length)return[];var forbidden=new Set;return this.find("a,button,fieldset,form,input,menuitem,optgroup,option,select,textarea").each((function(_,el){return forbidden.add(el.nodeName.toLowerCase())})),Array.from(forbidden)}}),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=Array.from(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))},wikiPassage:function(name){this.wikiWithOptions(undefined,Story.get(name).processText())}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))},wikiPassage:function(name){return this.wikiWithOptions(undefined,Story.get(name).processText())}});var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze(Object.assign(Object.create(null),{userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi}))),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=Array.from(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze(Object.assign(Object.create(null),{audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent}))),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){var $element=jQuery(element);$element.off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){$element.off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){var $document=jQuery(document);$document.off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){$document.off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.preventExtensions(Object.create(null,{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);jQuery(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?jQuery(element).off(vendor.changeEvent,handlerFn):jQuery(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);jQuery(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?jQuery(element).off(vendor.errorEvent,handlerFn):jQuery(element).off(vendor.errorEvent)}}}}))}(),Outliner=function(){var lastEvent,styleEl=null;function outlinerHide(){document.documentElement.removeAttribute("data-outlines"),styleEl.styleSheet?styleEl.styleSheet.cssText="*:focus{outline:none;}":styleEl.textContent="*:focus{outline:none;}"}function outlinerShow(){document.documentElement.setAttribute("data-outlines",""),styleEl.styleSheet?styleEl.styleSheet.cssText="":styleEl.textContent=""}return Object.preventExtensions(Object.create(null,{init:{value:function(){styleEl||(styleEl=document.createElement("style"),jQuery(styleEl).attr({id:"style-outliner",type:"text/css"}).appendTo(document.head),jQuery(document).on("mousedown.style-outliner keydown.style-outliner",(function(ev){ev.type!==lastEvent&&(lastEvent=ev.type,"keydown"===ev.type?outlinerShow():outlinerHide())})),lastEvent="mousedown",outlinerHide())}},hide:{value:outlinerHide},show:{value:outlinerShow}}))}(),Serial=function(){var supportedTypes=Object.freeze([{id:"Date",get reference(){return Date.prototype},method:function(){return["(revive:date)",this.toISOString()]}},{id:"Function",get reference(){return Function.prototype},method:function(){return["(revive:)",["(".concat(this.toString(),")")]]}},{id:"Map",get reference(){return Map.prototype},method:function(){return["(revive:map)",Array.from(this)]}},{id:"RegExp",get reference(){return RegExp.prototype},method:function(){return["(revive:)",[this.toString()]]}},{id:"Set",get reference(){return Set.prototype},method:function(){return["(revive:set)",Array.from(this)]}}]);function createReviver(code,data){if("string"!=typeof code)throw new TypeError("Serial.createReviver code parameter must be a string");return["(revive:)",[code,data]]}function parse(text,reviver){return JSON.parse(text,(function(key,val){var value=val;if(value instanceof Array&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":case"(revive:)":try{var $ReviveData$=value[1][1];value=eval(value[1][0])}catch(ex){}}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}function stringify(value,replacer,space){var origMethodCache=new Map;supportedTypes.forEach((function(_ref3){var id=_ref3.id,reference=_ref3.reference,method=_ref3.method;Object.hasOwn(reference,"toJSON")&&origMethodCache.set(id,reference.toJSON),Object.defineProperty(reference,"toJSON",{configurable:!0,writable:!0,value:method})}));var notation=JSON.stringify(value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}switch(value){case undefined:value=["(revive:)",["undefined"]];break;case 1/0:value=["(revive:)",["Infinity"]]}return value}),space);return supportedTypes.forEach((function(_ref4){var id=_ref4.id,reference=_ref4.reference;origMethodCache.has(id)?(Object.defineProperty(reference,"toJSON",{configurable:!0,writable:!0,value:origMethodCache.get(id)}),origMethodCache.delete(id)):delete reference.toJSON})),notation}return Object.preventExtensions(Object.create(null,{createReviver:{value:createReviver},parse:{value:parse},stringify:{value:stringify}}))}(),Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.preventExtensions(Object.create(null,{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor;function appendError(output,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorViewTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorViewLabelToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(output),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}var throwError=appendError;function charAndPosAt(string,position){var str=String(string),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}function clone(O){if("object"!==_typeof(O)||null===O)return O;if("function"==typeof O.clone)return O.clone(!0);var copy;if(O instanceof Array)copy=new Array(O.length);else if(O instanceof Date)copy=new Date(O.getTime());else if(O instanceof Map)copy=new Map,O.forEach((function(val,key){return copy.set(clone(key),clone(val))}));else if(O instanceof RegExp)copy=new RegExp(O);else if(O instanceof Set)copy=new Set,O.forEach((function(val){return copy.add(clone(val))}));else{var type=getTypeOf(O);if("Object"!==type)throw new TypeError("attempted to clone unsupported type: ".concat(type));copy=Object.create(Object.getPrototypeOf(O))}return Object.keys(O).forEach((function(P){return copy[P]=clone(O[P])})),copy}var convertBreaks=function(){var isNotSpaceRE=new RegExp(Patterns.notSpace);function isParagraphEmpty(para){if(!para.hasChildNodes())return!0;for(var nodes=para.childNodes,length=nodes.length,i=0;i<length;++i){var node=nodes[i];switch(node.nodeType){case Node.TEXT_NODE:if(isNotSpaceRE.test(node.nodeValue))return!1;break;case Node.COMMENT_NODE:break;default:return!1}}return!0}return function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),isParagraphEmpty(para)||output.appendChild(para),para=document.createElement("p");continue}if(isParagraphEmpty(para)){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":isParagraphEmpty(para)||(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}isParagraphEmpty(para)||output.appendChild(para),source.appendChild(output)}}(),createFilename=(illegalCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g,function(str){return String(str).trim().replace(illegalCharsRE,"")}),illegalCharsRE,createSlug=function(){var illegalCharsRE=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,isInvalidSlugRE=/^-*$/,storySigilRE=/^\$/,tempSigilRE=/^_/;return function(str){var base=String(str).trim(),legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return isInvalidSlugRE.test(legacy)?base.replace(storySigilRE,"").replace(tempSigilRE,"-").replace(illegalCharsRE,""):legacy}}();function cssPropToDOMProp(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}var cssTimeToMS=(cssTimeRE=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/,function(cssTime){var match=cssTimeRE.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}),cssTimeRE,decodeEntities=(escapedHtmlRE=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,hasEscapedHtmlRE=new RegExp(escapedHtmlRE.source,"i"),escapedHtmlTable=enumFrom({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"}),function(str){if(null==str)return"";var val=String(str);return val&&hasEscapedHtmlRE.test(val)?val.replace(escapedHtmlRE,(function(entity){return escapedHtmlTable[entity.toLowerCase()]})):val}),escapedHtmlRE,hasEscapedHtmlRE,escapedHtmlTable,encodeEntities=(htmlCharsRE=/[&<>"'`]/g,hasHtmlCharsRE=new RegExp(htmlCharsRE.source),htmlCharsTable=enumFrom({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),function(str){if(null==str)return"";var val=String(str);return val&&hasHtmlCharsRE.test(val)?val.replace(htmlCharsRE,(function(ch){return htmlCharsTable[ch]})):val}),htmlCharsRE,hasHtmlCharsRE,htmlCharsTable,encodeMarkup=(markupCharsRE=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,hasMarkupCharsRE=new RegExp(markupCharsRE.source),markupCharsTable=enumFrom({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"}),function(str){if(null==str)return"";var val=String(str);return val&&hasMarkupCharsRE.test(val)?val.replace(markupCharsRE,(function(ch){return markupCharsTable[ch]})):val}),markupCharsRE,hasMarkupCharsRE,markupCharsTable,enquote=(unescapedDQuoteRE=/(^|[^\\])(")/g,unescapedSQuoteRE=/(^|[^\\])(')/g,function(string){for(var dqCount=0,sqCount=0,i=0;i<string.length;++i)switch(string[i]){case"\\":++i;break;case'"':++dqCount;break;case"'":++sqCount}if(0===dqCount)return'"'.concat(string,'"');if(0===sqCount)return"'".concat(string,"'");var quote=dqCount<=sqCount?'"':"'";return"".concat(quote).concat(string.replace('"'===quote?unescapedDQuoteRE:unescapedSQuoteRE,"$1\\$2")).concat(quote)}),unescapedDQuoteRE,unescapedSQuoteRE;function enumFrom(O){var pEnum=Object.create(null);if(O instanceof Array)O.forEach((function(val,i){return pEnum[String(val)]=i}));else if(O instanceof Set)Array.from(O).forEach((function(val,i){return pEnum[String(val)]=i}));else if(O instanceof Map)O.forEach((function(val,key){return pEnum[String(key)]=val}));else{if(null===O||"object"!==_typeof(O)||Object.getPrototypeOf(O)!==Object.prototype)throw new TypeError("enumFrom object parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,O)}return Object.freeze(Object.defineProperties(pEnum,{nameFrom:{value:function(needle){var entry=Object.entries(this).find((function(entry){return entry[1]===needle}));return entry?entry[0]:undefined}}}))}var exceptionFrom=(extraProps=Object.freeze(["code","data","result","stack","columnNumber","fileName","lineNumber","description","number"]),function(original,exceptionType,override){if(null===original||"object"!==_typeof(original))throw new Error("exceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("exceptionFrom exceptionType parameter must be an error type constructor");var overrideType=_typeof(override);if("undefined"!==overrideType&&"string"!==overrideType&&"object"!==overrideType)throw new Error("exceptionFrom override parameter must be an object or string");var propValues=new Map;extraProps.forEach((function(name){void 0!==original[name]&&propValues.set(name,original[name])})),"string"===overrideType?propValues.set("message",override):"object"===overrideType&&null!==override&&Object.getOwnPropertyNames(override).forEach((function(name){void 0!==override[name]&&propValues.set(name,override[name])}));var ex=new exceptionType(propValues.get("message"));return propValues.delete("message"),propValues.forEach((function(value,name){void 0===ex[name]?Object.defineProperty(ex,name,{value:value,configurable:!0,writable:!0}):ex[name]=value})),ex}),extraProps;function getActiveElement(){try{return document.activeElement||null}catch(ex){return null}}function getErrorMessage(O){return null==O?"unknown error":"object"===_typeof(O)&&"message"in O?O.message:String(O)}var getToStringTag=(toString=Object.prototype.toString,slice=String.prototype.slice,"[object Object]"===toString.call(new Map)?function(O){return O instanceof Map?"Map":O instanceof Set?"Set":slice.call(toString.call(O),8,-1)}:function(O){return slice.call(toString.call(O),8,-1)}),toString,slice,getTypeOf=function(){var toString=Object.prototype.toString,slice=String.prototype.slice;return function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?slice.call(toString.call(O),8,-1):baseType}}(),hasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches},isExternalLink=(externalUrlRE=new RegExp("^".concat(Patterns.externalUrl),"gim"),fingerprintRE=/[/\\?]/,function(link){return!Story.has(link)&&(externalUrlRE.test(link)||fingerprintRE.test(link))}),externalUrlRE,fingerprintRE;function msToCSSTime(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=getTypeOf(msec)}throw new TypeError("invalid milliseconds value: ".concat(what))}return"".concat(msec,"ms")}var now=(clock=Has.performance?performance:Date,function(){return clock.now()}),clock,onUserActivation=(uaEvents=Object.freeze(["keydown","mousedown","pointerdown","pointerup","touchend"]),function(namespace,callback){jQuery(document).off(namespace).on(uaEvents.map((function(name){return"".concat(name).concat(namespace)})).join(" "),(function(ev){callback(ev).then((function(){return jQuery(document).off(namespace)}),(function(ex){if("NotAllowedError"!==ex.name)throw jQuery(document).off(namespace),ex}))}))}),uaEvents;function parseURL(url){var parser=document.createElement("a"),searchParams=Object.create(null);parser.href=url,parser.search&&parser.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];Object.hasOwn(searchParams,key)?searchParams[key].push(value):searchParams[key]=[value]}));var pathname=parser.host&&"/"!==parser.pathname[0]?"/".concat(parser.pathname):parser.pathname;return Object.freeze(Object.assign(Object.create(null),{href:parser.href,protocol:parser.protocol,host:parser.host,hostname:parser.hostname,port:parser.port,path:"".concat(pathname).concat(parser.search),pathname:pathname,search:parser.search,searchParams:Object.freeze(searchParams),hash:parser.hash}))}function sameValueZero(a,b){return a===b||a!=a&&b!=b}var scrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)\d$/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),setDisplayTitle=function(title,isPlainText){if("string"!=typeof title)throw new TypeError("title parameter must be a string (received: ".concat(getTypeOf(title),")"));var render,text;isPlainText?text=render=title.trim():(render=document.createDocumentFragment(),new Wikifier(render,title,{noCleanup:!0}),text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim()),document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text,jQuery("#story-title").empty().append(render)};function setPageElement(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=titles instanceof Array?titles:[titles];jQuery(el).empty();for(var i=0;i<ids.length;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],val=_ref6[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}if(value instanceof Node)return value.textContent;break;case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}var triggerEvent=(createEvent=function(){try{return new CustomEvent("click",{bubbles:!0}),function(name,options){for(var _Object$assign=Object.assign({bubbles:!0,cancelable:!0,composed:!1},options),bubbles=_Object$assign.bubbles,cancelable=_Object$assign.cancelable,composed=_Object$assign.composed,detail=_Object$assign.detail,custom=_objectWithoutProperties(_Object$assign,_excluded),event=new CustomEvent(name,{bubbles:bubbles,cancelable:cancelable,composed:composed,detail:detail}),i=0,keys=Object.keys(custom);i<keys.length;++i){var key=keys[i];void 0!==custom[key]&&(event[key]=options[key])}return event}}catch(ex){return function(name,options){for(var _Object$assign2=Object.assign({bubbles:!0,cancelable:!0},options),bubbles=_Object$assign2.bubbles,cancelable=_Object$assign2.cancelable,custom=_objectWithoutProperties(_Object$assign2,_excluded2),event=document.createEvent("Event"),i=0,keys=Object.keys(custom);i<keys.length;++i){var key=keys[i];void 0!==custom[key]&&(event[key]=options[key])}return event.initEvent(name,bubbles,cancelable),event}}}(),function(name,targets,options){var event=createEvent(name,options),elems=[];if(targets)if(targets instanceof jQuery||targets instanceof NodeList||targets instanceof Array)for(var i=0;i<targets.length;++i)elems.push(targets[i]);else elems.push(targets);else elems.push(document);for(var _i5=0;_i5<elems.length;++_i5)elems[_i5].dispatchEvent(event)}),createEvent,SimpleStore=(_adapters=[],_initialized=null,Object.preventExtensions(Object.create(null,{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("No valid storage adapters found")}}}))),_adapters,_initialized,_MAX_EXPIRY,_MIN_EXPIRY,_ok,CookieAdapter;SimpleStore.adapters.push(function(){var _ok=!1,WebStorageAdapter=function(){function WebStorageAdapter(storageId,persistent){_classCallCheck(this,WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:Boolean(persistent)}})}return _createClass(WebStorageAdapter,[{key:"size",get:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&Object.hasOwn(this._engine,this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,WebStorageAdapter._serialize(value))}catch(ex){if(isQuotaDOMException(ex))throw exceptionFrom(ex,Error,{cause:{origin:ex},message:"".concat(this.name," quota exceeded")});throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key)&&(this._engine.removeItem(this._prefix+key),!0)}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,length=keys.length;i<length;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(Serial.stringify(obj))}},{key:"_deserialize",value:function(str){return Serial.parse(LZString.decompressFromUTF16(str))}}])}();var isQuotaErrorRE=/quota.?(?:exceeded|reached)/i;function isQuotaDOMException(ex){return ex instanceof DOMException&&(22===ex.code||1014===ex.code||isQuotaErrorRE.test(ex.name)||isQuotaErrorRE.test(ex.message))}return Object.preventExtensions(Object.create(null,{init:{value:function(){function hasWebStorage(storeId){var store;try{store=window[storeId];var val="_sc_".concat(String(Date.now()));store.setItem(val,val);var result=store.getItem(val)===val;return store.removeItem(val),result}catch(ex){return store&&0!==store.length&&isQuotaDOMException(ex)}}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new WebStorageAdapter(storageId,persistent)}}}))}()),SimpleStore.adapters.push((_MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,CookieAdapter=function(){function CookieAdapter(storageId,persistent){_classCallCheck(this,CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:Boolean(persistent)}})}return _createClass(CookieAdapter,[{key:"size",get:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);this._prefixRe.test(key)&&""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=CookieAdapter._getCookie(this._prefix+key);return null===value?null:CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(CookieAdapter._setCookie(this._prefix+key,CookieAdapter._serialize(value),this.persistent?_MAX_EXPIRY:undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw exceptionFrom(ex,Error,{cause:{origin:ex},message:"cookie error: ".concat(ex.message)})}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw exceptionFrom(ex,Error,{cause:{origin:ex},message:"cookie error: ".concat(ex.message)})}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,length=keys.length;i<length;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(Serial.stringify(obj))}},{key:"_deserialize",value:function(str){return Serial.parse(LZString.decompressFromBase64(str))}}])}(),Object.preventExtensions(Object.create(null,{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));CookieAdapter._setCookie(tid,CookieAdapter._serialize(tid),undefined),_ok=CookieAdapter._deserialize(CookieAdapter._getCookie(tid))===tid,CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""!==document.cookie)for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),_loop=function(){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);if(""!==value){var persist=!sessionTestRe.test(key);CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}}},i=0;i<cookies.length;++i)_loop()}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new CookieAdapter(storageId,persistent)}}}))));var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),triggerEvent(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),triggerEvent(":debugviewupdate")}},{key:"toggle",value:function(){DebugView.isEnabled()?DebugView.disable():DebugView.enable()}}])}(),NodeTyper=function(){return _createClass((function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(getTypeOf(config),")"));if(!(Object.hasOwn(config,"targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}),[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _charAndPosAt=charAndPosAt(this.nodeValue,0),char=_charAndPosAt.char,start=_charAndPosAt.start,end=_charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}])}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){return _createClass((function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}),[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(Object.hasOwn(markup,"error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}])}()),_imageMarkupRe,_hasImageMarkupRe,Diff=function(){var Op=enumFrom({Delete:0,SpliceArray:1,Copy:2,CopyDate:3});function isNumeric(O){var num;switch(_typeof(O)){case"number":num=O;break;case"string":num=Number(O);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}return Object.preventExtensions(Object.create(null,{Op:{value:Op},diff:{value:function diff(a,b){for(var aOpKey,toString=Object.prototype.toString,aIsArray=a instanceof Array,delta=Object.create(null),keys=[].concat(_toConsumableArray(Object.keys(a)),_toConsumableArray(Object.keys(b))).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),isAOpKey=function(key){return key===aOpKey},i=0,klen=keys.length;i<klen;++i){var key=keys[i],aVal=a[key],bVal=b[key];if(Object.hasOwn(a,key))if(Object.hasOwn(b,key)){if(aVal===bVal)continue;if(_typeof(aVal)===_typeof(bVal))if("function"==typeof aVal)aVal.toString()!==bVal.toString()&&(delta[key]=[Op.Copy,bVal]);else if("object"!==_typeof(aVal)||null===aVal)delta[key]=[Op.Copy,bVal];else{var aValType=toString.call(aVal);if(aValType===toString.call(bVal))if(aVal instanceof Date)aVal.getTime()!==bVal.getTime()&&(delta[key]=[Op.Copy,clone(bVal)]);else if(aVal instanceof Map)delta[key]=[Op.Copy,clone(bVal)];else if(aVal instanceof RegExp)aVal.toString()!==bVal.toString()&&(delta[key]=[Op.Copy,clone(bVal)]);else if(aVal instanceof Set)delta[key]=[Op.Copy,clone(bVal)];else if(aVal instanceof Array||"[object Object]"===aValType){var subDelta=diff(aVal,bVal);null!==subDelta&&(delta[key]=subDelta)}else delta[key]=[Op.Copy,clone(bVal)];else delta[key]=[Op.Copy,clone(bVal)]}else delta[key]=[Op.Copy,"object"!==_typeof(bVal)||null===bVal?bVal:clone(bVal)]}else if(aIsArray&&isNumeric(key)){var index=Number(key);if(!aOpKey){aOpKey="";do{aOpKey+="~"}while(keys.some(isAOpKey));delta[aOpKey]=[Op.SpliceArray,index,index]}index<delta[aOpKey][1]&&(delta[aOpKey][1]=index),index>delta[aOpKey][2]&&(delta[aOpKey][2]=index)}else delta[key]=Op.Delete;else delta[key]=[Op.Copy,"object"!==_typeof(bVal)||null===bVal?bVal:clone(bVal)]}return Object.keys(delta).length>0?delta:null}},patch:{value:function patch(orig,delta){for(var keys=delta?Object.keys(delta):[],patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],value=delta[key];if(value===Op.Delete)delete patched[key];else if(value instanceof Array)switch(value[0]){case Op.SpliceArray:patched.splice(value[1],value[2]-value[1]+1);break;case Op.Copy:patched[key]=clone(value[1]);break;case Op.CopyDate:patched[key]=new Date(value[1])}else patched[key]=patch(patched[key],value)}return patched}}}))}(),L10n=(replaceRE=/\{\w+\}/g,hasReplaceRE=new RegExp(replaceRE.source),Object.preventExtensions(Object.create(null,{init:{value:function(){}},get:{value:function(ids,overrides){if(!ids)return"";var id=(Array.isArray(ids)?ids:[ids]).find((function(id){return Object.hasOwn(l10nStrings,id)}));if(!id)return"";for(var value=l10nStrings[id],i=0;hasReplaceRE.test(value);){if(++i>50)throw new Error("L10n.get exceeded maximum replacement depth, probable infinite loop");replaceRE.lastIndex=0,value=value.replace(replaceRE,(function(replacement){var rid=replacement.slice(1,-1);return overrides&&Object.hasOwn(overrides,rid)?overrides[rid]:Object.hasOwn(l10nStrings,rid)?l10nStrings[rid]:void 0}))}return value}}}))),replaceRE,hasReplaceRE,l10nStrings={textAbort:"Abort",textAborting:"Aborting",textCancel:"Cancel",textClear:"Clear",textClose:"Close",textDelete:"Delete",textExport:"Export",textIdentity:"game",textImport:"Import",textLoad:"Load",textOff:"Off",textOk:"OK",textOn:"On",textSave:"Save",textTurn:"Turn",errorNonexistentPassage:'the passage "{passage}" does not exist',warningNoStorage:"All usable storage APIs are missing. Possible causes are a disabled third-party cookie setting, which also affects Web Storage, or a private browsing mode.",warningNoWebStorage:"The Web Storage API is missing, so this {textIdentity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningDegraded:"Some capabilities required to support this {textIdentity} are missing, so it is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoSaves:"Some capabilities required to support saves are missing, so saves have been disabled for this session.",saveErrorDisallowed:"Saving is currently disallowed.",saveErrorDecodeFail:"unable to decode save, likely due to corruption",saveErrorDiskLoadFail:"failed to load save file from disk",saveErrorIdMismatch:"save is from the wrong {textIdentity}",saveErrorInvalidData:"save is missing required data, likely due to corruption",saveErrorLoadTooEarly:"cannot load save this early",saveErrorNonexistent:"save does not exist",uiBarLabelToggle:"Toggle the UI bar",uiBarLabelBackward:"Go backward within the {textIdentity} history",uiBarLabelForward:"Go forward within the {textIdentity} history",uiBarLabelJumpto:"Jump to a specific point within the {textIdentity} history",alertTitle:"Alert",restartTitle:"Restart",restartMesgPrompt:"All unsaved progress will be lost. Are you sure that you want to restart?",continueTitle:"Continue",savesTitle:"Saves",savesHeaderBrowser:"In Browser",savesHeaderDisk:"On Disk",savesLabelBrowserClear:"Clear all browser saves",savesLabelBrowserExport:"Export browser saves to bundle",savesLabelBrowserImport:"Import browser saves from bundle",savesLabelDiskLoad:"Load from disk",savesLabelDiskSave:"Save to disk",savesTextBrowserAuto:"Auto",savesTextBrowserSlot:"Slot",savesTextNoDate:"unknown date",settingsTitle:"Settings",settingsTextReset:"Reset to Defaults",errorViewTitle:"Error",errorViewLabelToggle:"Toggle the error view",debugBarLabelToggle:"Toggle the debug bar",debugBarLabelViewsToggle:"Toggle the debug views",debugBarLabelWatchAdd:"Add a new watch",debugBarLabelWatchAll:"Watch all",debugBarLabelWatchClear:"Clear all watches",debugBarLabelWatchDelete:"Delete this watch",debugBarLabelWatchPlaceholder:"variable name",debugBarLabelPassagePlaceholder:"passage name",debugBarLabelPassagePlay:"Play passage",debugBarLabelWatchToggle:"Toggle the watch panel",debugBarMesgNoWatches:"No watches set",debugBarTextAdd:"Add",debugBarTextPassage:"Passage",debugBarTextViews:"Views",debugBarTextWatch:"Watch",macroBackText:"Back",macroReturnText:"Return",autoloadTitle:"Autoload",autoloadMesgPrompt:"An autosave exists. Load it now or go to the start?",autoloadTextCancel:"Go to start",autoloadTextOk:"Load autosave",jumptoTitle:"Jump To",jumptoMesgUnavailable:"No jump points currently available…",shareTitle:"Share"},Config=(_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_debug=!1,_enableOptionalDebugging=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesMaxAuto=0,_savesMaxSlot=8,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,errPassagesDescriptionsDeprecated="[DEPRECATED] Config.passages.descriptions has been deprecated, see Config.saves.descriptions instead",errSavesAutoloadDeprecated="[DEPRECATED] Config.saves.autoload has been deprecated, see the Save.browser.continue API instead",_baseSavesAutosaveDeprecated="[DEPRECATED] Config.saves.autosave has been deprecated",errSavesOnLoadDeprecated="[DEPRECATED] Config.saves.onLoad has been deprecated, see the Save.onLoad API instead",errSavesOnSaveDeprecated="[DEPRECATED] Config.saves.onSave has been deprecated, see the Save.onSave API instead",errSavesSlotsDeprecated="[DEPRECATED] Config.saves.slots has been deprecated, see Config.saves.maxSlotSaves instead",Object.freeze({get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get debug(){return _debug},set debug(value){_debug=Boolean(value)},get enableOptionalDebugging(){return _enableOptionalDebugging},set enableOptionalDebugging(value){_enableOptionalDebugging=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)}}),macros:Object.freeze({get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)},get ifAssignmentError(){throw new Error("[DEPRECATED] Config.macros.ifAssignmentError has been deprecated, see Config.enableOptionalDebugging instead")},set ifAssignmentError(value){console.warn("[DEPRECATED] Config.macros.ifAssignmentError has been deprecated, see Config.enableOptionalDebugging instead"),Config.enableOptionalDebugging=value}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(getTypeOf(value),")"));_navigationOverride=value}}),passages:Object.freeze({get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=getTypeOf(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=getTypeOf(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=getTypeOf(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value},get descriptions(){throw new Error(errPassagesDescriptionsDeprecated)},set descriptions(value){switch(console.warn(errPassagesDescriptionsDeprecated),_typeof(value)){case"boolean":value&&!Config.saves.descriptions&&(Config.saves.descriptions=function(){return State.passage});break;case"function":Config.saves.descriptions||(Config.saves.descriptions=value);break;case"undefined":case"object":if(value&&!Config.saves.descriptions){var dict=value;Config.saves.descriptions=function(){return Object.hasOwn(dict,State.passage)&&dict[State.passage]}}break;default:throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(getTypeOf(value),")"))}}}),saves:Object.freeze({get descriptions(){return _savesDescriptions},set descriptions(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.descriptions must be a function or null/undefined (received: ".concat(getTypeOf(value),")"));_savesDescriptions=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(getTypeOf(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(getTypeOf(value),")"));_savesIsAllowed=value},get maxAutoSaves(){return _savesMaxAuto},set maxAutoSaves(value){if(!Number.isInteger(value))throw new TypeError("Config.saves.maxAutoSaves must be an integer");if(value<0||value>Save.MAX_INDEX+1)throw new RangeError("Config.saves.maxAutoSaves out of bounds (range: 0–".concat(Save.MAX_INDEX+1,"; received: ").concat(value,")"));_savesMaxAuto=value},get maxSlotSaves(){return _savesMaxSlot},set maxSlotSaves(value){if(!Number.isInteger(value))throw new TypeError("Config.saves.maxSlotSaves must be an integer");if(value<0||value>Save.MAX_INDEX+1)throw new RangeError("Config.saves.maxSlotSaves out of bounds (range: 0–".concat(Save.MAX_INDEX+1,"; received: ").concat(value,")"));_savesMaxSlot=value},get metadata(){return _savesMetadata},set metadata(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.metadata must be a function or null/undefined (received: ".concat(getTypeOf(value),")"));_savesMetadata=value},get version(){return _savesVersion},set version(value){_savesVersion=value},get _internal_autoload_(){return _savesAutoload},get autoload(){return console.warn(errSavesAutoloadDeprecated),_savesAutoload},set autoload(value){if(console.warn(errSavesAutoloadDeprecated),null!=value){var valueType=getTypeOf(value);if("boolean"!==valueType&&("string"!==valueType||"prompt"!==value)&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string ('prompt'), function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){throw new Error("".concat(_baseSavesAutosaveDeprecated,", see Config.saves.maxAutoSaves and Config.saves.isAllowed instead"))},set autosave(value){switch(_typeof(value)){case"boolean":console.warn("".concat(_baseSavesAutosaveDeprecated,", for boolean usage see Config.saves.maxAutoSaves instead"));break;case"function":if(console.warn("".concat(_baseSavesAutosaveDeprecated,", for function usage see Config.saves.isAllowed instead")),!Config.saves.isAllowed){var callback=value;Config.saves.isAllowed=function(saveType){return saveType!==Save.Type.Auto||callback(saveType)}}break;default:if(console.warn("".concat(_baseSavesAutosaveDeprecated,", for tag usage see Config.saves.isAllowed instead")),!(value instanceof Array)||0===value.length||value.some((function(tag){return"string"!=typeof tag}))){var valueType=getTypeOf(value);throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}if(!Config.saves.isAllowed){var userTags=value;Config.saves.isAllowed=function(saveType){return saveType!==Save.Type.Auto||userTags.includesAny(Story.get(State.passage).tags)}}}0===Config.saves.maxAutoSaves&&(Config.saves.maxAutoSaves=1)},get onLoad(){throw new Error(errSavesOnLoadDeprecated)},set onLoad(value){console.warn(errSavesOnLoadDeprecated),Save.onLoad.add(value)},get onSave(){throw new Error(errSavesOnSaveDeprecated)},set onSave(value){console.warn(errSavesOnSaveDeprecated),Save.onSave.add(value)},get slots(){throw new Error(errSavesSlotsDeprecated)},set slots(value){console.warn(errSavesSlotsDeprecated),Config.saves.maxSlotSaves=value},get tryDiskOnMobile(){return console.warn("[DEPRECATED] Config.saves.tryDiskOnMobile has been deprecated"),!0},set tryDiskOnMobile(value){console.warn("[DEPRECATED] Config.saves.tryDiskOnMobile has been deprecated")}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=getTypeOf(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesDescriptions,_savesId,_savesIsAllowed,_savesMetadata,_savesVersion,_savesAutoload,_addVisitedLinkClass,_cleanupWikifierOutput,_debug,_enableOptionalDebugging,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesMaxAuto,_savesMaxSlot,_uiStowBarInitially,_uiUpdateStoryElements,errPassagesDescriptionsDeprecated,errSavesAutoloadDeprecated,_baseSavesAutosaveDeprecated,errSavesOnLoadDeprecated,errSavesOnSaveDeprecated,errSavesSlotsDeprecated,SimpleAudio=function(){var _hasPromise,_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing",":stopped"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(parseURL(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!Object.hasOwn(src,"src"))throw new Error('source object missing required "src" property');if(!Object.hasOwn(src,"format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this._error=!1})).on("error.AudioTrack",(function(){return _this._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this.audio)switch(mesg){case"loadwithscreen":if(_this.hasSource()){var lockId=LoadScreen.lock();_this.off(".AudioTrack_loadwithscreen").one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this.load();break;case"mute":_this._updateAudioMute();break;case"rate":_this._updateAudioRate();break;case"stop":_this.stop();break;case"volume":_this._updateAudioVolume();break;case"unload":_this.unload()}else unsubscribe(_this)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){triggerEvent(eventName,this.audio,{bubbles:!1})}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this2=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this2.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this3=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this3.isPlaying()?resolve():(jQuery(_this3.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this3.audio).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this3.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this4=this;return this.play().catch((function(ex){if("NotAllowedError"!==ex.name)throw ex;onUserActivation(".AudioTrack_playWhenAllowed",(function(){return _this4.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this5=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this5._trigger(":fading"),_this5._faderId=setInterval((function(){_this5.isPlaying()?(_this5.volume(Math.clamp(_this5.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this5.volume()&&_this5.pause(),_this5.volume()===to&&(_this5.fadeStop(),_this5._trigger(":faded"))):_this5.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop2){return null==_loop2?this.audio.loop:(this.audio.loop=!!_loop2,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this6=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this6.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}])}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){return _createClass((function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}),[{key:"_create",value:function(trackList){var _this7=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!Object.hasOwn(trackObj,"track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=Object.hasOwn(trackObj,"own")&&trackObj.own,rate=Object.hasOwn(trackObj,"rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=Object.hasOwn(trackObj,"volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this7._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this8=this;return this.play().catch((function(ex){if("NotAllowedError"!==ex.name)throw ex;onUserActivation(".AudioList_playWhenAllowed",(function(){return _this8.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop3){return null==_loop3?this._loop:(this._loop=!!_loop3,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this9=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIndex=this.queue.findIndex((function(trackObj){return trackObj===_this9.current}));if(-1!==firstIndex)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIndex+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}])}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop4){if(null==_loop4)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop4),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}])}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parenthesis');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(!parent.id.startsWith(":"))throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.preventExtensions(Object.create(null,{tracks:{value:Object.preventExtensions(Object.create(null,{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.preventExtensions(Object.create(null,{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(!id.startsWith(":")||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.preventExtensions(Object.create(null,{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!Object.hasOwn(desc,"id")&&!Object.hasOwn(desc,"sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(Object.hasOwn(desc,"id")&&Object.hasOwn(desc,"sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(Object.hasOwn(desc,"id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(Object.hasOwn(desc,"sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(Object.hasOwn(desc,"own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(Object.hasOwn(desc,"own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(Object.hasOwn(desc,"volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;case":stopped":ids=allIds.filter((function(id){return _tracks.get(id).isStopped()}));break;default:if(id.startsWith(":")){var group=_groups.get(id);if(!group)throw new Error('group "'.concat(id,'" does not exist'));ids=group}else ids=[id]}if(Object.hasOwn(idObj,"not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_temporary=Object.create(null);function stateMarshal(noDelta){var state={index:_activeIndex};return noDelta?state.history=clone(_history):state.delta=historyDeltaEncode(_history),_expired.length>0&&(state.expired=Array.from(_expired)),null!==_prng&&(state.seed=_prng.seed),state}function stateUnmarshal(state,noDelta){if(null==state)throw new Error("state object is null or undefined");if(!Object.hasOwn(state,noDelta?"history":"delta")||0===state[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!Object.hasOwn(state,"index"))throw new Error("state object has no index");if(null!==_prng&&!Object.hasOwn(state,"seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&Object.hasOwn(state,"seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(state.history):historyDeltaDecode(state.delta),_activeIndex=state.index,_expired=Object.hasOwn(state,"expired")?Array.from(state.expired):[],Object.hasOwn(state,"seed")&&(_prng.seed=state.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=function(state){for(var prng=prngCreate(state.seed),i=state.pull;i>0;--i)prng.random();return prng}({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),triggerEvent(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngCreate(seedBase,mixEntropy){return new Math.seedrandom(seedBase,{entropy:Boolean(mixEntropy),pass:function(prng,seed){return Object.create(null,{prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this.prng()}}})}})}function tempVariablesClear(){_temporary=Object.create(null)}var _METADATA_STORE="metadata";function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get(_METADATA_STORE);store&&Object.hasOwn(store,key)&&(1===Object.keys(store).length?storage.delete(_METADATA_STORE):(delete store[key],storage.set(_METADATA_STORE,store)))}return Object.preventExtensions(Object.create(null,{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:prngCreate(_prng.seed),tempVariablesClear()}},restore:{value:function(){var state=session.get("state");return null!=state&&(stateUnmarshal(state),!0)}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(state){return stateUnmarshal(state,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.preventExtensions(Object.create(null,{init:{value:function(seedBase,mixEntropy){var what;if(!historyIsEmpty())throw what="the story JavaScript section",new Error("State.prng.init must be called during initialization, within either ".concat(what," or the StoryInit special passage"));_prng=prngCreate(seedBase,Boolean(mixEntropy)),_active.pull=_prng.pull}},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return null!==_prng?_prng.pull:NaN}},seed:{get:function(){return null!==_prng?_prng.seed:null}}}))},random:{value:function(){return null!==_prng?_prng.random():Math.random()}},clearTemporary:{value:tempVariablesClear},temporary:{get:function(){return _temporary}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = SCRIPT$DATA$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.preventExtensions(Object.create(null,{clear:{value:function(){storage.delete(_METADATA_STORE)}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get(_METADATA_STORE);return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get(_METADATA_STORE);return store&&Object.hasOwn(store,key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get(_METADATA_STORE);return store&&Object.hasOwn(store,key)}},keys:{value:function(){var store=storage.get(_METADATA_STORE);return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get(_METADATA_STORE)||{};store[key]=value,storage.set(_METADATA_STORE,store)}}},size:{get:function(){var store=storage.get(_METADATA_STORE);return store?Object.keys(store).length:0}}}))}}))}(),Scripting=function(){function toStringOrDefault(value){return console.warn("[DEPRECATED] toStringOrDefault() is deprecated."),stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(getTypeOf(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0;i<needles.length;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0;i<needles.length&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(getTypeOf(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new TypeError("random min parameter must be an integer");if(!Number.isInteger(max))throw new TypeError("random max parameter must be an integer");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new TypeError("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new TypeError("randomFloat max parameter must be a number");if(min>max){var _ref8=[max,min];min=_ref8[0],max=_ref8[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(getTypeOf(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags;for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0;i<passages.length;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0;i<needles.length&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0;i<played.length;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref9=function(){function slugifyUrl(url){return parseURL(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){var kind,src;if("string"==typeof url)kind=url.trim().toLowerCase().endsWith(".mjs")?"module":"text/javascript",src=url;else{if("object"!==_typeof(url))throw new Error("importScripts url parameter must be a string or object");kind=url.type,src=url.src}jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(src,'"')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(src)),type:kind,src:src})}))}function addStyle(url){return new Promise((function(resolve,reject){if("string"!=typeof url)throw new Error("importStyles url parameter must be a string");jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'"')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref9.importScripts,importStyles=_ref9.importStyles,desugar=function(){var tokenTable=enumFrom({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),desugarRE=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","(?:\\.{3})","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),varTest=new RegExp("^".concat(Patterns.variable));function desugar(sugaredCode){desugarRE.lastIndex=0;for(var match,code=sugaredCode;null!==(match=desugarRE.exec(code));)if(match[1]){var sugaredTemplate=match[1],template=desugarTemplate(sugaredTemplate);template!==sugaredTemplate&&(code=code.splice(match.index,sugaredTemplate.length,template),desugarRE.lastIndex+=template.length-sugaredTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;varTest.test(token)&&(token=token[0]),tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),desugarRE.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRE=/\$\{/g,templateGroupParseRE=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function desugarTemplate(sugaredLiteral){templateGroupStartRE.lastIndex=0;for(var startMatch,template=sugaredLiteral;null!==(startMatch=templateGroupStartRE.exec(template));){var startIndex=startMatch.index+2,endIndex=startIndex,depth=1,endMatch=void 0;for(templateGroupParseRE.lastIndex=startIndex;null!==(endMatch=templateGroupParseRE.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIndex=endMatch.index;break}if(endIndex>startIndex){var desugarREIndex=desugarRE.lastIndex,sugaredGroup=template.slice(startIndex,endIndex),group=desugar(sugaredGroup);desugarRE.lastIndex=desugarREIndex,template=template.splice(startIndex,sugaredGroup.length,group),templateGroupStartRE.lastIndex+=group.length-sugaredGroup.length}}return template}return desugar}();function evalJavaScript(code,output,data){return function(code,output,SCRIPT$DATA$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,SCRIPT$DATA$){return eval(code)}.call(output?{output:output}:null,desugar(String(code)),output,data)}return Object.preventExtensions(Object.create(null,{desugar:{value:desugar},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript},parse:{value:desugar}}))}(),_ref10=function(){var Lexer=function(){return _createClass((function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}),[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}])}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref10.EOF,Lexer=_ref10.Lexer,Wikifier=function(){var _optionsStack,macroParser,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),this.output=null==destination?document.createDocumentFragment():destination instanceof jQuery?destination[0]:destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&(Object.hasOwn(this.options,"cleanup")&&null!=this.options.cleanup?this.options.cleanup:Config.cleanupWikifierOutput)&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return console.warn("[DEPRECATED] Wikifier.rawArgs() is deprecated."),this._rawArgs}},{key:"fullArgs",value:function(){return console.warn("[DEPRECATED] Wikifier.fullArgs() is deprecated."),Scripting.desugar(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}}])}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.preventExtensions(Object.create(null,{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(index){return _optionsStack[index]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(getTypeOf(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.preventExtensions(Object.create(null,{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!Object.hasOwn(parser,"name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!Object.hasOwn(parser,"match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!Object.hasOwn(parser,"handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(Object.hasOwn(parser,"profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.preventExtensions(Object.create(null,{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&Object.hasOwn(_profiles,profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!Object.hasOwn(_profiles,profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},isExternalLink:{value:isExternalLink},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.desugar},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[cssPropToDOMProp(match[1])]=match[2].trim();else if(match[3])css.styles[cssPropToDOMProp(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},shadowHandler:{value:(macroParser=null,function(code){var shadowStore=Object.create(null);return macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser')}(),macroParser.context&&macroParser.context.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;Object.hasOwn(store,varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],Object.hasOwn(valueCache,varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}})},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return appendError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return appendError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,appendError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return appendError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{console.warn("[DEPRECATED] The legacy macro API, used by <<".concat(name,">>, is deprecated."));var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return appendError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.desugar(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(Object.hasOwn(markup,"error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=Object.hasOwn(markup,"text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=Object.hasOwn(markup,"text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=Object.hasOwn(markup,"setter")?Wikifier.helpers.shadowHandler(Scripting.desugar(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.name)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),Object.hasOwn(markup,"align")&&(arg.align=markup.align),Object.hasOwn(markup,"text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),Object.hasOwn(markup,"link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=Object.hasOwn(markup,"setter")?Wikifier.helpers.shadowHandler(Scripting.desugar(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(Object.hasOwn(markup,"error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=Object.hasOwn(markup,"text")?Wikifier.helpers.evalText(markup.text):link,setFn=Object.hasOwn(markup,"setter")?Wikifier.helpers.shadowHandler(Scripting.desugar(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(Object.hasOwn(markup,"error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",Object.hasOwn(markup,"link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=Object.hasOwn(markup,"setter")?Wikifier.helpers.shadowHandler(Scripting.desugar(markup.setter)):null,el=(Config.debug?debugView:w).output;if(Object.hasOwn(markup,"link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.name),source=passage.text.trim())}el.src=source,Object.hasOwn(markup,"text")&&(el.title=Wikifier.helpers.evalText(markup.text)),Object.hasOwn(markup,"align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+\\s*$",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return appendError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this10=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1,_loop5=function(){cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2])return w.nextMatch=cellMatch.index+cellMatch[0].length,1;++w.nextMatch;for(var $cell,css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this10.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}++col}};do{if(_loop5())break}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee][^>]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(Object.hasOwn(markup,"error")||markup.pos<wikiImage.length)return wikiImage;var source=Wikifier.helpers.evalPassageId(markup.source);if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this11=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this11.processAttributeDirectives(el)}catch(ex){return appendError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this11.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){Array.from(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.shadowHandler(Scripting.desugar(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return appendError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return appendError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")){if(el.hasAttribute("href"))return appendError(w.output,"<".concat(tagName,'>: elements may not include both "data-passage" and "href" atttributes'),"".concat(w.matchText,"…"));this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)}else el.hasAttribute("href")&&Wikifier.isExternalLink(el.getAttribute("href"))&&el.classList.add("link-external");if(terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){Array.from(el.attributes).forEach((function(_ref12){var name=_ref12.name,value=_ref12.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length>0&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.shadowHandler(Scripting.desugar(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.preventExtensions(Object.create(null,{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return Object.hasOwn(_macros,name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return Object.hasOwn(_tags,name)}return Object.preventExtensions(Object.create(null,{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:Object.hasOwn(macros,name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.preventExtensions(Object.create(null,{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){return _createClass((function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}),[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return Array.from(this._shadows)}},{key:"shadowView",get:function(){for(var view=new Set,context=this;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return Array.from(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextFilter",value:function(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("<MacroContext>.contextFilter() predicate parameter must be a function");for(var result=[],context=this.parent;null!==context;context=context.parent)predicate.call(void 0===thisArg?this:thisArg,context)&&result.push(context);return result}},{key:"contextFind",value:function(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("<MacroContext>.contextFind() predicate parameter must be a function");for(var context=this.parent;null!==context;context=context.parent)if(predicate.call(void 0===thisArg?this:thisArg,context))return context}},{key:"contextSome",value:function(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("<MacroContext>.contextSome() predicate parameter must be a function");for(var context=this.parent;null!==context;context=context.parent)if(predicate.call(void 0===thisArg?this:thisArg,context))return!0;return!1}},{key:"addShadow",value:function(){var _this12=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this12._shadows.add(name)}))}},{key:"shadowHandler",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore=Object.create(null),this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;Object.hasOwn(store,varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],Object.hasOwn(valueCache,varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return appendError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}])}();return Object.defineProperties(MacroContext.prototype,{contextHas:{value:function(){console.warn("[DEPRECATED] <MacroContext>.contextHas() is deprecated.");for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];return MacroContext.prototype.contextSome.apply(this,args)}},contextSelect:{value:function(){console.warn("[DEPRECATED] <MacroContext>.contextSelect() is deprecated.");for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];return MacroContext.prototype.contextFind.apply(this,args)}},contextSelectAll:{value:function(){console.warn("[DEPRECATED] <MacroContext>.contextSelectAll() is deprecated.");for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];return MacroContext.prototype.contextFilter.apply(this,args)}},createShadowWrapper:{value:function(){console.warn("[DEPRECATED] <MacroContext>.createShadowWrapper() is deprecated.");for(var _len19=arguments.length,args=new Array(_len19),_key19=0;_key19<_len19;_key19++)args[_key19]=arguments[_key19];return MacroContext.prototype.shadowHandler.apply(this,args)}}}),MacroContext}();Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this13=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this13.name,"-in"))}),Engine.DOM_DELAY)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),function(){if(Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();try{SimpleAudio.tracks.add(id,this.args.slice(1))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));for(var action,fadeTo,loop,mute,shuffle,volume,list=SimpleAudio.lists.get(id),args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}})}(),Macro.add(["back","return"],{handler:function(){var passage,content,$link,momentIndex=-1;if(this.args.length>0)if("object"===_typeof(this.args[0]))if(this.args[0].isImage){content=document.createElement("img");var $image=jQuery(content).attr("src",this.args[0].source);Object.hasOwn(this.args[0],"passage")&&$image.attr("data-passage",this.args[0].passage),Object.hasOwn(this.args[0],"title")&&$image.attr("title",this.args[0].title),Object.hasOwn(this.args[0],"align")&&$image.attr("align",this.args[0].align),Object.hasOwn(this.args[0],"link")&&(passage=this.args[0].link)}else content=document.createTextNode(this.args[0].text),passage=this.args[0].link;else{content=document.createDocumentFragment();var forbidden=jQuery(content).wikiWithOptions({cleanup:!1,profile:"core"},this.args[0]).getForbiddenInteractiveContentTagNames();if(forbidden.length>0)throw new Error("text content contains restricted elements: <".concat(forbidden.join(">, <"),">"));passage=this.args.length>1?this.args[1]:undefined}if(null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),content instanceof HTMLImageElement&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append(content||document.createTextNode(L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this14=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),Object.hasOwn(this.args[0],"passage")&&$image.attr("data-passage",this.args[0].passage),Object.hasOwn(this.args[0],"title")&&$image.attr("title",this.args[0].title),Object.hasOwn(this.args[0],"align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else{var $frag=jQuery(document.createDocumentFragment()).wikiWithOptions({cleanup:!1,profile:"core"},this.args[0]),forbidden=$frag.getForbiddenInteractiveContentTagNames();if(forbidden.length>0)throw new Error("text content contains restricted elements: <".concat(forbidden.join(">, <"),">"));$link.append($frag),passage=this.args.length>1?this.args[1]:undefined}null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.shadowHandler(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this14.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;Object.hasOwn(store,varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;Object.hasOwn(valueCache,varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=createSlug(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.shadowHandler((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this15=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=createSlug(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var _ret,options=[],tagCount={option:0,optionsfrom:0},index=-1,_loop6=function(){var payload=_this15.payload[_i8];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return{v:_this15.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"))};var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return{v:_this15.error("cannot specify both the autoselect and selected keywords")};if(-1!==index)return{v:_this15.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(index+1," & #").concat(tagCount.option,")"))};index=options.length-1}}else{if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this15.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this15.error("bad evaluation: ".concat(getErrorMessage(ex)))}}if("object"!==_typeof(result)||null===result)return{v:_this15.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=getToStringTag(result);if("Object"!==oType)return{v:_this15.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}},_i8=1;_i8<len;++_i8)if(_ret=_loop6())return _ret.v;if(-1===index)if(config.autoselect){var curValue=State.getVar(varName),curValueIndex=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));index=-1===curValueIndex?0:curValueIndex}else index=0;if("cycle"===this.name){var lastIndex=options.length-1;if(config.once&&index===lastIndex)jQuery(this.output).wikiWithOptions({cleanup:!1,profile:"core"},options[index].label);else{var cycleIndex=index;jQuery(document.createElement("a")).wikiWithOptions({cleanup:!1,profile:"core"},options[index].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.shadowHandler((function(){var $this=$(this);cycleIndex=(cycleIndex+1)%options.length,State.setVar(varName,options[cycleIndex].value),$this.empty().wikiWithOptions({cleanup:!1,profile:"core"},options[cycleIndex].label),config.once&&cycleIndex===lastIndex&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(index).on("change.macros",this.shadowHandler((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[index].value)}}),jQuery(document).on(":redo",(function(ev){var evTags=ev.detail&&ev.detail.tags||[],selector=0===evTags.length?".".concat("redo-target"):evTags.map((function(tag){return".".concat("redo-target",'[data-do-tags~="').concat(tag,'"]')})).join(", ");triggerEvent(":redo-internal",jQuery(selector),{bubbles:!1,detail:ev.detail})})),Macro.add("do",{tags:null,handler:function(){for(var elTag="span",tags=[],options=this.args.slice();options.length>0;){var option=options.shift();switch(option){case"tag":if(0===options.length)return this.error("tag option missing required tag name(s)");var raw=String(options.shift()).trim();if(""===raw)throw new Error("tag option tag name(s) must be non-empty");tags=String(raw).trim().splitOrEmpty(/\s+/);break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=String(options.shift()).trim()))throw new Error("element option tag name must be non-empty");break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:"span"!==elTag});var $target=jQuery(document.createElement(elTag)).addClass("macro-".concat(this.name," ").concat("redo-target")).attr("data-do-tags",tags.join(" ")).wiki(contents).on(":redo-internal",jQuery.throttle(Engine.DOM_DELAY,this.shadowHandler((function(){var frag=document.createDocumentFragment();new Wikifier(frag,contents),$target.empty().append(frag)})))).appendTo(this.output)}}}),Macro.add("redo",{handler:function(){var failRE=/^(?:do|for)$/,passRE=/^(?:button|link(?:append|prepend|replace)?)$/,closest=this.contextFind((function(ctx){return failRE.test(ctx.name)||passRE.test(ctx.name)}));if(closest&&failRE.test(closest.name))return this.error("must not be used directly within macro <<".concat(closest.name,">>"));var tags=this.args.length>0?String(this.args[0]).trim().splitOrEmpty(/\s+/):[];triggerEvent(":redo",document,{detail:{tags:tags}})}}),Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.shadowHandler((function(){return $.wiki(contents)})),Engine.DOM_DELAY)}}),Macro.add("for",{skipArgs:!0,tags:null,isRangeRe:new RegExp("^(?:\\S".concat(Patterns.anyChar,"*?\\s+)?range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+)?range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.isRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [[index ,] value] range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat(getErrorMessage(ex)))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat(getErrorMessage(ex)))}}}catch(ex){return this.error("bad conditional expression: ".concat(getErrorMessage(ex)))}finally{TempState.break=null}},handleForRange:function(payload,keyVar,valueVar,rangeExp){var rangeable,first=!0;try{rangeable=this.self.toRangeable(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{for(TempState.break=null;;){var entry=rangeable.next();if(entry.done)break;if(keyVar.name&&(State[keyVar.type][keyVar.name]=entry.key),valueVar.name&&(State[valueVar.type][valueVar.name]=entry.value),new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}}catch(ex){return this.error(getErrorMessage(ex))}finally{TempState.break=null}},toRangeable:function(rangeExp){var collection;try{collection=Scripting.evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(collection)){case"number":if(Number.isNaN(collection)||!Number.isFinite(collection))throw new Error("unsupported range expression type: ".concat(stringFrom(collection)));if(!Number.isInteger(collection))throw new Error("unsupported range expression type: floating-point number");if(!Number.isSafeInteger(collection))throw new Error("unsupported range expression type: unsafe integer");return collection<=0?{next:function(){return{done:!0}}}:{end:collection,pos:0,next:function(){if(this.pos<this.end){var key=this.pos++;return{key:key,value:key,done:!1}}return{done:!0}}};case"string":return{list:collection,end:collection.length,pos:0,next:function(){if(this.pos<this.end){var O=charAndPosAt(this.list,this.pos),key=this.pos;return this.pos=O.end+1,{key:key,value:O.char,done:!1}}return{done:!0}}};case"object":if(collection instanceof Array)return{list:collection,end:collection.length,pos:0,next:function(){if(this.pos<this.end){var key=this.pos++;return{key:key,value:this.list[key],done:!1}}return{done:!0}}};if(collection instanceof Set)return{list:collection=Array.from(collection),end:collection.length,pos:0,next:function(){if(this.pos<this.end){var key=this.pos++;return{key:key,value:this.list[key],done:!1}}return{done:!0}}};if(collection instanceof Map){var keys=Array.from(collection.keys());return{keys:keys,list:collection,end:keys.length,pos:0,next:function(){if(this.pos<this.end){var key=this.keys[this.pos++];return{key:key,value:this.list.get(key),done:!1}}return{done:!0}}}}if("Object"===getToStringTag(collection)){var _keys=Object.keys(collection);return{keys:_keys,list:collection,end:_keys.length,pos:0,next:function(){if(this.pos<this.end){var key=this.keys[this.pos++];return{key:key,value:this.list[key],done:!1}}return{done:!0}}}}throw new Error("unsupported range expression type: ".concat(getToStringTag(collection)));default:throw new Error("unsupported range expression type: ".concat(_typeof(collection)))}}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextSome((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.DOM_DELAY):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],isElseifWsRE:/^\s*if\b/i,isAssignRE:/[^!%&*+\-/<=>?^|]=[^=>]/,isLiteralRE:new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(?:`(?:\\\\.|[^`\\\\])+`)"].join("|"),"g"),handler:function(){var i;try{var len=this.payload.length,isElseifWsRE=this.self.isElseifWsRE,isAssignRE=this.self.isAssignRE,isLiteralRE=this.self.isLiteralRE;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return isElseifWsRE.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#".concat(i,")"):"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#".concat(i,")"):""));if((Config.debug||Config.enableOptionalDebugging)&&isAssignRE.test(this.payload[i].args.full.replace(isLiteralRE,"")))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#".concat(i,")"):""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#".concat(i,")"):"",": ").concat(getErrorMessage(ex)))}}}),Macro.add("include",{handler:function(){return"display"===this.name&&console.warn("[DEPRECATED] <<".concat(this.name,">> macro is deprecated.")),0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.id," macro-").concat(this.name)).attr("data-passage",passage.name).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this16=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({cleanup:!1,profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.shadowHandler((function(){if("linkreplace"===_this16.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this16.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this16.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this16.payload[0].contents,{cleanup:!1}),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this16.name,"-in"))}),Engine.DOM_DELAY)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=createSlug(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.shadowHandler((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.shadowHandler((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),Engine.isPlaying()?jQuery(document).one(":passageend",(function(){setTimeout((function(){return el.focus()}),Engine.DOM_DELAY)})):setTimeout((function(){return el.focus()}),Engine.DOM_DELAY))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?encodeEntities(result):result)}catch(ex){return this.error("bad evaluation: ".concat(getErrorMessage(ex)))}}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=createSlug(varName),checkValue=this.args[1],el=document.createElement("input");switch(Object.hasOwn(TempState,this.name)||(TempState[this.name]={}),Object.hasOwn(TempState[this.name],varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.shadowHandler((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this17=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.DOM_DELAY,cssTimeToMS(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.shadowHandler((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents,{cleanup:!1});var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.DOM_DELAY)})),delay)},registerInterval:function(callback,delay){var _this18=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,Object.hasOwn(TempState,"repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this18)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),1===timers.size&&jQuery(document).one(":passageinit",(function(){timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()}))}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!Object.hasOwn(TempState,"repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("script",{tags:null,handler:function(){var evalScript;switch(this.args.length>0?String(this.args[0]).toLowerCase():"javascript"){case"javascript":evalScript=Scripting.evalJavaScript;break;case"twinescript":evalScript=Scripting.evalTwineScript;break;default:return this.error('unknown language "'.concat(this.args[0],'"'))}var output=document.createDocumentFragment();try{evalScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat(getErrorMessage(ex)))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat(getErrorMessage(ex)))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("silent",{skipArgs:!0,tags:null,handler:function(){"silently"===this.name&&console.warn("[DEPRECATED] <<".concat(this.name,">> macro is deprecated."));var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=Array.from(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat(getErrorMessage(ex)))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=createSlug(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.shadowHandler((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),Engine.isPlaying()?jQuery(document).one(":passageend",(function(){setTimeout((function(){return el.focus()}),Engine.DOM_DELAY)})):setTimeout((function(){return el.focus()}),Engine.DOM_DELAY))}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.DOM_DELAY,cssTimeToMS(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.DOM_DELAY,cssTimeToMS(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.shadowHandler((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content,{cleanup:!1});var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.DOM_DELAY)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),1===timers.size&&jQuery(document).one(":passageinit",(function(){timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()}))}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=cssTimeToMS(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=cssTimeToMS(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId,allowCleanup=this.self.allowCleanup;TempState.macroTypeQueue.push({id:selfId,handler:this.shadowHandler((function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents,allowCleanup(elTag)?undefined:{cleanup:!1});var passage=State.passage,turn=State.turns;if(0===speed||!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?triggerEvent(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),triggerEvent(":typingstop",$wrapper),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};triggerEvent(":typingstart",$wrapper),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}))}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}},allowCleanup:function(tagName){switch(tagName.toUpperCase()){case"ARTICLE":case"DIV":case"FOOTER":case"FORM":case"HEADER":case"MAIN":case"SECTION":return!0}return!1}}),Macro.add("unset",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");try{var unsetExp=this.args.full.replace(/[,;\s]*((?:State\.(?:variables|temporary)|setup)\.)/g,(function(_,p1){return"; delete ".concat(p1)})).replace(/^; /,"");Scripting.evalJavaScript(unsetExp)}catch(ex){return this.error("bad evaluation: ".concat(getErrorMessage(ex)))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName))return this.error("cannot clobber existing ".concat(Macro.get(widgetName).isWidget?"widget":"macro",' "').concat(widgetName,'"'));try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};Object.hasOwn(State.temporary,"args")&&(shadowStore._args=State.temporary.args),State.temporary.args=Array.from(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,State.temporary.args.name=this.name,this.addShadow("_args"),isNonVoid&&(Object.hasOwn(State.temporary,"contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),Object.hasOwn(State.variables,"args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{Object.hasOwn(shadowStore,"_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(Object.hasOwn(shadowStore,"_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),Object.hasOwn(shadowStore,"$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}}),Macro.add("silently","silent"),Macro.add("actions",{handler:function(){console.warn("[DEPRECATED] <<".concat(this.name,">> macro is deprecated."));for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),Object.hasOwn(this.args[i],"passage")&&$image.attr("data-passage",this.args[i].passage),Object.hasOwn(this.args[i],"title")&&$image.attr("title",this.args[i].title),Object.hasOwn(this.args[i],"align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(Object.hasOwn(State.variables,"#actions")&&Object.hasOwn(State.variables["#actions"],passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){Object.hasOwn(State.variables,"#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add("choice",{handler:function(){if(console.warn("[DEPRECATED] <<".concat(this.name,">> macro is deprecated.")),0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),Object.hasOwn(this.args[0],"passage")&&$image.attr("data-passage",this.args[0].passage),Object.hasOwn(this.args[0],"title")&&$image.attr("title",this.args[0].title),Object.hasOwn(this.args[0],"align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),Object.hasOwn(State.variables,"#choice")&&Object.hasOwn(State.variables["#choice"],choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){Object.hasOwn(State.variables,"#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}});var Dialog=function(){var DEFAULT_TOP=50,$overlay=null,$dialog=null,$title=null,$body=null,lastActive=null,observer=null,onCloseFn=null,scrollbarWidth=0;function calcInset(top){var $window=jQuery(window),inset={left:"",right:"",top:"",bottom:""};$dialog.css(inset);var horzSpace=$window.width()-$dialog.outerWidth(!0)-1,vertSpace=$window.height()-$dialog.outerHeight(!0)-1;if(horzSpace<=20+scrollbarWidth&&(vertSpace-=scrollbarWidth),vertSpace<=20+scrollbarWidth&&(horzSpace-=scrollbarWidth),inset.left=inset.right=horzSpace<=20?"10px":(horzSpace/2|0)+"px",vertSpace<=20)inset.top=inset.bottom="10px";else{var vertPos=vertSpace/2|0;inset.top=vertPos>top?top+"px":inset.bottom=vertPos+"px"}return inset}function onResize(top){"block"===$dialog.css("display")&&$dialog.css(calcInset(null!=top?top:DEFAULT_TOP))}function close(ev){if(triggerEvent(":dialogclosing",$body),jQuery(document).off(".dialog-close"),observer?(observer.disconnect(),observer=null):$body.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),$title.empty(),$body.empty().removeClass(),lastActive&&(lastActive.focus(),lastActive=null),onCloseFn)try{onCloseFn(ev)}finally{onCloseFn=null}return triggerEvent(":dialogclose",$body),triggerEvent(":dialogclosed",$body),Dialog}function create(title,classNames){return $title.empty().append((null!=title?String(title):"")||" "),$body.empty().removeClass(),null!=classNames&&$body.addClass(classNames),Dialog}function getBody(){return $body.get(0)}function isOpen(classNames){return $dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return $body.hasClass(cn)})))}function wiki(){var _$body2;return(_$body2=$body).wiki.apply(_$body2,arguments),Dialog}return Object.preventExtensions(Object.create(null,{append:{value:function(){var _$body;return(_$body=$body).append.apply(_$body,arguments),Dialog}},body:{value:getBody},close:{value:close},create:{value:create},empty:{value:function(){return $body.empty(),Dialog}},init:{value:function(){if(!document.getElementById("ui-dialog")){scrollbarWidth=function(){var calcWidth;try{var inner=document.createElement("p");inner.style.width="100%",inner.style.height="200px";var outer=document.createElement("div");outer.style.position="absolute",outer.style.left="0",outer.style.top="0",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),calcWidth=w1-w2}catch(ex){}return calcWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title" aria-modal="true"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("textClose"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');$overlay=jQuery($elems.find("#ui-overlay").get(0)),$dialog=jQuery($elems.find("#ui-dialog").get(0)),$title=jQuery($elems.find("#ui-dialog-title").get(0)),$body=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:isOpen},open:{value:function(options,onClose){var top=Object.assign({top:DEFAULT_TOP},options).top;if(null!=onClose){var closeType=getTypeOf(onClose);if("function"!==closeType)throw new TypeError("Dialog.open onClose parameter must be a function (received: ".concat(closeType,")"));onCloseFn=onClose}else onCloseFn=null;triggerEvent(":dialogopening",$body),isOpen()||(lastActive=getActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),$overlay.addClass("open"),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0);var resizeHandler=jQuery.throttle(40,(function(){return onResize(top)}));return $body.imagesLoaded().always(resizeHandler),$dialog.css(calcInset(top)).addClass("open").focus(),jQuery(window).off(".dialog-resize").on("resize.dialog-resize",resizeHandler),Has.mutationObserver?(observer=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){$body.imagesLoaded().always(resizeHandler),resizeHandler();break}}))).observe(getBody(),{childList:!0,subtree:!0}):$body.off(".dialog-resize").on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",(function(){$body.imagesLoaded().always(resizeHandler),resizeHandler()})),jQuery(document).off(".dialog-close").one("click.dialog-close",".ui-close",(function(ev){close(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||triggerEvent("click",this)})),triggerEvent(":dialogopen",$body),triggerEvent(":dialogopened",$body),Dialog}},resize:{value:function(options){return onResize("object"===_typeof(options)?options.top:undefined)}},wiki:{value:wiki},wikiPassage:{value:function(name){return wiki(Story.get(name).processText())}},setup:{value:function(title,classNames){return console.warn("[DEPRECATED] Dialog.setup() is deprecated."),create(title,classNames),getBody()}}}))}(),Engine=function(){var States=enumFrom({Init:"init",Idle:"idle",Playing:"playing",Rendering:"rendering"}),DOM_DELAY=40,_initDebugViews=[],_state=States.Init,_lastPlay=null;function engineGo(offset){var succeeded=State.go(offset);return succeeded&&engineShow(),succeeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){if(_state===States.Init)return!1;var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({passage:passage,type:":passageinit",detail:{passage:passage}}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.name),document.body.className&&(document.body.className=""),_lastPlay=now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.id,"data-passage":passage.name,"data-tags":dataTags}).addClass("passage passage-in ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({content:passageEl,passage:passage,type:":passagestart",detail:{content:passageEl,passage:passage}}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({content:passageEl,passage:passage,type:":passagerender",detail:{content:passageEl,passage:passage}}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?Array.from(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-hidden":"true","aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.originalEvent.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(DOM_DELAY,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),DOM_DELAY/2),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({content:passageEl,passage:passage,type:":passagedisplay",detail:{content:passageEl,passage:passage}}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),UI.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));return jQuery("#story").find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),State.turns>1&&Save.browser.auto.isEnabled()&&Save.browser.auto.save(),jQuery.event.trigger({content:passageEl,passage:passage,type:":passageend",detail:{content:passageEl,passage:passage}}),_state=States.Idle,_lastPlay=now(),passageEl}return Object.preventExtensions(Object.create(null,{States:{value:States},DOM_DELAY:{get:function(){return DOM_DELAY}},init:{value:function(){if(_state===States.Init){jQuery("#init-no-js,#init-lacking").remove();var $main=jQuery('<div id="story" role="main"></div>'),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){if(Config.ui.updateStoryElements=!1,UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$main.append(markup),$main.find("#story").length>0)throw new Error('element with ID "story" found within "StoryInterface" special passage');var $passages=$main.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end();var $dataInitPassages=$main.find("[data-init-passage]"),$dataPassages=$main.find("[data-passage]");$dataInitPassages.each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(document).one(":uiupdate".concat(".engine"),(function(){var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim()),jQuery(el).empty().append(frag)}))})),$dataPassages.each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(document).on(":uiupdate".concat(".engine"),(function(){var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim()),jQuery(el).empty().append(frag)}))}))}else $main.append('<div id="passages" aria-live="polite"></div>');$main.insertBefore("body>script#script-sugarcube")}}},runUserScripts:{value:function(){var storyStyle;_state===States.Init&&(storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(Story.getStyles().map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"}),Story.getScripts().forEach((function(script){try{Scripting.evalJavaScript(script.text)}catch(ex){console.error(ex),Alert.error(script.name,getErrorMessage(ex))}})),Story.getWidgets().forEach((function(widget){try{Wikifier.wikifyEval(widget.processText())}catch(ex){console.error(ex),Alert.error(widget.name,getErrorMessage(ex))}})))}},runUserInit:{value:function(){if(_state===States.Init&&(Story.getInits().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.name," [init-tagged]"),"".concat(passage.name," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.name," [init-tagged]"),getErrorMessage(ex))}})),Story.has("StoryInit")))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit",getErrorMessage(ex))}}},start:{value:function(){if(_state===States.Init){if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(_state=States.Idle,document.documentElement.focus(),State.restore())engineShow();else{var autoloadType=_typeof(Config.saves._internal_autoload_);"string"===autoloadType?"prompt"===Config.saves._internal_autoload_&&(UI.buildAutoload(),Dialog.open()):new Promise((function(resolve,reject){if(Save.browser.size>0&&("boolean"===autoloadType&&Config.saves._internal_autoload_||"function"===autoloadType&&Config.saves._internal_autoload_()))return resolve();reject()})).then((function(){Save.browser.continue(),engineShow()})).catch((function(){enginePlay(Config.passages.start)}))}}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),triggerEvent(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(index){var succeeded=State.goTo(index);return succeeded&&engineShow(),succeeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){console.warn("[DEPRECATED] Engine.display() is deprecated.");var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}},minDomActionDelay:{get:function(){return DOM_DELAY}}}))}(),Passage=(tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,encodedRE=/\r/g,hasEncodedRE=new RegExp(encodedRE.source),decodePassageText=function(str){if(null==str)return"";var val=String(str);return val&&hasEncodedRE.test(val)?val.replace(encodedRE,""):val},function(){return _createClass((function Passage(name,el){var _this19=this;_classCallCheck(this,Passage),Object.defineProperties(this,{name:{value:decodeEntities(name)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])}}),Object.defineProperties(this,{id:{value:"passage-".concat(createSlug(this.name))},classes:{value:Object.freeze(0===this.tags.length?[]:_this19.tags.filter((function(tag){return!tagsToSkip.test(tag)})).map((function(tag){return createSlug(tag)})))},domId:{get:function(){return this.id}},title:{get:function(){return this.name}}})}),[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=encodeMarkup(this.name),mesg="".concat(L10n.get("errorViewTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return decodePassageText(this.element.textContent)}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.name,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),frag}},{key:"description",value:function(){return"".concat(L10n.get("textTurn")," ").concat(State.turns)}}])}()),encodedRE,hasEncodedRE,tagsToSkip,decodePassageText,Save=function(){var Type=enumFrom({Unknown:0,Auto:1,Slot:2,Disk:3,Base64:4,Autosave:1,Serialize:4}),MAX_INDEX=15,INDEX_DELIMITER=":",AUTO_SUBKEY="".concat("save.","auto."),AUTO_DATA_SUBKEY="".concat(AUTO_SUBKEY,"data").concat(INDEX_DELIMITER),AUTO_INFO_SUBKEY="".concat(AUTO_SUBKEY,"info").concat(INDEX_DELIMITER),SLOT_SUBKEY="".concat("save.","slot."),SLOT_DATA_SUBKEY="".concat(SLOT_SUBKEY,"data").concat(INDEX_DELIMITER),SLOT_INFO_SUBKEY="".concat(SLOT_SUBKEY,"info").concat(INDEX_DELIMITER),onLoadHandlers=new Set,onSaveHandlers=new Set;function createDetails(saveType,description,metadata){var metadataType=_typeof(metadata);if("object"!==metadataType&&"undefined"!==metadataType)throw new TypeError("metadata parameter must be an object or null/undefined");var cfgMetadata=Config.saves.metadata?Config.saves.metadata(saveType):undefined,cfgMetadataType=_typeof(cfgMetadata);if("object"!==cfgMetadataType&&"undefined"!==cfgMetadataType)throw new TypeError("Config.saves.metadata function must return an object or null/undefined");var desc,details={type:saveType};null!=description&&(desc=String(description).trim()),desc||"function"!=typeof Config.saves.descriptions||"string"==typeof(desc=Config.saves.descriptions(saveType))&&(desc=desc.trim()),details.desc=desc||"".concat(L10n.get("textTurn")," ").concat(State.turns);var fullMetadata=Object.assign({},cfgMetadata,metadata);return Object.keys(fullMetadata).length>0&&(details.metadata=fullMetadata),details}function findNewest(saveType){var keys;switch(saveType){case Type.Auto:keys=getKeys(isAutoInfoKey);break;case Type.Slot:keys=getKeys(isSlotInfoKey);break;default:keys=getKeys(isInfoKey)}switch(keys.length){case 0:return{index:-1};case 1:return{index:getIndexFromKey(keys[0]),type:getTypeFromKey(keys[0])}}return keys.map((function(key){return{value:{index:getIndexFromKey(key),type:getTypeFromKey(key)},date:storage.get(key).date}})).sort((function(a,b){return b.date-a.date})).first().value}function getIndexFromKey(key){var pos=key.lastIndexOf(INDEX_DELIMITER);if(-1===pos)throw new Error("unable to get index from save key (received: ".concat(key,")"));return Number(key.slice(pos+1))}function getAutoInfoKeyFromIndex(index){return"".concat(AUTO_INFO_SUBKEY).concat(index)}function getAutoDataKeyFromIndex(index){return"".concat(AUTO_DATA_SUBKEY).concat(index)}function getSlotInfoKeyFromIndex(index){return"".concat(SLOT_INFO_SUBKEY).concat(index)}function getSlotDataKeyFromIndex(index){return"".concat(SLOT_DATA_SUBKEY).concat(index)}function getKeys(predicate){return storage.keys().filter(predicate)}function getTypeFromKey(key){return isAutoKey(key)?Type.Auto:Type.Slot}function isInfoKey(key){return key.startsWith(AUTO_INFO_SUBKEY)||key.startsWith(SLOT_INFO_SUBKEY)}function isAutoKey(key){return key.startsWith(AUTO_SUBKEY)}function isAutoInfoKey(key){return key.startsWith(AUTO_INFO_SUBKEY)}function isSlotKey(key){return key.startsWith(SLOT_SUBKEY)}function isSlotInfoKey(key){return key.startsWith(SLOT_INFO_SUBKEY)}function saveBlobToDiskAs(data,filename,extension){if("string"!=typeof filename)throw new Error("filename parameter must be a string");var baseName=createFilename(filename);if(""===baseName)throw new Error("filename parameter must not consist solely of illegal characters");var datestamp=function(date){if(!(date instanceof Date))throw new TypeError("createDatestamp date parameter must be a Date object");var MM=date.getMonth()+1,DD=date.getDate(),hh=date.getHours(),mm=date.getMinutes(),ss=date.getSeconds();return MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(date.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)}(new Date),fileExt=createFilename(extension)||"save";saveAs(new Blob([data],{type:"text/plain;charset=UTF-8"}),"".concat(baseName,"-").concat(datestamp,".").concat(fileExt))}function saveToBrowserStorage(saveData){var data=saveData.data,dataKey=saveData.dataKey,info=saveData.info,infoKey=saveData.infoKey;try{storage.set(dataKey,data)&&(storage.set(infoKey,info)||storage.delete(dataKey))}catch(ex){throw storage.delete(dataKey),storage.delete(infoKey),ex}}function browserClear(){return autoClear(),slotClear(),!0}function browserIsEnabled(){return autoIsEnabled()||slotIsEnabled()}function autoClear(){return getKeys(isAutoKey).forEach((function(key){return storage.delete(key)})),!0}function autoDelete(index){if(!Number.isInteger(index))throw new TypeError("auto save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("auto save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));return storage.delete(getAutoInfoKeyFromIndex(index)),storage.delete(getAutoDataKeyFromIndex(index)),!0}function autoGet(index){if(!Number.isInteger(index))throw new TypeError("auto save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("auto save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));return storage.get(getAutoInfoKeyFromIndex(index))}function autoHas(index){if(!Number.isInteger(index))throw new TypeError("auto save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("auto save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));return storage.has(getAutoInfoKeyFromIndex(index))}function autoIsEnabled(){return"cookie"!==storage.name&&Config.saves.maxAutoSaves>0}function autoLoad(index){return new Promise((function(resolve){if(!Number.isInteger(index))throw new TypeError("auto save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("auto save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));if(Engine.state===Engine.States.Init)throw new Error(L10n.get("saveErrorLoadTooEarly"));var info=storage.get(getAutoInfoKeyFromIndex(index)),data=storage.get(getAutoDataKeyFromIndex(index));if(!info||!data)throw new Error(L10n.get("saveErrorNonexistent"));unmarshal(Object.assign(info,data)),resolve(!0)}))}function autoSave(desc,metadata){if(!autoIsEnabled()||"function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed(Type.Auto))return!1;var index=(findNewest(Type.Auto).index+1)%Config.saves.maxAutoSaves,infoKey=getAutoInfoKeyFromIndex(index),dataKey=getAutoDataKeyFromIndex(index),_splitSave3=splitSave(marshal(createDetails(Type.Auto,desc,metadata))),info=_splitSave3.info;saveToBrowserStorage({data:_splitSave3.data,dataKey:dataKey,info:info,infoKey:infoKey})}function slotClear(){return getKeys(isSlotKey).forEach((function(key){return storage.delete(key)})),!0}function slotDelete(index){if(!Number.isInteger(index))throw new TypeError("slot save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("slot save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));return storage.delete(getSlotInfoKeyFromIndex(index)),storage.delete(getSlotDataKeyFromIndex(index)),!0}function slotGet(index){if(!Number.isInteger(index))throw new TypeError("slot save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("slot save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));return storage.get(getSlotInfoKeyFromIndex(index))}function slotHas(index){if(!Number.isInteger(index))throw new TypeError("slot save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("slot save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));return storage.has(getSlotInfoKeyFromIndex(index))}function slotIsEnabled(){return"cookie"!==storage.name&&Config.saves.maxSlotSaves>0}function slotLoad(index){return new Promise((function(resolve){if(!Number.isInteger(index))throw new TypeError("slot save index must be an integer");if(index<0||index>MAX_INDEX)throw new RangeError("slot save index out of bounds (range: 0–".concat(MAX_INDEX,"; received: ").concat(index,")"));if(Engine.state===Engine.States.Init)throw new Error(L10n.get("saveErrorLoadTooEarly"));var info=storage.get(getSlotInfoKeyFromIndex(index)),data=storage.get(getSlotDataKeyFromIndex(index));if(!info||!data)throw new Error(L10n.get("saveErrorNonexistent"));unmarshal(Object.assign(info,data)),resolve(!0)}))}function slotSave(index,desc,metadata){if(!Number.isInteger(index))throw new TypeError("slot save index must be an integer");if(index<0||index>=Config.saves.maxSlotSaves)throw new RangeError("slot save index out of bounds (range: 0–".concat(Config.saves.maxSlotSaves-1,"; received: ").concat(index,")"));if(!slotIsEnabled()||"function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed(Type.Slot))throw new Error(L10n.get("saveErrorDisallowed"));var infoKey=getSlotInfoKeyFromIndex(index),dataKey=getSlotDataKeyFromIndex(index),_splitSave4=splitSave(marshal(createDetails(Type.Slot,desc,metadata))),info=_splitSave4.info;saveToBrowserStorage({data:_splitSave4.data,dataKey:dataKey,info:info,infoKey:infoKey})}function slotSize(){return getKeys(isSlotInfoKey).length}function diskLoad(event){return new Promise((function(resolve,reject){var reader=new FileReader;jQuery(reader).on("loadend",(function(){try{if(Engine.state===Engine.States.Init)throw new Error(L10n.get("saveErrorLoadTooEarly"));if(reader.error)throw new Error("".concat(L10n.get("saveErrorDiskLoadFail"),": ").concat(reader.error));var save;try{save=Serial.parse(LZString.decompressFromBase64(reader.result))}catch(ex){throw new Error(L10n.get("saveErrorDecodeFail"))}unmarshal(save),resolve(save.metadata)}catch(ex){reject(ex)}})),reader.readAsText(event.target.files[0])}))}function diskSave(filename,metadata){if(null==filename)throw new Error("Save.disk.save filename parameter is required");if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed(Type.Disk))throw new Error(L10n.get("saveErrorDisallowed"));var details=createDetails(Type.Disk,filename,metadata);saveBlobToDiskAs(LZString.compressToBase64(Serial.stringify(marshal(details))),filename,"save")}function base64Load(base64){return new Promise((function(resolve){if(Engine.state===Engine.States.Init)throw new Error(L10n.get("saveErrorLoadTooEarly"));var save;try{save=Serial.parse(LZString.decompressFromBase64(base64))}catch(ex){throw new Error(L10n.get("saveErrorDecodeFail"))}unmarshal(save),resolve(save.metadata)}))}function base64Save(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed(Type.Base64))throw new Error(L10n.get("saveErrorDisallowed"));var details=createDetails(Type.Base64,null,metadata);return LZString.compressToBase64(Serial.stringify(marshal(details)))}function marshal(details){var save=Object.assign({},details,{date:Date.now(),id:Config.saves.id,state:State.marshalForSave()});return null!=Config.saves.version&&(save.version=Config.saves.version),onSaveHandlers.forEach((function(fn){return fn(save,function(save){switch(save.type){case Type.Auto:return{type:"autosave"};case Type.Slot:return{type:"slot"};case Type.Disk:return{type:"disk"};case Type.Base64:return{type:"serialize"}}throw new Error("save.type must be an integer (received: ".concat(_typeof(save.type),")"))}(save))})),save.state.delta=State.deltaEncode(save.state.history),delete save.state.history,save}function splitSave(save){var state=save.state;return{info:_objectWithoutProperties(save,_excluded3),data:{state:state}}}function unmarshal(save){if(null==save||"object"!==_typeof(save)||!Object.hasOwn(save,"id")||!Object.hasOwn(save,"state")||"object"!==_typeof(save.state)||!Object.hasOwn(save.state,"delta"))throw new Error(L10n.get("saveErrorInvalidData"));if(save.id!==Config.saves.id)throw new Error(L10n.get("saveErrorIdMismatch"));if(save.state.history=State.deltaDecode(save.state.delta),delete save.state.delta,"string"==typeof save.type){switch(save.type){case"auto":case"autosave":save.type=Type.Auto;break;case"slot":save.type=Type.Slot;break;case"disk":save.type=Type.Disk;break;case"base64":case"serialize":save.type=Type.Base64}if("number"!=typeof save.type)throw new Error("save.type is unknown")}onLoadHandlers.forEach((function(fn){return fn(save)})),State.unmarshalForSave(save.state)}return Object.preventExtensions(Object.create(null,{Type:{value:Type},MAX_INDEX:{get:function(){return MAX_INDEX}},init:{value:function(){return function(){var oldSaves=storage.get("saves");if(null===oldSaves)return;if(autoClear(),slotClear(),oldSaves.autosave){var _splitSave=splitSave(oldSaves.autosave),info=_splitSave.info,data=_splitSave.data;info.desc=info.title,delete info.title,info.type=Type.Auto;var infoKey=getAutoInfoKeyFromIndex(0),dataKey=getAutoDataKeyFromIndex(0);storage.set(dataKey,data)&&(storage.set(infoKey,info)||storage.delete(dataKey))}oldSaves.slots.forEach((function(save,index){if(save){var _splitSave2=splitSave(save),info=_splitSave2.info,data=_splitSave2.data;info.desc=info.title,delete info.title,info.type=Type.Slot;var infoKey=getSlotInfoKeyFromIndex(index),dataKey=getSlotDataKeyFromIndex(index);storage.set(dataKey,data)&&(storage.set(infoKey,info)||storage.delete(dataKey))}})),storage.delete("saves")}(),!0}},browser:{value:Object.preventExtensions(Object.create(null,{clear:{value:browserClear},continue:{value:function(){var newest=findNewest();return-1===newest.index?Promise.reject(new Error(L10n.get("saveErrorNonexistent"))):newest.type===Type.Auto?autoLoad(newest.index):slotLoad(newest.index)}},isEnabled:{value:browserIsEnabled},size:{get:function(){return getKeys(isInfoKey).length}},auto:{value:Object.preventExtensions(Object.create(null,{clear:{value:autoClear},delete:{value:autoDelete},entries:{value:function(){return getKeys(isAutoInfoKey).map((function(key){return{index:getIndexFromKey(key),info:storage.get(key)}})).sort((function(a,b){return b.info.date-a.info.date}))}},get:{value:autoGet},has:{value:autoHas},isEnabled:{value:autoIsEnabled},load:{value:autoLoad},save:{value:autoSave},size:{get:function(){return getKeys(isAutoInfoKey).length}}}))},slot:{value:Object.preventExtensions(Object.create(null,{clear:{value:slotClear},delete:{value:slotDelete},entries:{value:function(){return getKeys(isSlotInfoKey).map((function(key){return{index:getIndexFromKey(key),info:storage.get(key)}})).sort((function(a,b){return a.index-b.index}))}},get:{value:slotGet},has:{value:slotHas},isEnabled:{value:slotIsEnabled},load:{value:slotLoad},save:{value:slotSave},size:{get:slotSize}}))}}))},disk:{value:Object.preventExtensions(Object.create(null,{export:{value:function(filename){if(null==filename)throw new Error("Save.browser.export filename parameter is required");var auto=getKeys(isAutoInfoKey).map((function(infoKey){var index=getIndexFromKey(infoKey),info=storage.get(infoKey),data=storage.get(getAutoDataKeyFromIndex(index));if(!info||!data)throw new Error("during saves export auto save info or data nonexistent");return{index:index,info:info,data:data}})),slot=getKeys(isSlotInfoKey).map((function(infoKey){var index=getIndexFromKey(infoKey),info=storage.get(infoKey),data=storage.get(getSlotDataKeyFromIndex(index));if(!info||!data)throw new Error("during saves export slot save info or data nonexistent");return{index:index,info:info,data:data}}));saveBlobToDiskAs(LZString.compressToBase64(Serial.stringify({auto:auto,slot:slot})),filename,"savesbundle")}},import:{value:function(event){return new Promise((function(resolve,reject){var reader=new FileReader;jQuery(reader).on("loadend",(function(){try{if(reader.error)throw new Error("".concat(L10n.get("saveErrorDiskLoadFail"),": ").concat(reader.error));var bundle,badSave=function(O){return!Object.hasOwn(O,"index")||!Object.hasOwn(O,"info")||!Object.hasOwn(O,"data")};try{bundle=Serial.parse(LZString.decompressFromBase64(reader.result))}catch(ex){throw new Error(L10n.get("saveErrorDecodeFail"))}if(null==bundle||"object"!==_typeof(bundle)||!Object.hasOwn(bundle,"auto")||!(bundle.auto instanceof Array)||bundle.auto.some(badSave)||!Object.hasOwn(bundle,"slot")||!(bundle.slot instanceof Array)||bundle.slot.some(badSave))throw new Error(L10n.get("saveErrorInvalidData"));autoClear(),slotClear(),bundle.auto.forEach((function(save){return saveToBrowserStorage({data:save.data,dataKey:getAutoDataKeyFromIndex(save.index),info:save.info,infoKey:getAutoInfoKeyFromIndex(save.index)})})),bundle.slot.forEach((function(save){return saveToBrowserStorage({data:save.data,dataKey:getSlotDataKeyFromIndex(save.index),info:save.info,infoKey:getSlotInfoKeyFromIndex(save.index)})})),resolve(!0)}catch(ex){reject(ex)}})),reader.readAsText(event.target.files[0])}))}},load:{value:diskLoad},save:{value:diskSave}}))},base64:{value:Object.preventExtensions(Object.create(null,{export:{value:function(){var auto=getKeys(isAutoInfoKey).map((function(infoKey){var index=getIndexFromKey(infoKey),info=storage.get(infoKey),data=storage.get(getAutoDataKeyFromIndex(index));if(!info||!data)throw new Error("during saves export auto save info or data nonexistent");return{index:index,info:info,data:data}})),slot=getKeys(isSlotInfoKey).map((function(infoKey){var index=getIndexFromKey(infoKey),info=storage.get(infoKey),data=storage.get(getSlotDataKeyFromIndex(index));if(!info||!data)throw new Error("during saves export slot save info or data nonexistent");return{index:index,info:info,data:data}}));return LZString.compressToBase64(Serial.stringify({auto:auto,slot:slot}))}},import:{value:function(base64){return new Promise((function(resolve){var bundle,badSave=function(O){return!Object.hasOwn(O,"index")||!Object.hasOwn(O,"info")||!Object.hasOwn(O,"data")};try{bundle=Serial.parse(LZString.decompressFromBase64(base64))}catch(ex){throw new Error(L10n.get("saveErrorDecodeFail"))}if(null==bundle||"object"!==_typeof(bundle)||!Object.hasOwn(bundle,"auto")||!(bundle.auto instanceof Array)||bundle.auto.some(badSave)||!Object.hasOwn(bundle,"slot")||!(bundle.slot instanceof Array)||bundle.slot.some(badSave))throw new Error(L10n.get("saveErrorInvalidData"));autoClear(),slotClear(),bundle.auto.forEach((function(save){return saveToBrowserStorage({data:save.data,dataKey:getAutoDataKeyFromIndex(save.index),info:save.info,infoKey:getAutoInfoKeyFromIndex(save.index)})})),bundle.slot.forEach((function(save){return saveToBrowserStorage({data:save.data,dataKey:getSlotDataKeyFromIndex(save.index),info:save.info,infoKey:getSlotInfoKeyFromIndex(save.index)})})),resolve(!0)}))}},load:{value:base64Load},save:{value:base64Save}}))},onLoad:{value:Object.preventExtensions(Object.create(null,{add:{value:function(handler){var valueType=getTypeOf(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));onLoadHandlers.add(handler)}},clear:{value:function(){onLoadHandlers.clear()}},delete:{value:function(handler){return onLoadHandlers.delete(handler)}},size:{get:function(){return onLoadHandlers.size}}}))},onSave:{value:Object.preventExtensions(Object.create(null,{add:{value:function(handler){var valueType=getTypeOf(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));onSaveHandlers.add(handler)}},clear:{value:function(){onSaveHandlers.clear()}},delete:{value:function(handler){return onSaveHandlers.delete(handler)}},size:{get:function(){return onSaveHandlers.size}}}))},get:{value:function(){throw new Error("[REMOVED] Save.get() has been removed.")}},clear:{value:function(){return console.warn("[DEPRECATED] Save.clear() is deprecated."),browserClear()}},ok:{value:function(){return console.warn("[DEPRECATED] Save.ok() is deprecated."),browserIsEnabled()}},autosave:{value:Object.preventExtensions(Object.create(null,{ok:{value:function(){return console.warn("[DEPRECATED] Save.autosave.ok() is deprecated."),autoIsEnabled()}},has:{value:function(){return console.warn("[DEPRECATED] Save.autosave.has() is deprecated."),autoHas(0)}},get:{value:function(){return console.warn("[DEPRECATED] Save.autosave.get() is deprecated."),autoGet(0)}},load:{value:function(){return console.warn("[DEPRECATED] Save.autosave.load() is deprecated."),autoLoad(0)}},save:{value:function(){return console.warn("[DEPRECATED] Save.autosave.save() is deprecated."),autoSave.apply(void 0,arguments)}},delete:{value:function(){return console.warn("[DEPRECATED] Save.autosave.delete() is deprecated."),autoDelete(0)}}}))},slots:{value:Object.preventExtensions(Object.create(null,{ok:{value:function(){return console.warn("[DEPRECATED] Save.slots.ok() is deprecated."),slotIsEnabled()}},length:{get:function(){return console.warn("[DEPRECATED] Save.slots.length is deprecated."),Config.saves.maxSlotSaves}},isEmpty:{value:function(){return console.warn("[DEPRECATED] Save.slots.isEmpty() is deprecated."),0===slotSize()}},count:{value:function(){return console.warn("[DEPRECATED] Save.slots.count() is deprecated."),slotSize()}},has:{value:function(){return console.warn("[DEPRECATED] Save.slots.has() is deprecated."),slotHas.apply(void 0,arguments)}},get:{value:function(){return console.warn("[DEPRECATED] Save.slots.get() is deprecated."),slotGet.apply(void 0,arguments)}},load:{value:function(){return console.warn("[DEPRECATED] Save.slots.load() is deprecated."),slotLoad.apply(void 0,arguments)}},save:{value:function(){return console.warn("[DEPRECATED] Save.slots.save() is deprecated."),slotSave.apply(void 0,arguments)}},delete:{value:function(){return console.warn("[DEPRECATED] Save.slots.delete() is deprecated."),slotDelete.apply(void 0,arguments)}}}))},export:{value:function(){return console.warn("[DEPRECATED] Save.export() is deprecated."),diskSave.apply(void 0,arguments)}},import:{value:function(){return console.warn("[DEPRECATED] Save.import() is deprecated."),diskLoad.apply(void 0,arguments)}},serialize:{value:function(){return console.warn("[DEPRECATED] Save.serialize() is deprecated."),base64Save.apply(void 0,arguments)}},deserialize:{value:function(){return console.warn("[DEPRECATED] Save.deserialize() is deprecated."),base64Load.apply(void 0,arguments)}}}))}(),Setting=function(){var Types=enumFrom({Header:0,Toggle:1,List:2,Range:3,Value:4}),_definitions=[];function updateSettingsObject(value){window.SugarCube.settings=settings=value}function createResultObject(def){var result={name:def.name,value:settings[def.name],default:def.default};return Object.hasOwn(def,"list")&&(result.list=def.list),Object.hasOwn(def,"min")&&(result.min=def.min),Object.hasOwn(def,"max")&&(result.max=def.max),Object.hasOwn(def,"step")&&(result.step=def.step),result}function clear(){return updateSettingsObject(create()),storage.delete("settings"),!0}function create(){return Object.create(null)}function load(){var defaultSettings=create(),loadedSettings=storage.get("settings")||create();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),updateSettingsObject(Object.assign(defaultSettings,loadedSettings))}function save(){var savedSettings=create();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function add(type,name,def){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if(null==def)def={};else if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(has(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name};if(type!==Types.Value&&(definition.label="string"==typeof def.label?def.label.trim():""),"string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.List:if(!Object.hasOwn(def,"list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!Object.hasOwn(def,"min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!Object.hasOwn(def,"max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!Object.hasOwn(def,"step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min}(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;case Types.Toggle:definition.default=Boolean(def.default);break;case Types.Value:definition.default=def.default;break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function get(name){return _definitions.find((function(definition){return definition.name===name}))}function has(name){return _definitions.some((function(definition){return definition.name===name}))}return Object.preventExtensions(Object.create(null,{Types:{value:Types},init:{value:function(){load(),_definitions.forEach((function(def){if(Object.hasOwn(def,"onInit")){var data=createResultObject(def);def.onInit.call(data,data)}}))}},clear:{value:clear},create:{value:create},load:{value:load},reset:{value:function(name){if(0===arguments.length)clear(),load();else{if(null==name||!has(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=get(name);def.type!==Types.Header&&(settings[name]=def.default)}return save()}},save:{value:save},add:{value:add},addHeader:{value:function(name,desc){add(Types.Header,name,{desc:desc})}},addList:{value:function(){for(var _len20=arguments.length,args=new Array(_len20),_key20=0;_key20<_len20;_key20++)args[_key20]=arguments[_key20];add.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len21=arguments.length,args=new Array(_len21),_key21=0;_key21<_len21;_key21++)args[_key21]=arguments[_key21];add.apply(void 0,[Types.Range].concat(args))}},addToggle:{value:function(){for(var _len22=arguments.length,args=new Array(_len22),_key22=0;_key22<_len22;_key22++)args[_key22]=arguments[_key22];add.apply(void 0,[Types.Toggle].concat(args))}},addValue:{value:function(){for(var _len23=arguments.length,args=new Array(_len23),_key23=0;_key23<_len23;_key23++)args[_key23]=arguments[_key23];add.apply(void 0,[Types.Value].concat(args))}},delete:{value:function(name){for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1);break}Object.hasOwn(settings,name)&&delete settings[name]}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},get:{value:get},has:{value:has},isEmpty:{value:function(){return 0===_definitions.length}},getValue:{value:function(name){return settings[name]}},setValue:{value:function(name,value){if(!has(name))throw new Error("no such setting");settings[name]=value,save();var def=get(name);if(Object.hasOwn(def,"onChange")){var data=createResultObject(def);def.onChange.call(data,data)}return!0}}}))}(),Story=function(){var _ifId="",_id="",_name="",_passages=createPassageStore(),_inits=[],_scripts=[],_styles=[],_widgets=[],codePassageNames=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryDisplayTitle","StoryInit","StoryInterface","StoryMenu","StoryShare","StorySubtitle"],codeTagNames=["init","widget"];function createPassageStore(passages){var store=Object.create(null);return passages?Object.assign(store,passages):store}function generateName(rawName){if(null==rawName)throw new Error("story name must not be null or undefined");var name=decodeEntities(String(rawName)).trim();if(""===name)throw new Error("story name must not be empty or consist solely of whitespace");return name}function getId(){return _id}function getName(){return _name}function filter(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("Story.filter() predicate parameter must be a function");for(var results=[],i=0,keys=Object.keys(_passages);i<keys.length;++i){var passage=_passages[keys[i]];predicate.call(void 0===thisArg?this:thisArg,passage)&&results.push(passage)}return results}return Object.preventExtensions(Object.create(null,{init:{value:function(){function assertNoCodeTags(passage,desc){if(passage.tags.includesAny(codeTagNames))throw new Error("".concat(desc,' passage "').concat(passage.name,'" includes code tags; invalid: "').concat(passage.tags.filter((function(tag){return codeTagNames.includes(tag)})).sort().join('", "'),'"'))}function assertValidCodeTagUsage(passage){var found=passage.tags.filter((function(tag){return codeTagNames.includes(tag)})).sort();if(found.length>1)throw new Error('passage "'.concat(passage.name,'" includes multiple code tags; invalid: "').concat(found.join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.name,assertNoCodeTags(passage,"starting"),_passages[passage.name]=passage):codePassageNames.includes(passage.name)?(assertNoCodeTags(passage,"code"),_passages[passage.name]=passage):passage.tags.includes("init")?(assertValidCodeTagUsage(passage),_inits.push(passage)):passage.tags.includes("widget")?(assertValidCodeTagUsage(passage),_widgets.push(passage)):_passages[passage.name]=passage})),_ifId=$storydata.attr("ifid"),_name=generateName("The Road TWX"),_id=function(name){var id=createSlug(name);if(""===id)if(""!==_ifId)id=_ifId;else for(var i=0;i<name.length;++i){var _charAndPosAt2=charAndPosAt(name,i),char=_charAndPosAt2.char,start=_charAndPosAt2.start,end=_charAndPosAt2.end;id+=char.codePointAt(0).toString(16),i+=end-start}return id}(_name),Config.saves.id=_id,document.title=_name}},id:{get:getId},ifId:{get:function(){return _ifId}},name:{get:getName},add:{value:function(descriptor){if("Object"!==getTypeOf(descriptor))throw new TypeError("Story.add() descriptor parameter must be a generic object");if(Object.hasOwn(_passages,descriptor.name))return!1;var elem=document.createElement("div");elem.setAttribute("name",descriptor.name),elem.setAttribute("tags",descriptor.tags),elem.textContent=descriptor.text;var passage=new Passage(descriptor.name,elem);if(codePassageNames.includes(passage.name))throw new Error('Story.add() passage descriptor object "'.concat(passage.name,'" must not be a code passage'));if(passage.tags.includesAny(codeTagNames))throw new Error('Story.add() passage descriptor object "'.concat(passage.name,'" must not include code tags'));return _passages[passage.name]=passage,!0}},delete:{value:function(name){var type=_typeof(name);switch(type){case"number":case"string":var key=String(name);if(!Object.hasOwn(_passages,key))return!1;if(key===Config.passages.start||codePassageNames.includes(key))throw new Error('Story.delete() passage "'.concat(key,'" must not be a code passage'));if(_passages[key].tags.includesAny(codeTagNames))throw new Error('Story.delete() passage "'.concat(key,'" must not include code tags'));return delete _passages[key],!0;case"undefined":break;case"object":type=null===name?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.delete() name parameter cannot be ".concat(type))}},filter:{value:filter},find:{value:function(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("Story.find() predicate parameter must be a function");for(var i=0,keys=Object.keys(_passages);i<keys.length;++i){var passage=_passages[keys[i]];if(predicate.call(void 0===thisArg?this:thisArg,passage))return passage}}},get:{value:function(name){var type=_typeof(name);switch(type){case"number":case"string":var key=String(name);return Object.hasOwn(_passages,key)?_passages[key]:new Passage(key||"(unknown)");case"undefined":break;case"object":type=null===name?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get() name parameter cannot be ".concat(type))}},getInits:{value:function(){return Object.freeze(Array.from(_inits))}},getNormals:{value:function(){return Object.freeze(createPassageStore(_passages))}},getScripts:{value:function(){return Object.freeze(Array.from(_scripts))}},getStyles:{value:function(){return Object.freeze(Array.from(_styles))}},getWidgets:{value:function(){return Object.freeze(Array.from(_widgets))}},has:{value:function(name){var type=_typeof(name);switch(type){case"number":case"string":return Object.hasOwn(_passages,String(name));case"undefined":break;case"object":type=null===name?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has name parameter cannot be ".concat(type))}},domId:{get:function(){return console.warn("[DEPRECATED] Story.domId is deprecated."),getId()}},title:{get:function(){return console.warn("[DEPRECATED] Story.title is deprecated."),getName()}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"name";return console.warn("[DEPRECATED] Story.lookup() is deprecated."),filter((function(passage){return"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return sameValueZero(m,value)})):sameValueZero(passage[key],value)})).sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1}))}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"name";if(console.warn("[DEPRECATED] Story.lookupWith() is deprecated."),"function"!=typeof predicate)throw new TypeError("Story.lookupWith() predicate parameter must be a function");return filter(predicate).sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1}))}}}))}(),UI=function(){function assembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug;Config.debug=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim(),{cleanup:!1});var errors=Array.from(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.debug=debugState}return list}function buildRestart(){return Dialog.create(L10n.get("restartTitle"),"restart").append("<p>".concat(L10n.get("restartMesgPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartTextOk","textOk"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartTextCancel","textCancel"]),"</button></li>")+"</ul>"),jQuery(Dialog.body()).find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function buildSaves(){function createFileInput(id,callback){var input=document.createElement("input");return jQuery(input).attr({id:id,type:"file",tabindex:-1,"aria-hidden":!0}).css({display:"block",visibility:"hidden",position:"fixed",left:"-16128px",top:"-16128px",width:"1px",height:"1px"}).on("change",callback),input}function createActionItem(id,classNames,text,label,callback){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(id)).text(text);return classNames&&$btn.addClass(classNames),callback?$btn.ariaClick({label:label},callback):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var browserEnabled=Save.browser.isEnabled();if(!browserEnabled&&!Has.fileAPI)return openAlert(L10n.get("warningNoSaves")),!1;Dialog.create(L10n.get("savesTitle"),"saves");var $dialogBody=jQuery(Dialog.body());if(browserEnabled){jQuery(document.createElement("h2")).text(L10n.get("savesHeaderBrowser")).appendTo($dialogBody),$dialogBody.append(function(){function createButton(id,classNames,kind,index,callback){var text;switch(id){case"delete":text=L10n.get("textDelete");break;case"load":text=L10n.get("textLoad");break;case"save":text=L10n.get("textSave");break;default:throw new Error('buildSaves unknown ID "'.concat(id,'"'))}var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(id,"-").concat(index)).addClass(id);return classNames&&$btn.addClass(classNames),callback?$btn.ariaClick({label:"".concat(text," ").concat(kind," ").concat(index+1)},(function(){try{callback(index)}catch(ex){openAlert("".concat(ex.message,".</p><p>").concat(L10n.get("textAborting"),"."))}})):$btn.ariaDisabled(!0),$btn}var $tbody=jQuery(document.createElement("tbody"));Save.browser.auto.entries().forEach((function(_ref13){var index=_ref13.index,info=_ref13.info,$tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("div")).text(info.desc).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("details").addClass("datestamp").text("".concat(L10n.get("savesTextBrowserAuto")," ").concat(index+1,"  •  ")).append(info.date?"".concat(new Date(info.date).toLocaleString()):"<em>".concat(L10n.get("savesTextNoDate"),"</em>")).appendTo($tdDesc),$tdLoad.append(createButton("load","ui-close",L10n.get("savesTextBrowserAuto"),index,(function(index){jQuery(document).one(":dialogclosed",(function(){Save.browser.auto.load(index).then(Engine.show,(function(ex){return openAlert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("textAborting"),"."))}))}))}))),$tdDele.append(createButton("delete",null,L10n.get("savesTextBrowserAuto"),index,(function(index){Save.browser.auto.delete(index),buildSaves()}))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}));var slotAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed(Save.Type.Slot);return Save.browser.slot.entries().reduce((function(slots,entry){return slots[entry.index]=entry,slots}),Array.from({length:Config.saves.maxSlotSaves},(function(_,i){return{index:i}}))).forEach((function(_ref14){var index=_ref14.index,info=_ref14.info,$tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));info?(jQuery(document.createElement("div")).text(info.desc).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("details").addClass("datestamp").text("".concat(L10n.get("savesTextBrowserSlot")," ").concat(index+1,"  •  ")).append(info.date?"".concat(new Date(info.date).toLocaleString()):"<em>".concat(L10n.get("savesTextNoDate"),"</em>")).appendTo($tdDesc),$tdLoad.append(createButton("load","ui-close",L10n.get("savesTextBrowserSlot"),index,(function(index){jQuery(document).one(":dialogclosed",(function(){Save.browser.slot.load(index).then(Engine.show,(function(ex){return openAlert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("textAborting"),"."))}))}))}))),$tdDele.append(createButton("delete",null,L10n.get("savesTextBrowserSlot"),index,(function(index){Save.browser.slot.delete(index),buildSaves()})))):($tdDesc.addClass("empty"),jQuery(document.createElement("div")).text(" ").appendTo($tdDesc),jQuery(document.createElement("div")).addClass("details").addClass("datestamp").text("".concat(L10n.get("savesTextBrowserSlot")," ").concat(index+1)).appendTo($tdDesc),$tdLoad.append(createButton("save",null,L10n.get("savesTextBrowserSlot"),index,index<Config.saves.maxSlotSaves&&slotAllowed?function(index){Save.browser.slot.save(index),buildSaves()}:null)),$tdDele.append(createButton("delete",null,L10n.get("savesTextBrowserSlot"),index))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)})),jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}());var $slotButtons=jQuery(document.createElement("ul")).addClass("buttons slots").appendTo($dialogBody);if(Has.fileAPI){var slotImportInput=createFileInput("saves-import-handler",(function(ev){Save.disk.import(ev).then(buildSaves,(function(ex){return openAlert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("textAborting"),"."))}))}));$slotButtons.append(createActionItem("export",null,"".concat(L10n.get("textExport"),"…"),L10n.get("savesLabelBrowserExport"),(function(){return Save.disk.export("saves-export-".concat(Story.name))}))).append(createActionItem("import",null,"".concat(L10n.get("textImport"),"…"),L10n.get("savesLabelBrowserImport"),(function(){return slotImportInput.click()}))),jQuery(slotImportInput).appendTo($dialogBody)}$slotButtons.append(createActionItem("clear",null,L10n.get("textClear"),L10n.get("savesLabelBrowserClear"),Save.browser.size>0?function(){Save.browser.clear(),buildSaves()}:null))}if(Has.fileAPI){jQuery(document.createElement("h2")).text(L10n.get("savesHeaderDisk")).appendTo($dialogBody);var $diskButtons=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody),diskLoadInput=createFileInput("saves-disk-load-handler",(function(ev){jQuery(document).one(":dialogclosed",(function(){Save.disk.load(ev).then(Engine.show,(function(ex){return openAlert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("textAborting"),"."))}))})),Dialog.close()}));$diskButtons.append(createActionItem("disk-save",null,"".concat(L10n.get("textSave"),"…"),L10n.get("savesLabelDiskSave"),"function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed(Save.Type.Disk)?function(){return Save.disk.save(Story.name)}:null)).append(createActionItem("disk-load",null,"".concat(L10n.get("textLoad"),"…"),L10n.get("savesLabelDiskLoad"),(function(){return diskLoadInput.click()}))),jQuery(diskLoadInput).appendTo($dialogBody)}return!0}function buildSettings(){Dialog.create(L10n.get("settingsTitle"),"settings");var $dialogBody=jQuery(Dialog.body());return Setting.forEach((function(control){switch(control.type){case Setting.Types.Header:var _name2=control.name,_id2=createSlug(_name2),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id2)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id2)).wikiWithOptions({cleanup:!1},_name2),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id2)).wikiWithOptions({cleanup:!1},control.desc).appendTo($header));case Setting.Types.Value:return}var $control,name=control.name,id=createSlug(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wikiWithOptions({cleanup:!1},control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wikiWithOptions({cleanup:!1},control.label),null==Setting.getValue(name)&&Setting.setValue(name,control.default),control.type){case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(Setting.getValue(name))).attr("tabindex",0).on("change",(function(){Setting.setValue(name,control.list[Number(this.value)])}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:Setting.getValue(name),tabindex:0}).on("change input",(function(){Setting.setValue(name,Number(this.value))})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),triggerEvent("change",$control))}));break;case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),Setting.getValue(name)?$control.addClass("enabled").text(L10n.get("textOn")):$control.text(L10n.get("textOff")),$control.ariaClick((function(){var status=Setting.getValue(name);status?jQuery(this).removeClass("enabled").text(L10n.get("textOff")):jQuery(this).addClass("enabled").text(L10n.get("textOn")),Setting.setValue(name,!status)}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsTextOk","textOk"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsTextReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function openAlert(message){for(var _Dialog$create$append,_len24=arguments.length,args=new Array(_len24>1?_len24-1:0),_key24=1;_key24<_len24;_key24++)args[_key24-1]=arguments[_key24];(_Dialog$create$append=Dialog.create(L10n.get("alertTitle"),"alert").append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertTextOk","textOk"]),"</button></li>")+"</ul>")).open.apply(_Dialog$create$append,args)}function buildJumpto(){console.warn("[DEPRECATED] UI.buildJumpto() is deprecated.");var list=document.createElement("ul");Dialog.create(L10n.get("jumptoTitle"),"jumpto list").append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(index){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(index)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("textTurn")," ").concat(expired+i+1))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoMesgUnavailable"),"</em></a></li>"))}function buildShare(){console.warn("[DEPRECATED] UI.buildShare() is deprecated.");try{Dialog.create(L10n.get("shareTitle"),"share list").append(assembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.preventExtensions(Object.create(null,{assembleLinkList:{value:assembleLinkList},buildRestart:{value:buildRestart},buildSaves:{value:buildSaves},buildSettings:{value:buildSettings},update:{value:function(){triggerEvent(":uiupdate")}},alert:{value:openAlert},restart:{value:function(){buildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){buildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){buildSettings(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:function(){return console.warn("[DEPRECATED] UI.buildAutoload() is deprecated."),Dialog.create(L10n.get("autoloadTitle"),"autoload").append("<p>".concat(L10n.get("autoloadMesgPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadTextOk","textOk"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadTextCancel","textCancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){new Promise((function(resolve,reject){isAutoloadOk&&resolve(),reject()})).then((function(){return Save.browser.continue()})).catch((function(){Engine.play(Config.passages.start)}))}))})),!0}},buildJumpto:{value:buildJumpto},buildShare:{value:buildShare},jumpto:{value:function(){buildJumpto(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){buildShare(),Dialog.open.apply(Dialog,arguments)}}}))}(),UIBar=function(){var _$uiBar=null;function stow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.DOM_DELAY));return UIBar}function update(){if(console.warn("[DEPRECATED] UIBar.update() is deprecated."),_$uiBar)return UI.update(),UIBar}return Object.preventExtensions(Object.create(null,{init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarLabelToggle"),backwardLabel=L10n.get("uiBarLabelBackward"),jumptoLabel=L10n.get("uiBarLabelJumpto"),forwardLabel=L10n.get("uiBarLabelForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-continue"><a tabindex="0">'.concat(L10n.get("continueTitle"),"</a></li>")+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate".concat(".ui-bar"),($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),UIBar}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),UIBar}},start:{value:function(){if(_$uiBar){("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&stow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarLabelToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarLabelBackward")},(function(){return Engine.backward()})),Story.filter((function(passage){return passage.tags.includes("bookmark")})).length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarLabelJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarLabelForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove();var storyTitleHandler,addUiUpdateHandler=function(handler){return jQuery(document)[Config.ui.updateStoryElements?"on":"one"](":uiupdate".concat(".ui-bar"),handler)},addUpdaterOrRemove=function(selector,passageName){var $el=jQuery(selector);Story.has(passageName)?addUiUpdateHandler((function(){var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passageName).processText().trim()),$el.empty().append(frag)})):$el.remove()};if(storyTitleHandler=Story.has("StoryDisplayTitle")?function(){return setDisplayTitle(Story.get("StoryDisplayTitle").processText())}:function(){return setDisplayTitle(Story.name,!0)},addUiUpdateHandler(storyTitleHandler),addUpdaterOrRemove("#story-banner","StoryBanner"),addUpdaterOrRemove("#story-subtitle","StorySubtitle"),addUpdaterOrRemove("#story-author","StoryAuthor"),addUpdaterOrRemove("#story-caption","StoryCaption"),Story.has("StoryMenu")){var $menuStory=jQuery("#menu-story");jQuery(document).on(":uiupdate".concat(".ui-bar"),(function(){try{var frag=UI.assembleLinkList("StoryMenu",document.createDocumentFragment());$menuStory.empty().append(frag)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}))}else jQuery("#menu-story").remove();Save.browser.size>0?(jQuery("#menu-item-continue a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),Save.browser.continue().then((function(){jQuery(document).off(".menu-item-continue"),jQuery("#menu-item-continue").remove(),Engine.show()}),(function(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("textAborting"),"."))}))})).text(L10n.get("continueTitle")),jQuery(document).on(":passagestart.menu-item-continue",(function(){State.turns>1&&(jQuery(document).off(".menu-item-continue"),jQuery("#menu-item-continue").remove())}))):jQuery("#menu-item-continue").remove(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove()}}},stow:{value:stow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.DOM_DELAY)),UIBar}},setStoryElements:{value:update},update:{value:update}}))}(),DebugBar=function(){var STORAGE_KEY="debug.state",WATCH_LIST_DELAY=200,VAR_LIST_DELAY=500,variableRE=new RegExp("^".concat(Patterns.variable,"$")),numericKeyRE=/^\d+$/,watchList=[],varList=[],watchTimerId=null,listTimerId=null,stowed=!0,$debugBar=null,$watchBody=null,$varDataList=null,$turnSelect=null,$passageDataList=null;function debugBarStow(){disableWatchUpdates(),disableVarListUpdates(),$debugBar.css("right","-".concat($debugBar.outerWidth(),"px")),stowed=!0,updateSession()}function debugBarUnstow(){debugBarWatchIsEnabled()&&enableWatchUpdates(),enableVarListUpdates(),$debugBar.css("right",0),stowed=!1,updateSession()}function debugBarToggle(){stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){variableRE.test(varName)&&(watchList.pushUnique(varName),watchList.sort(),updateWatchBody(),updateVarList(),updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return watchList.pushUnique("_".concat(name))})),watchList.sort(),updateWatchBody(),updateVarList(),updateSession()}function debugBarWatchClear(){watchList.length=0,$watchBody.empty().append("<div>— ".concat(L10n.get("debugBarMesgNoWatches")," —</div>")),updateWatchBody(),updateVarList(),updateSession()}function debugBarWatchDelete(varName){watchList.deleteFirst(varName),$watchBody.find('tr[data-name="'.concat(varName,'"]')).remove(),updateWatchBody(),updateVarList(),updateSession()}function debugBarWatchDisable(){disableWatchUpdates(),disableWatch(),updateSession()}function debugBarWatchEnable(){enableWatchUpdates(),enableWatch(),updateSession()}function debugBarWatchIsEnabled(){return!$watchBody.attr("hidden")}function debugBarWatchToggle(){$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function disableWatch(){$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function disableWatchUpdates(){null!==watchTimerId&&(clearInterval(watchTimerId),watchTimerId=null)}function enableWatch(){$watchBody.removeAttr("aria-hidden hidden")}function enableWatchUpdates(){null===watchTimerId&&(watchTimerId=setInterval((function(){return updateWatchBody()}),WATCH_LIST_DELAY))}function disableVarListUpdates(){null!==listTimerId&&(clearInterval(listTimerId),listTimerId=null)}function enableVarListUpdates(){null===listTimerId&&(listTimerId=setInterval((function(){return updateVarList()}),VAR_LIST_DELAY))}function clearSession(){session.delete(STORAGE_KEY)}function updateSession(){session.set(STORAGE_KEY,{stowed:stowed,watchList:watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function updateWatchBody(){if(0!==watchList.length){var $tbody,$rowMap=new Map,$table=jQuery($watchBody.children("table"));$table.length>0?($tbody=jQuery($table.children("tbody"))).children("tr").each((function(_,el){return $rowMap.set(el.getAttribute("data-name"),jQuery(el))})):($table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),$table.append($tbody),$watchBody.empty().append($table));var delLabel=L10n.get("debugBarLabelWatchDelete"),cursor=$rowMap.size>0?$tbody.children("tr").get(0):null;watchList.forEach((function(varName){var varKey=varName.slice(1),value=toWatchString(("$"===varName[0]?State.variables:State.temporary)[varKey]),$row=$rowMap.get(varName);if($row){var $code=$row.children().children("code");value!==$code.text()&&$code.text(value)}else $row=function(varName,value){var $row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));return $row.attr("data-name",varName),$delBtn.addClass("watch-delete").ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(value),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row}(varName,value),cursor?$row.insertAfter(cursor):$row.appendTo($tbody);cursor=$row.get(0)}))}}function updateVarList(){var names=[].concat(Object.keys(State.variables).map((function(name){return"$".concat(name)})),Object.keys(State.temporary).map((function(name){return"_".concat(name)})));if(0===names.length)return varList.length=0,void $varDataList.empty();if(names.sort().deleteAll(watchList),names.length!==varList.length||!names.every((function(m,i){return m===varList[i]}))){varList=names;var options=document.createDocumentFragment();varList.forEach((function(name){jQuery(document.createElement("option")).val(name).appendTo(options)})),$varDataList.empty().append(options)}}function updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(State.history[i].title)).appendTo(options);$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function updatePassageList(){var passages=Object.keys(Story.getNormals()).sort(),options=document.createDocumentFragment();passages.forEach((function(name){jQuery(document.createElement("option")).val(name).appendTo(options)})),$passageDataList.empty().append(options)}function toWatchString(O){if(null===O)return"null";switch(_typeof(O)){case"bigint":case"boolean":case"number":case"symbol":case"undefined":return String(O);case"string":return JSON.stringify(O);case"function":return"Function"}var objType=getToStringTag(O);if("Date"===objType)return"Date {".concat(O.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(O.toString());var result=[];if(O instanceof Array||O instanceof Set){for(var list=O instanceof Array?O:Array.from(O),i=0,len=list.length;i<len;++i)result.push(Object.hasOwn(list,i)?toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!numericKeyRE.test(key)})).forEach((function(key){return result.push("".concat(toWatchString(key),": ").concat(toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return O instanceof Map?(O.forEach((function(val,key){return result.push("".concat(toWatchString(key)," → ").concat(toWatchString(val)))})),"".concat(objType,"(").concat(O.size,") {").concat(result.join(", "),"}")):(Object.keys(O).forEach((function(key){return result.push("".concat(toWatchString(key),": ").concat(toWatchString(O[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.preventExtensions(Object.create(null,{init:{value:function(){if(Config.debug){var barToggleLabel=L10n.get("debugBarLabelToggle"),watchAddLabel=L10n.get("debugBarLabelWatchAdd"),watchAllLabel=L10n.get("debugBarLabelWatchAll"),watchClearLabel=L10n.get("debugBarLabelWatchClear"),watchToggleLabel=L10n.get("debugBarLabelWatchToggle"),viewsToggleLabel=L10n.get("debugBarLabelViewsToggle"),passagePlayLabel=L10n.get("debugBarLabelPassagePlay");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>— ".concat(L10n.get("debugBarMesgNoWatches")," —</div>")+"</div><div>"+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarTextWatch"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" placeholder="'.concat(L10n.get("debugBarLabelWatchPlaceholder"),'" list="debug-bar-var-list" tabindex="0">')+'<datalist id="debug-bar-var-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-clear" tabindex="0" title="'.concat(watchClearLabel,'" aria-label="').concat(watchClearLabel,'"></button>')+"</div><div>"+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("textTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div><div>'+'<label id="debug-bar-passage-label" for="debug-bar-passage-input">'.concat(L10n.get("debugBarTextPassage"),"</label>")+'<input id="debug-bar-passage-input" name="debug-bar-passage-input" type="text" placeholder="'.concat(L10n.get("debugBarLabelPassagePlaceholder"),'" list="debug-bar-passage-list" tabindex="0">')+'<datalist id="debug-bar-passage-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-passage-play" tabindex="0" title="'.concat(passagePlayLabel,'" aria-label="').concat(passagePlayLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarTextViews"),"</button>")+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarTextWatch"),"</button>")+"</div>"+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),$debugBar=jQuery("#debug-bar"),$watchBody=jQuery($debugBar.find("#debug-bar-watch").get(0)),$varDataList=jQuery($debugBar.find("#debug-bar-var-list").get(0)),$turnSelect=jQuery($debugBar.find("#debug-bar-turn-select").get(0)),$passageDataList=jQuery($debugBar.find("#debug-bar-passage-list").get(0));var $watchInput=jQuery($debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery($debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery($debugBar.find("#debug-bar-watch-all").get(0)),$watchClear=jQuery($debugBar.find("#debug-bar-watch-clear").get(0)),$passageInput=jQuery($debugBar.find("#debug-bar-passage-input").get(0)),$passagePlay=jQuery($debugBar.find("#debug-bar-passage-play").get(0)),$viewsToggle=jQuery($debugBar.find("#debug-bar-views-toggle").get(0)),$watchToggle=jQuery($debugBar.find("#debug-bar-watch-toggle").get(0)),$barToggle=jQuery($debugBar.find("#debug-bar-toggle").get(0));$watchInput.on("sc:debug-watch-add",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),triggerEvent("sc:debug-watch-add",$watchInput))})),$watchAdd.ariaClick((function(){return triggerEvent("sc:debug-watch-add",$watchInput)})),$watchAll.ariaClick(debugBarWatchAddAll),$watchClear.ariaClick(debugBarWatchClear),$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$passageInput.on("sc:debug-passage-play",(function(){Engine.play(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),triggerEvent("sc:debug-passage-play",$passageInput))})).on("focus",updatePassageList),$passagePlay.ariaClick((function(){return triggerEvent("sc:debug-passage-play",$passageInput)})),$viewsToggle.ariaClick((function(){DebugView.toggle(),updateSession()})),$watchToggle.ariaClick(debugBarWatchToggle),$barToggle.ariaClick(debugBarToggle),jQuery(document).on(":passageend.debug-bar",(function(){updateWatchBody(),updateVarList()})).on(":historyupdate.debug-bar",updateTurnSelect).on(":enginerestart.debug-bar",clearSession)}else jQuery(document.head).find('[id|="style-ui-debug"]').remove()}},isStowed:{value:function(){return stowed}},start:{value:function(){Config.debug&&(function(){if(!session.has(STORAGE_KEY))return!1;var debugState=session.get(STORAGE_KEY);watchList.push.apply(watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?(stowed?disableWatchUpdates():enableWatchUpdates(),enableWatch()):(disableWatchUpdates(),disableWatch());debugState.viewsEnabled?DebugView.enable():DebugView.disable();(stowed=debugState.stowed)?(disableVarListUpdates(),debugBarStow()):(enableVarListUpdates(),debugBarUnstow());return!0}()||(debugBarStow(),DebugView.enable(),enableWatchUpdates(),enableWatch()),updateVarList(),updateTurnSelect())}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.preventExtensions(Object.create(null,{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.preventExtensions(Object.create(null,{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.DOM_DELAY,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&triggerEvent("readystatechange")}},size:{get:function(){return _locks.size}}}))}(),Util=Object.preventExtensions(Object.create(null,{charAndPosAt:{value:function(){return console.warn("[DEPRECATED] Util.charAndPosAt() is deprecated."),charAndPosAt.apply(void 0,arguments)}},escape:{value:function(){return console.warn("[DEPRECATED] Util.escape() is deprecated."),encodeEntities.apply(void 0,arguments)}},escapeMarkup:{value:function(){return console.warn("[DEPRECATED] Util.escapeMarkup() is deprecated."),encodeMarkup.apply(void 0,arguments)}},fromCssProperty:{value:function(){return console.warn("[DEPRECATED] Util.fromCssProperty() is deprecated."),cssPropToDOMProp.apply(void 0,arguments)}},fromCssTime:{value:function(){return console.warn("[DEPRECATED] Util.fromCssTime() is deprecated."),cssTimeToMS.apply(void 0,arguments)}},getType:{value:function(){return console.warn("[DEPRECATED] Util.getType() is deprecated."),getTypeOf.apply(void 0,arguments)}},hasMediaQuery:{value:function(){return console.warn("[DEPRECATED] Util.hasMediaQuery() is deprecated."),hasMediaQuery.apply(void 0,arguments)}},newExceptionFrom:{value:function(){return console.warn("[DEPRECATED] Util.newExceptionFrom() is deprecated."),exceptionFrom.apply(void 0,arguments)}},now:{value:function(){return console.warn("[DEPRECATED] Util.now() is deprecated."),now.apply(void 0,arguments)}},parseUrl:{value:function(){return console.warn("[DEPRECATED] Util.parseUrl() is deprecated."),parseURL.apply(void 0,arguments)}},sameValueZero:{value:function(){return console.warn("[DEPRECATED] Util.sameValueZero() is deprecated."),sameValueZero.apply(void 0,arguments)}},sanitizeFilename:{value:function(){return console.warn("[DEPRECATED] Util.sanitizeFilename() is deprecated."),createFilename.apply(void 0,arguments)}},scrubEventKey:{value:function(){return console.warn("[DEPRECATED] Util.scrubEventKey() is deprecated."),scrubEventKey.apply(void 0,arguments)}},slugify:{value:function(){return console.warn("[DEPRECATED] Util.slugify() is deprecated."),createSlug.apply(void 0,arguments)}},toCssTime:{value:function(){return console.warn("[DEPRECATED] Util.toCssTime() is deprecated."),msToCSSTime.apply(void 0,arguments)}},toEnum:{value:function(){return console.warn("[DEPRECATED] Util.toEnum() is deprecated."),enumFrom.apply(void 0,arguments)}},toStringTag:{value:function(){return console.warn("[DEPRECATED] Util.toStringTag() is deprecated."),getToStringTag.apply(void 0,arguments)}},unescape:{value:function(){return console.warn("[DEPRECATED] Util.unescape() is deprecated."),decodeEntities.apply(void 0,arguments)}}})),version=(semVerRE=/^[Vv]?(\d+)(?:\.(\d+)(?:\.(\d+)(?:-[0-9A-Za-z.-]+)?(?:\+[0-9A-Za-z.-]+)?)?)?$/,Object.preventExtensions(Object.create(null,{name:{value:"SugarCube"},major:{value:2},minor:{value:37},patch:{value:3},prerelease:{value:""},build:{value:10338},date:{value:new Date("2024-07-27T00:45:20.724Z")},isOk:{value:function(semver){if("string"!=typeof semver)throw new Error("version.isOk semver parameter must be a string (received: ".concat(_typeof(semver),")"));var trimmed=semver.trim();if(""===trimmed)throw new Error("version.isOk semver parameter must not be empty");var match=semVerRE.exec(trimmed);if(!match)throw new Error("version.isOk semver parameter is invalid (format: [v]MAJOR[.MINOR[.PATCH[-PRERELEASE][+BUILD]]]; received: ".concat(trimmed));var major=Number(match[1]),minor=Number(match[2])||0,patch=Number(match[3])||0;return major===this.major&&(minor<this.minor||minor===this.minor&&patch<=this.patch)}},long:{value:function(){return"".concat(this.name," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}},short:{value:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.name," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")}},toString:{value:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)}},title:{value:"SugarCube"}}))),semVerRE,TempState={},session=null,settings=Setting.create(),setup={},storage=null,macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={};Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))}),jQuery((function(){var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),new Promise((function(resolve){Story.init();try{SugarCube.storage=storage=SimpleStore.create(Story.id,!0),SugarCube.session=session=SimpleStore.create(Story.id,!1)}catch(ex){throw new Error(L10n.get("warningNoStorage"))}Dialog.init(),UIBar.init(),Engine.init(),Outliner.init(),Engine.runUserScripts(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),DebugBar.init();var $window=jQuery(window),vpReadyId=setInterval((function(){$window.width()&&LoadScreen.size<=1&&(clearInterval(vpReadyId),resolve())}),Engine.DOM_DELAY)})).then((function(){Engine.runUserInit(),UIBar.start(),Engine.start(),DebugBar.start(),triggerEvent(":storyready"),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.DOM_DELAY)})).catch((function(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}))}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
